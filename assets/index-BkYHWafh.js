(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var Tm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var tE={exports:{}},of={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $A;function NL(){if($A)return of;$A=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,o){var u=null;if(o!==void 0&&(u=""+o),i.key!==void 0&&(u=""+i.key),"key"in i){o={};for(var c in i)c!=="key"&&(o[c]=i[c])}else o=i;return i=o.ref,{$$typeof:n,type:r,key:u,ref:i!==void 0?i:null,props:o}}return of.Fragment=e,of.jsx=t,of.jsxs=t,of}var qA;function OL(){return qA||(qA=1,tE.exports=NL()),tE.exports}var I=OL(),nE={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HA;function DL(){if(HA)return qe;HA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function E(F){return F===null||typeof F!="object"?null:(F=v&&F[v]||F["@@iterator"],typeof F=="function"?F:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,k={};function x(F,V,K){this.props=F,this.context=V,this.refs=k,this.updater=K||S}x.prototype.isReactComponent={},x.prototype.setState=function(F,V){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,V,"setState")},x.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function U(){}U.prototype=x.prototype;function $(F,V,K){this.props=F,this.context=V,this.refs=k,this.updater=K||S}var B=$.prototype=new U;B.constructor=$,A(B,x.prototype),B.isPureReactComponent=!0;var Q=Array.isArray,H={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function D(F,V,K,z,Y,ue){return K=ue.ref,{$$typeof:n,type:F,key:V,ref:K!==void 0?K:null,props:ue}}function N(F,V){return D(F.type,V,void 0,void 0,void 0,F.props)}function C(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function P(F){var V={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(K){return V[K]})}var j=/\/+/g;function q(F,V){return typeof F=="object"&&F!==null&&F.key!=null?P(""+F.key):V.toString(36)}function M(){}function Me(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(M,M):(F.status="pending",F.then(function(V){F.status==="pending"&&(F.status="fulfilled",F.value=V)},function(V){F.status==="pending"&&(F.status="rejected",F.reason=V)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function xe(F,V,K,z,Y){var ue=typeof F;(ue==="undefined"||ue==="boolean")&&(F=null);var pe=!1;if(F===null)pe=!0;else switch(ue){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(F.$$typeof){case n:case e:pe=!0;break;case g:return pe=F._init,xe(pe(F._payload),V,K,z,Y)}}if(pe)return Y=Y(F),pe=z===""?"."+q(F,0):z,Q(Y)?(K="",pe!=null&&(K=pe.replace(j,"$&/")+"/"),xe(Y,V,K,"",function(Ve){return Ve})):Y!=null&&(C(Y)&&(Y=N(Y,K+(Y.key==null||F&&F.key===Y.key?"":(""+Y.key).replace(j,"$&/")+"/")+pe)),V.push(Y)),1;pe=0;var we=z===""?".":z+":";if(Q(F))for(var ve=0;ve<F.length;ve++)z=F[ve],ue=we+q(z,ve),pe+=xe(z,V,K,ue,Y);else if(ve=E(F),typeof ve=="function")for(F=ve.call(F),ve=0;!(z=F.next()).done;)z=z.value,ue=we+q(z,ve++),pe+=xe(z,V,K,ue,Y);else if(ue==="object"){if(typeof F.then=="function")return xe(Me(F),V,K,z,Y);throw V=String(F),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return pe}function le(F,V,K){if(F==null)return F;var z=[],Y=0;return xe(F,z,"","",function(ue){return V.call(K,ue,Y++)}),z}function ye(F){if(F._status===-1){var V=F._result;V=V(),V.then(function(K){(F._status===0||F._status===-1)&&(F._status=1,F._result=K)},function(K){(F._status===0||F._status===-1)&&(F._status=2,F._result=K)}),F._status===-1&&(F._status=0,F._result=V)}if(F._status===1)return F._result.default;throw F._result}var me=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function Pe(){}return qe.Children={map:le,forEach:function(F,V,K){le(F,function(){V.apply(this,arguments)},K)},count:function(F){var V=0;return le(F,function(){V++}),V},toArray:function(F){return le(F,function(V){return V})||[]},only:function(F){if(!C(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},qe.Component=x,qe.Fragment=t,qe.Profiler=i,qe.PureComponent=$,qe.StrictMode=r,qe.Suspense=f,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,qe.act=function(){throw Error("act(...) is not supported in production builds of React.")},qe.cache=function(F){return function(){return F.apply(null,arguments)}},qe.cloneElement=function(F,V,K){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var z=A({},F.props),Y=F.key,ue=void 0;if(V!=null)for(pe in V.ref!==void 0&&(ue=void 0),V.key!==void 0&&(Y=""+V.key),V)!X.call(V,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&V.ref===void 0||(z[pe]=V[pe]);var pe=arguments.length-2;if(pe===1)z.children=K;else if(1<pe){for(var we=Array(pe),ve=0;ve<pe;ve++)we[ve]=arguments[ve+2];z.children=we}return D(F.type,Y,void 0,void 0,ue,z)},qe.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:o,_context:F},F},qe.createElement=function(F,V,K){var z,Y={},ue=null;if(V!=null)for(z in V.key!==void 0&&(ue=""+V.key),V)X.call(V,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(Y[z]=V[z]);var pe=arguments.length-2;if(pe===1)Y.children=K;else if(1<pe){for(var we=Array(pe),ve=0;ve<pe;ve++)we[ve]=arguments[ve+2];Y.children=we}if(F&&F.defaultProps)for(z in pe=F.defaultProps,pe)Y[z]===void 0&&(Y[z]=pe[z]);return D(F,ue,void 0,void 0,null,Y)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(F){return{$$typeof:c,render:F}},qe.isValidElement=C,qe.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:ye}},qe.memo=function(F,V){return{$$typeof:h,type:F,compare:V===void 0?null:V}},qe.startTransition=function(F){var V=H.T,K={};H.T=K;try{var z=F(),Y=H.S;Y!==null&&Y(K,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(Pe,me)}catch(ue){me(ue)}finally{H.T=V}},qe.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},qe.use=function(F){return H.H.use(F)},qe.useActionState=function(F,V,K){return H.H.useActionState(F,V,K)},qe.useCallback=function(F,V){return H.H.useCallback(F,V)},qe.useContext=function(F){return H.H.useContext(F)},qe.useDebugValue=function(){},qe.useDeferredValue=function(F,V){return H.H.useDeferredValue(F,V)},qe.useEffect=function(F,V){return H.H.useEffect(F,V)},qe.useId=function(){return H.H.useId()},qe.useImperativeHandle=function(F,V,K){return H.H.useImperativeHandle(F,V,K)},qe.useInsertionEffect=function(F,V){return H.H.useInsertionEffect(F,V)},qe.useLayoutEffect=function(F,V){return H.H.useLayoutEffect(F,V)},qe.useMemo=function(F,V){return H.H.useMemo(F,V)},qe.useOptimistic=function(F,V){return H.H.useOptimistic(F,V)},qe.useReducer=function(F,V,K){return H.H.useReducer(F,V,K)},qe.useRef=function(F){return H.H.useRef(F)},qe.useState=function(F){return H.H.useState(F)},qe.useSyncExternalStore=function(F,V,K){return H.H.useSyncExternalStore(F,V,K)},qe.useTransition=function(){return H.H.useTransition()},qe.version="19.0.0",qe}var GA;function Jg(){return GA||(GA=1,nE.exports=DL()),nE.exports}var b=Jg();const Rt=Bc(b);var rE={exports:{}},lf={},iE={exports:{}},sE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KA;function PL(){return KA||(KA=1,function(n){function e(le,ye){var me=le.length;le.push(ye);e:for(;0<me;){var Pe=me-1>>>1,F=le[Pe];if(0<i(F,ye))le[Pe]=ye,le[me]=F,me=Pe;else break e}}function t(le){return le.length===0?null:le[0]}function r(le){if(le.length===0)return null;var ye=le[0],me=le.pop();if(me!==ye){le[0]=me;e:for(var Pe=0,F=le.length,V=F>>>1;Pe<V;){var K=2*(Pe+1)-1,z=le[K],Y=K+1,ue=le[Y];if(0>i(z,me))Y<F&&0>i(ue,z)?(le[Pe]=ue,le[Y]=me,Pe=Y):(le[Pe]=z,le[K]=me,Pe=K);else if(Y<F&&0>i(ue,me))le[Pe]=ue,le[Y]=me,Pe=Y;else break e}}return ye}function i(le,ye){var me=le.sortIndex-ye.sortIndex;return me!==0?me:le.id-ye.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();n.unstable_now=function(){return u.now()-c}}var f=[],h=[],g=1,v=null,E=3,S=!1,A=!1,k=!1,x=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function B(le){for(var ye=t(h);ye!==null;){if(ye.callback===null)r(h);else if(ye.startTime<=le)r(h),ye.sortIndex=ye.expirationTime,e(f,ye);else break;ye=t(h)}}function Q(le){if(k=!1,B(le),!A)if(t(f)!==null)A=!0,Me();else{var ye=t(h);ye!==null&&xe(Q,ye.startTime-le)}}var H=!1,X=-1,D=5,N=-1;function C(){return!(n.unstable_now()-N<D)}function P(){if(H){var le=n.unstable_now();N=le;var ye=!0;try{e:{A=!1,k&&(k=!1,U(X),X=-1),S=!0;var me=E;try{t:{for(B(le),v=t(f);v!==null&&!(v.expirationTime>le&&C());){var Pe=v.callback;if(typeof Pe=="function"){v.callback=null,E=v.priorityLevel;var F=Pe(v.expirationTime<=le);if(le=n.unstable_now(),typeof F=="function"){v.callback=F,B(le),ye=!0;break t}v===t(f)&&r(f),B(le)}else r(f);v=t(f)}if(v!==null)ye=!0;else{var V=t(h);V!==null&&xe(Q,V.startTime-le),ye=!1}}break e}finally{v=null,E=me,S=!1}ye=void 0}}finally{ye?j():H=!1}}}var j;if(typeof $=="function")j=function(){$(P)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,M=q.port2;q.port1.onmessage=P,j=function(){M.postMessage(null)}}else j=function(){x(P,0)};function Me(){H||(H=!0,j())}function xe(le,ye){X=x(function(){le(n.unstable_now())},ye)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(le){le.callback=null},n.unstable_continueExecution=function(){A||S||(A=!0,Me())},n.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<le?Math.floor(1e3/le):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(le){switch(E){case 1:case 2:case 3:var ye=3;break;default:ye=E}var me=E;E=ye;try{return le()}finally{E=me}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(le,ye){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var me=E;E=le;try{return ye()}finally{E=me}},n.unstable_scheduleCallback=function(le,ye,me){var Pe=n.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Pe+me:Pe):me=Pe,le){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=me+F,le={id:g++,callback:ye,priorityLevel:le,startTime:me,expirationTime:F,sortIndex:-1},me>Pe?(le.sortIndex=me,e(h,le),t(f)===null&&le===t(h)&&(k?(U(X),X=-1):k=!0,xe(Q,me-Pe))):(le.sortIndex=F,e(f,le),A||S||(A=!0,Me())),le},n.unstable_shouldYield=C,n.unstable_wrapCallback=function(le){var ye=E;return function(){var me=E;E=ye;try{return le.apply(this,arguments)}finally{E=me}}}}(sE)),sE}var WA;function kL(){return WA||(WA=1,iE.exports=PL()),iE.exports}var aE={exports:{}},Mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QA;function ML(){if(QA)return Mn;QA=1;var n=Jg();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,h,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:f,containerInfo:h,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Mn.createPortal=function(f,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(f,h,null,g)},Mn.flushSync=function(f){var h=u.T,g=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=h,r.p=g,r.d.f()}},Mn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},Mn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Mn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var g=h.as,v=c(g,h.crossOrigin),E=typeof h.integrity=="string"?h.integrity:void 0,S=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:S}):g==="script"&&r.d.X(f,{crossOrigin:v,integrity:E,fetchPriority:S,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Mn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=c(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},Mn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,v=c(g,h.crossOrigin);r.d.L(f,g,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Mn.preloadModule=function(f,h){if(typeof f=="string")if(h){var g=c(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},Mn.requestFormReset=function(f){r.d.r(f)},Mn.unstable_batchedUpdates=function(f,h){return f(h)},Mn.useFormState=function(f,h,g){return u.H.useFormState(f,h,g)},Mn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Mn.version="19.0.0",Mn}var YA;function jx(){if(YA)return aE.exports;YA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),aE.exports=ML(),aE.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XA;function VL(){if(XA)return lf;XA=1;var n=kL(),e=Jg(),t=jx();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}var o=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),S=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),Q=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function X(s){return s===null||typeof s!="object"?null:(s=H&&s[H]||s["@@iterator"],typeof s=="function"?s:null)}var D=Symbol.for("react.client.reference");function N(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===D?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case f:return"Fragment";case c:return"Portal";case g:return"Profiler";case h:return"StrictMode";case k:return"Suspense";case x:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case S:return(s.displayName||"Context")+".Provider";case E:return(s._context.displayName||"Context")+".Consumer";case A:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case U:return a=s.displayName||null,a!==null?a:N(s.type)||"Memo";case $:a=s._payload,s=s._init;try{return N(s(a))}catch{}}return null}var C=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=Object.assign,j,q;function M(s){if(j===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);j=a&&a[1]||"",q=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+j+s+q}var Me=!1;function xe(s,a){if(!s||Me)return"";Me=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(se){var ne=se}Reflect.construct(s,[],de)}else{try{de.call()}catch(se){ne=se}s.call(de.prototype)}}else{try{throw Error()}catch(se){ne=se}(de=s())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(se){if(se&&ne&&typeof se.stack=="string")return[se.stack,ne.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),T=y[0],R=y[1];if(T&&R){var L=T.split(`
`),W=R.split(`
`);for(m=d=0;d<L.length&&!L[d].includes("DetermineComponentFrameRoot");)d++;for(;m<W.length&&!W[m].includes("DetermineComponentFrameRoot");)m++;if(d===L.length||m===W.length)for(d=L.length-1,m=W.length-1;1<=d&&0<=m&&L[d]!==W[m];)m--;for(;1<=d&&0<=m;d--,m--)if(L[d]!==W[m]){if(d!==1||m!==1)do if(d--,m--,0>m||L[d]!==W[m]){var ae=`
`+L[d].replace(" at new "," at ");return s.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",s.displayName)),ae}while(1<=d&&0<=m);break}}}finally{Me=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?M(l):""}function le(s){switch(s.tag){case 26:case 27:case 5:return M(s.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 15:return s=xe(s.type,!1),s;case 11:return s=xe(s.type.render,!1),s;case 1:return s=xe(s.type,!0),s;default:return""}}function ye(s){try{var a="";do a+=le(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function me(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,a.flags&4098&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function Pe(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function F(s){if(me(s)!==s)throw Error(r(188))}function V(s){var a=s.alternate;if(!a){if(a=me(s),a===null)throw Error(r(188));return a!==s?null:s}for(var l=s,d=a;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return F(m),s;if(y===d)return F(m),a;y=y.sibling}throw Error(r(188))}if(l.return!==d.return)l=m,d=y;else{for(var T=!1,R=m.child;R;){if(R===l){T=!0,l=m,d=y;break}if(R===d){T=!0,d=m,l=y;break}R=R.sibling}if(!T){for(R=y.child;R;){if(R===l){T=!0,l=y,d=m;break}if(R===d){T=!0,d=y,l=m;break}R=R.sibling}if(!T)throw Error(r(189))}}if(l.alternate!==d)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:a}function K(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=K(s),a!==null)return a;s=s.sibling}return null}var z=Array.isArray,Y=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},pe=[],we=-1;function ve(s){return{current:s}}function Ve(s){0>we||(s.current=pe[we],pe[we]=null,we--)}function ke(s,a){we++,pe[we]=s.current,s.current=a}var He=ve(null),je=ve(null),Ge=ve(null),Be=ve(null);function ze(s,a){switch(ke(Ge,a),ke(je,s),ke(He,null),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?vA(a):0;break;default:if(s=s===8?a.parentNode:a,a=s.tagName,s=s.namespaceURI)s=vA(s),a=_A(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Ve(He),ke(He,a)}function gt(){Ve(He),Ve(je),Ve(Ge)}function Xe(s){s.memoizedState!==null&&ke(Be,s);var a=He.current,l=_A(a,s.type);a!==l&&(ke(je,s),ke(He,l))}function Tn(s){je.current===s&&(Ve(He),Ve(je)),Be.current===s&&(Ve(Be),tf._currentValue=ue)}var Pn=Object.prototype.hasOwnProperty,wt=n.unstable_scheduleCallback,bn=n.unstable_cancelCallback,en=n.unstable_shouldYield,cr=n.unstable_requestPaint,xt=n.unstable_now,ti=n.unstable_getCurrentPriorityLevel,Ae=n.unstable_ImmediatePriority,nt=n.unstable_UserBlockingPriority,tn=n.unstable_NormalPriority,Zs=n.unstable_LowPriority,Wi=n.unstable_IdlePriority,So=n.log,Qi=n.unstable_setDisableYieldValue,fi=null,cn=null;function Io(s){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(fi,s,void 0,(s.current.flags&128)===128)}catch{}}function Rr(s){if(typeof So=="function"&&Qi(s),cn&&typeof cn.setStrictMode=="function")try{cn.setStrictMode(fi,s)}catch{}}var zn=Math.clz32?Math.clz32:ip,sd=Math.log,rp=Math.LN2;function ip(s){return s>>>=0,s===0?32:31-(sd(s)/rp|0)|0}var hi=128,Js=4194304;function ni(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Cr(s,a){var l=s.pendingLanes;if(l===0)return 0;var d=0,m=s.suspendedLanes,y=s.pingedLanes,T=s.warmLanes;s=s.finishedLanes!==0;var R=l&134217727;return R!==0?(l=R&~m,l!==0?d=ni(l):(y&=R,y!==0?d=ni(y):s||(T=R&~T,T!==0&&(d=ni(T))))):(R=l&~m,R!==0?d=ni(R):y!==0?d=ni(y):s||(T=l&~T,T!==0&&(d=ni(T)))),d===0?0:a!==0&&a!==d&&!(a&m)&&(m=d&-d,T=a&-a,m>=T||m===32&&(T&4194176)!==0)?a:d}function ea(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Zl(s,a){switch(s){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ad(){var s=hi;return hi<<=1,!(hi&4194176)&&(hi=128),s}function ta(){var s=Js;return Js<<=1,!(Js&62914560)&&(Js=4194304),s}function Jl(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function qt(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function sp(s,a,l,d,m,y){var T=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var R=s.entanglements,L=s.expirationTimes,W=s.hiddenUpdates;for(l=T&~l;0<l;){var ae=31-zn(l),de=1<<ae;R[ae]=0,L[ae]=-1;var ne=W[ae];if(ne!==null)for(W[ae]=null,ae=0;ae<ne.length;ae++){var se=ne[ae];se!==null&&(se.lane&=-536870913)}l&=~de}d!==0&&na(s,d,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(T&~a))}function na(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var d=31-zn(a);s.entangledLanes|=a,s.entanglements[d]=s.entanglements[d]|1073741824|l&4194218}function ra(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var d=31-zn(l),m=1<<d;m&a|s[d]&a&&(s[d]|=a),l&=~m}}function ap(s){return s&=-s,2<s?8<s?s&134217727?32:268435456:8:2}function op(){var s=Y.p;return s!==0?s:(s=window.event,s===void 0?32:LA(s.type))}function ia(s,a){var l=Y.p;try{return Y.p=s,a()}finally{Y.p=l}}var pi=Math.random().toString(36).slice(2),dn="__reactFiber$"+pi,nn="__reactProps$"+pi,Yi="__reactContainer$"+pi,Ao="__reactEvents$"+pi,eu="__reactListeners$"+pi,mi="__reactHandles$"+pi,od="__reactResources$"+pi,sa="__reactMarker$"+pi;function Ro(s){delete s[dn],delete s[nn],delete s[Ao],delete s[eu],delete s[mi]}function ri(s){var a=s[dn];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Yi]||l[dn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=TA(s);s!==null;){if(l=s[dn])return l;s=TA(s)}return a}s=l,l=s.parentNode}return null}function Xi(s){if(s=s[dn]||s[Yi]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function aa(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function oa(s){var a=s[od];return a||(a=s[od]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Nt(s){s[sa]=!0}var ld=new Set,tu={};function dr(s,a){Jn(s,a),Jn(s+"Capture",a)}function Jn(s,a){for(tu[s]=a,s=0;s<a.length;s++)ld.add(a[s])}var fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ud={},cd={};function lp(s){return Pn.call(cd,s)?!0:Pn.call(ud,s)?!1:sv.test(s)?cd[s]=!0:(ud[s]=!0,!1)}function la(s,a,l){if(lp(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function ua(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function xr(s,a,l,d){if(d===null)s.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+d)}}function $n(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function up(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function av(s){var a=up(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),d=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(T){d=""+T,y.call(this,T)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Co(s){s._valueTracker||(s._valueTracker=av(s))}function dd(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),d="";return s&&(d=up(s)?s.checked?"true":"false":s.value),s=d,s!==l?(a.setValue(s),!0):!1}function nu(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Zi=/[\n"\\]/g;function Lt(s){return s.replace(Zi,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ca(s,a,l,d,m,y,T,R){s.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.type=T:s.removeAttribute("type"),a!=null?T==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+$n(a)):s.value!==""+$n(a)&&(s.value=""+$n(a)):T!=="submit"&&T!=="reset"||s.removeAttribute("value"),a!=null?ru(s,T,$n(a)):l!=null?ru(s,T,$n(l)):d!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?s.name=""+$n(R):s.removeAttribute("name")}function xo(s,a,l,d,m,y,T,R){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+$n(l):"",a=a!=null?""+$n(a):l,R||a===s.value||(s.value=a),s.defaultValue=a}d=d??m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=R?s.checked:!!d,s.defaultChecked=!!d,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.name=T)}function ru(s,a,l){a==="number"&&nu(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function ot(s,a,l,d){if(s=s.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=a.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&d&&(s[l].defaultSelected=!0)}else{for(l=""+$n(l),a=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,d&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function No(s,a,l){if(a!=null&&(a=""+$n(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+$n(l):""}function da(s,a,l,d){if(a==null){if(d!=null){if(l!=null)throw Error(r(92));if(z(d)){if(1<d.length)throw Error(r(93));d=d[0]}l=d}l==null&&(l=""),a=l}l=$n(a),s.defaultValue=l,d=s.textContent,d===l&&d!==""&&d!==null&&(s.value=d)}function Nr(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var ov=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fd(s,a,l){var d=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":d?s.setProperty(a,l):typeof l!="number"||l===0||ov.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function cp(s,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||a!=null&&a.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var m in a)d=a[m],a.hasOwnProperty(m)&&l[m]!==d&&fd(s,m,d)}else for(var y in a)a.hasOwnProperty(y)&&fd(s,y,a[y])}function hd(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gi(s){return uv.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Or=null;function iu(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ji=null,es=null;function ts(s){var a=Xi(s);if(a&&(s=a.stateNode)){var l=s[nn]||null;e:switch(s=a.stateNode,a.type){case"input":if(ca(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Lt(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var d=l[a];if(d!==s&&d.form===s.form){var m=d[nn]||null;if(!m)throw Error(r(90));ca(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)d=l[a],d.form===s.form&&dd(d)}break e;case"textarea":No(s,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&ot(s,!!l.multiple,a,!1)}}}var pd=!1;function dp(s,a,l){if(pd)return s(a,l);pd=!0;try{var d=s(a);return d}finally{if(pd=!1,(Ji!==null||es!==null)&&(nm(),Ji&&(a=Ji,s=es,es=Ji=null,ts(a),s)))for(a=0;a<s.length;a++)ts(s[a])}}function Oo(s,a){var l=s.stateNode;if(l===null)return null;var d=l[nn]||null;if(d===null)return null;l=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Dr=!1;if(fr)try{var Do={};Object.defineProperty(Do,"passive",{get:function(){Dr=!0}}),window.addEventListener("test",Do,Do),window.removeEventListener("test",Do,Do)}catch{Dr=!1}var yi=null,fa=null,ns=null;function md(){if(ns)return ns;var s,a=fa,l=a.length,d,m="value"in yi?yi.value:yi.textContent,y=m.length;for(s=0;s<l&&a[s]===m[s];s++);var T=l-s;for(d=1;d<=T&&a[l-d]===m[y-d];d++);return ns=m.slice(s,1<d?1-d:void 0)}function vi(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function _i(){return!0}function gd(){return!1}function fn(s){function a(l,d,m,y,T){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var R in s)s.hasOwnProperty(R)&&(l=s[R],this[R]=l?l(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?_i:gd,this.isPropagationStopped=gd,this}return P(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=_i)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=_i)},persist:function(){},isPersistent:_i}),a}var dt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},su=fn(dt),Po=P({},dt,{view:0,detail:0}),fp=fn(Po),au,ou,Ei,ko=P({},Po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lo,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ei&&(Ei&&s.type==="mousemove"?(au=s.screenX-Ei.screenX,ou=s.screenY-Ei.screenY):ou=au=0,Ei=s),au)},movementY:function(s){return"movementY"in s?s.movementY:ou}}),Pr=fn(ko),hp=P({},ko,{dataTransfer:0}),cv=fn(hp),Mo=P({},Po,{relatedTarget:0}),lu=fn(Mo),yd=P({},dt,{animationName:0,elapsedTime:0,pseudoElement:0}),uu=fn(yd),pp=P({},dt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),cu=fn(pp),dv=P({},dt,{data:0}),vd=fn(dv),Vo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _d(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=gp[s])?!!a[s]:!1}function Lo(){return _d}var yp=P({},Po,{key:function(s){if(s.key){var a=Vo[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=vi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?mp[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lo,charCode:function(s){return s.type==="keypress"?vi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?vi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),du=fn(yp),vp=P({},ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ed=fn(vp),rs=P({},Po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lo}),_p=fn(rs),Ep=P({},dt,{propertyName:0,elapsedTime:0,pseudoElement:0}),wp=fn(Ep),Tp=P({},ko,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),fu=fn(Tp),qn=P({},dt,{newState:0,oldState:0}),bp=fn(qn),Sp=[9,13,27,32],wi=fr&&"CompositionEvent"in window,p=null;fr&&"documentMode"in document&&(p=document.documentMode);var _=fr&&"TextEvent"in window&&!p,w=fr&&(!wi||p&&8<p&&11>=p),O=" ",J=!1;function ie(s,a){switch(s){case"keyup":return Sp.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ge(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var rt=!1;function rn(s,a){switch(s){case"compositionend":return ge(a);case"keypress":return a.which!==32?null:(J=!0,O);case"textInput":return s=a.data,s===O&&J?null:s;default:return null}}function it(s,a){if(rt)return s==="compositionend"||!wi&&ie(s,a)?(s=md(),ns=fa=yi=null,rt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return w&&a.locale!=="ko"?null:a.data;default:return null}}var hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sn(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!hn[s.type]:a==="textarea"}function is(s,a,l,d){Ji?es?es.push(d):es=[d]:Ji=d,a=om(a,"onChange"),0<a.length&&(l=new su("onChange","change",null,l,d),s.push({event:l,listeners:a}))}var Sn=null,Ti=null;function wd(s){hA(s,0)}function Ip(s){var a=aa(s);if(dd(a))return s}function z0(s,a){if(s==="change")return a}var $0=!1;if(fr){var fv;if(fr){var hv="oninput"in document;if(!hv){var q0=document.createElement("div");q0.setAttribute("oninput","return;"),hv=typeof q0.oninput=="function"}fv=hv}else fv=!1;$0=fv&&(!document.documentMode||9<document.documentMode)}function H0(){Sn&&(Sn.detachEvent("onpropertychange",G0),Ti=Sn=null)}function G0(s){if(s.propertyName==="value"&&Ip(Ti)){var a=[];is(a,Ti,s,iu(s)),dp(wd,a)}}function aV(s,a,l){s==="focusin"?(H0(),Sn=a,Ti=l,Sn.attachEvent("onpropertychange",G0)):s==="focusout"&&H0()}function oV(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ip(Ti)}function lV(s,a){if(s==="click")return Ip(a)}function uV(s,a){if(s==="input"||s==="change")return Ip(a)}function cV(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var hr=typeof Object.is=="function"?Object.is:cV;function Td(s,a){if(hr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),d=Object.keys(a);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!Pn.call(a,m)||!hr(s[m],a[m]))return!1}return!0}function K0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function W0(s,a){var l=K0(s);s=0;for(var d;l;){if(l.nodeType===3){if(d=s+l.textContent.length,s<=a&&d>=a)return{node:l,offset:a-s};s=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=K0(l)}}function Q0(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Q0(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Y0(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=nu(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=nu(s.document)}return a}function pv(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function dV(s,a){var l=Y0(a);a=s.focusedElem;var d=s.selectionRange;if(l!==a&&a&&a.ownerDocument&&Q0(a.ownerDocument.documentElement,a)){if(d!==null&&pv(a)){if(s=d.start,l=d.end,l===void 0&&(l=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(l,a.value.length);else if(l=(s=a.ownerDocument||document)&&s.defaultView||window,l.getSelection){l=l.getSelection();var m=a.textContent.length,y=Math.min(d.start,m);d=d.end===void 0?y:Math.min(d.end,m),!l.extend&&y>d&&(m=d,d=y,y=m),m=W0(a,y);var T=W0(a,d);m&&T&&(l.rangeCount!==1||l.anchorNode!==m.node||l.anchorOffset!==m.offset||l.focusNode!==T.node||l.focusOffset!==T.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),l.removeAllRanges(),y>d?(l.addRange(s),l.extend(T.node,T.offset)):(s.setEnd(T.node,T.offset),l.addRange(s)))}}for(s=[],l=a;l=l.parentNode;)l.nodeType===1&&s.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)l=s[a],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var fV=fr&&"documentMode"in document&&11>=document.documentMode,hu=null,mv=null,bd=null,gv=!1;function X0(s,a,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;gv||hu==null||hu!==nu(d)||(d=hu,"selectionStart"in d&&pv(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),bd&&Td(bd,d)||(bd=d,d=om(mv,"onSelect"),0<d.length&&(a=new su("onSelect","select",null,a,l),s.push({event:a,listeners:d}),a.target=hu)))}function jo(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var pu={animationend:jo("Animation","AnimationEnd"),animationiteration:jo("Animation","AnimationIteration"),animationstart:jo("Animation","AnimationStart"),transitionrun:jo("Transition","TransitionRun"),transitionstart:jo("Transition","TransitionStart"),transitioncancel:jo("Transition","TransitionCancel"),transitionend:jo("Transition","TransitionEnd")},yv={},Z0={};fr&&(Z0=document.createElement("div").style,"AnimationEvent"in window||(delete pu.animationend.animation,delete pu.animationiteration.animation,delete pu.animationstart.animation),"TransitionEvent"in window||delete pu.transitionend.transition);function Uo(s){if(yv[s])return yv[s];if(!pu[s])return s;var a=pu[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in Z0)return yv[s]=a[l];return s}var J0=Uo("animationend"),eS=Uo("animationiteration"),tS=Uo("animationstart"),hV=Uo("transitionrun"),pV=Uo("transitionstart"),mV=Uo("transitioncancel"),nS=Uo("transitionend"),rS=new Map,iS="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ii(s,a){rS.set(s,a),dr(a,[s])}var kr=[],mu=0,vv=0;function Ap(){for(var s=mu,a=vv=mu=0;a<s;){var l=kr[a];kr[a++]=null;var d=kr[a];kr[a++]=null;var m=kr[a];kr[a++]=null;var y=kr[a];if(kr[a++]=null,d!==null&&m!==null){var T=d.pending;T===null?m.next=m:(m.next=T.next,T.next=m),d.pending=m}y!==0&&sS(l,m,y)}}function Rp(s,a,l,d){kr[mu++]=s,kr[mu++]=a,kr[mu++]=l,kr[mu++]=d,vv|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function _v(s,a,l,d){return Rp(s,a,l,d),Cp(s)}function ha(s,a){return Rp(s,null,null,a),Cp(s)}function sS(s,a,l){s.lanes|=l;var d=s.alternate;d!==null&&(d.lanes|=l);for(var m=!1,y=s.return;y!==null;)y.childLanes|=l,d=y.alternate,d!==null&&(d.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;m&&a!==null&&s.tag===3&&(y=s.stateNode,m=31-zn(l),y=y.hiddenUpdates,s=y[m],s===null?y[m]=[a]:s.push(a),a.lane=l|536870912)}function Cp(s){if(50<Wd)throw Wd=0,I_=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var gu={},aS=new WeakMap;function Mr(s,a){if(typeof s=="object"&&s!==null){var l=aS.get(s);return l!==void 0?l:(a={value:s,source:a,stack:ye(a)},aS.set(s,a),a)}return{value:s,source:a,stack:ye(a)}}var yu=[],vu=0,xp=null,Np=0,Vr=[],Lr=0,Bo=null,ss=1,as="";function Fo(s,a){yu[vu++]=Np,yu[vu++]=xp,xp=s,Np=a}function oS(s,a,l){Vr[Lr++]=ss,Vr[Lr++]=as,Vr[Lr++]=Bo,Bo=s;var d=ss;s=as;var m=32-zn(d)-1;d&=~(1<<m),l+=1;var y=32-zn(a)+m;if(30<y){var T=m-m%5;y=(d&(1<<T)-1).toString(32),d>>=T,m-=T,ss=1<<32-zn(a)+m|l<<m|d,as=y+s}else ss=1<<y|l<<m|d,as=s}function Ev(s){s.return!==null&&(Fo(s,1),oS(s,1,0))}function wv(s){for(;s===xp;)xp=yu[--vu],yu[vu]=null,Np=yu[--vu],yu[vu]=null;for(;s===Bo;)Bo=Vr[--Lr],Vr[Lr]=null,as=Vr[--Lr],Vr[Lr]=null,ss=Vr[--Lr],Vr[Lr]=null}var Hn=null,In=null,lt=!1,si=null,bi=!1,Tv=Error(r(519));function zo(s){var a=Error(r(418,""));throw Ad(Mr(a,s)),Tv}function lS(s){var a=s.stateNode,l=s.type,d=s.memoizedProps;switch(a[dn]=s,a[nn]=d,l){case"dialog":tt("cancel",a),tt("close",a);break;case"iframe":case"object":case"embed":tt("load",a);break;case"video":case"audio":for(l=0;l<Yd.length;l++)tt(Yd[l],a);break;case"source":tt("error",a);break;case"img":case"image":case"link":tt("error",a),tt("load",a);break;case"details":tt("toggle",a);break;case"input":tt("invalid",a),xo(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Co(a);break;case"select":tt("invalid",a);break;case"textarea":tt("invalid",a),da(a,d.value,d.defaultValue,d.children),Co(a)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||d.suppressHydrationWarning===!0||yA(a.textContent,l)?(d.popover!=null&&(tt("beforetoggle",a),tt("toggle",a)),d.onScroll!=null&&tt("scroll",a),d.onScrollEnd!=null&&tt("scrollend",a),d.onClick!=null&&(a.onclick=lm),a=!0):a=!1,a||zo(s)}function uS(s){for(Hn=s.return;Hn;)switch(Hn.tag){case 3:case 27:bi=!0;return;case 5:case 13:bi=!1;return;default:Hn=Hn.return}}function Sd(s){if(s!==Hn)return!1;if(!lt)return uS(s),lt=!0,!1;var a=!1,l;if((l=s.tag!==3&&s.tag!==27)&&((l=s.tag===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||z_(s.type,s.memoizedProps)),l=!l),l&&(a=!0),a&&In&&zo(s),uS(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){In=oi(s.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}In=null}}else In=Hn?oi(s.stateNode.nextSibling):null;return!0}function Id(){In=Hn=null,lt=!1}function Ad(s){si===null?si=[s]:si.push(s)}var Rd=Error(r(460)),cS=Error(r(474)),bv={then:function(){}};function dS(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Op(){}function fS(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(Op,Op),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,s===Rd?Error(r(483)):s;default:if(typeof a.status=="string")a.then(Op,Op);else{if(s=vt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(d){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=d}},function(d){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,s===Rd?Error(r(483)):s}throw Cd=a,Rd}}var Cd=null;function hS(){if(Cd===null)throw Error(r(459));var s=Cd;return Cd=null,s}var _u=null,xd=0;function Dp(s){var a=xd;return xd+=1,_u===null&&(_u=[]),fS(_u,s,a)}function Nd(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Pp(s,a){throw a.$$typeof===o?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function pS(s){var a=s._init;return a(s._payload)}function mS(s){function a(Z,G){if(s){var te=Z.deletions;te===null?(Z.deletions=[G],Z.flags|=16):te.push(G)}}function l(Z,G){if(!s)return null;for(;G!==null;)a(Z,G),G=G.sibling;return null}function d(Z){for(var G=new Map;Z!==null;)Z.key!==null?G.set(Z.key,Z):G.set(Z.index,Z),Z=Z.sibling;return G}function m(Z,G){return Z=Ia(Z,G),Z.index=0,Z.sibling=null,Z}function y(Z,G,te){return Z.index=te,s?(te=Z.alternate,te!==null?(te=te.index,te<G?(Z.flags|=33554434,G):te):(Z.flags|=33554434,G)):(Z.flags|=1048576,G)}function T(Z){return s&&Z.alternate===null&&(Z.flags|=33554434),Z}function R(Z,G,te,oe){return G===null||G.tag!==6?(G=y_(te,Z.mode,oe),G.return=Z,G):(G=m(G,te),G.return=Z,G)}function L(Z,G,te,oe){var Se=te.type;return Se===f?ae(Z,G,te.props.children,oe,te.key):G!==null&&(G.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===$&&pS(Se)===G.type)?(G=m(G,te.props),Nd(G,te),G.return=Z,G):(G=Xp(te.type,te.key,te.props,null,Z.mode,oe),Nd(G,te),G.return=Z,G)}function W(Z,G,te,oe){return G===null||G.tag!==4||G.stateNode.containerInfo!==te.containerInfo||G.stateNode.implementation!==te.implementation?(G=v_(te,Z.mode,oe),G.return=Z,G):(G=m(G,te.children||[]),G.return=Z,G)}function ae(Z,G,te,oe,Se){return G===null||G.tag!==7?(G=Zo(te,Z.mode,oe,Se),G.return=Z,G):(G=m(G,te),G.return=Z,G)}function de(Z,G,te){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=y_(""+G,Z.mode,te),G.return=Z,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case u:return te=Xp(G.type,G.key,G.props,null,Z.mode,te),Nd(te,G),te.return=Z,te;case c:return G=v_(G,Z.mode,te),G.return=Z,G;case $:var oe=G._init;return G=oe(G._payload),de(Z,G,te)}if(z(G)||X(G))return G=Zo(G,Z.mode,te,null),G.return=Z,G;if(typeof G.then=="function")return de(Z,Dp(G),te);if(G.$$typeof===S)return de(Z,Wp(Z,G),te);Pp(Z,G)}return null}function ne(Z,G,te,oe){var Se=G!==null?G.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Se!==null?null:R(Z,G,""+te,oe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case u:return te.key===Se?L(Z,G,te,oe):null;case c:return te.key===Se?W(Z,G,te,oe):null;case $:return Se=te._init,te=Se(te._payload),ne(Z,G,te,oe)}if(z(te)||X(te))return Se!==null?null:ae(Z,G,te,oe,null);if(typeof te.then=="function")return ne(Z,G,Dp(te),oe);if(te.$$typeof===S)return ne(Z,G,Wp(Z,te),oe);Pp(Z,te)}return null}function se(Z,G,te,oe,Se){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Z=Z.get(te)||null,R(G,Z,""+oe,Se);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case u:return Z=Z.get(oe.key===null?te:oe.key)||null,L(G,Z,oe,Se);case c:return Z=Z.get(oe.key===null?te:oe.key)||null,W(G,Z,oe,Se);case $:var We=oe._init;return oe=We(oe._payload),se(Z,G,te,oe,Se)}if(z(oe)||X(oe))return Z=Z.get(te)||null,ae(G,Z,oe,Se,null);if(typeof oe.then=="function")return se(Z,G,te,Dp(oe),Se);if(oe.$$typeof===S)return se(Z,G,te,Wp(G,oe),Se);Pp(G,oe)}return null}function Re(Z,G,te,oe){for(var Se=null,We=null,Oe=G,Le=G=0,gn=null;Oe!==null&&Le<te.length;Le++){Oe.index>Le?(gn=Oe,Oe=null):gn=Oe.sibling;var ut=ne(Z,Oe,te[Le],oe);if(ut===null){Oe===null&&(Oe=gn);break}s&&Oe&&ut.alternate===null&&a(Z,Oe),G=y(ut,G,Le),We===null?Se=ut:We.sibling=ut,We=ut,Oe=gn}if(Le===te.length)return l(Z,Oe),lt&&Fo(Z,Le),Se;if(Oe===null){for(;Le<te.length;Le++)Oe=de(Z,te[Le],oe),Oe!==null&&(G=y(Oe,G,Le),We===null?Se=Oe:We.sibling=Oe,We=Oe);return lt&&Fo(Z,Le),Se}for(Oe=d(Oe);Le<te.length;Le++)gn=se(Oe,Z,Le,te[Le],oe),gn!==null&&(s&&gn.alternate!==null&&Oe.delete(gn.key===null?Le:gn.key),G=y(gn,G,Le),We===null?Se=gn:We.sibling=gn,We=gn);return s&&Oe.forEach(function(Da){return a(Z,Da)}),lt&&Fo(Z,Le),Se}function Fe(Z,G,te,oe){if(te==null)throw Error(r(151));for(var Se=null,We=null,Oe=G,Le=G=0,gn=null,ut=te.next();Oe!==null&&!ut.done;Le++,ut=te.next()){Oe.index>Le?(gn=Oe,Oe=null):gn=Oe.sibling;var Da=ne(Z,Oe,ut.value,oe);if(Da===null){Oe===null&&(Oe=gn);break}s&&Oe&&Da.alternate===null&&a(Z,Oe),G=y(Da,G,Le),We===null?Se=Da:We.sibling=Da,We=Da,Oe=gn}if(ut.done)return l(Z,Oe),lt&&Fo(Z,Le),Se;if(Oe===null){for(;!ut.done;Le++,ut=te.next())ut=de(Z,ut.value,oe),ut!==null&&(G=y(ut,G,Le),We===null?Se=ut:We.sibling=ut,We=ut);return lt&&Fo(Z,Le),Se}for(Oe=d(Oe);!ut.done;Le++,ut=te.next())ut=se(Oe,Z,Le,ut.value,oe),ut!==null&&(s&&ut.alternate!==null&&Oe.delete(ut.key===null?Le:ut.key),G=y(ut,G,Le),We===null?Se=ut:We.sibling=ut,We=ut);return s&&Oe.forEach(function(xL){return a(Z,xL)}),lt&&Fo(Z,Le),Se}function Bt(Z,G,te,oe){if(typeof te=="object"&&te!==null&&te.type===f&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case u:e:{for(var Se=te.key;G!==null;){if(G.key===Se){if(Se=te.type,Se===f){if(G.tag===7){l(Z,G.sibling),oe=m(G,te.props.children),oe.return=Z,Z=oe;break e}}else if(G.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===$&&pS(Se)===G.type){l(Z,G.sibling),oe=m(G,te.props),Nd(oe,te),oe.return=Z,Z=oe;break e}l(Z,G);break}else a(Z,G);G=G.sibling}te.type===f?(oe=Zo(te.props.children,Z.mode,oe,te.key),oe.return=Z,Z=oe):(oe=Xp(te.type,te.key,te.props,null,Z.mode,oe),Nd(oe,te),oe.return=Z,Z=oe)}return T(Z);case c:e:{for(Se=te.key;G!==null;){if(G.key===Se)if(G.tag===4&&G.stateNode.containerInfo===te.containerInfo&&G.stateNode.implementation===te.implementation){l(Z,G.sibling),oe=m(G,te.children||[]),oe.return=Z,Z=oe;break e}else{l(Z,G);break}else a(Z,G);G=G.sibling}oe=v_(te,Z.mode,oe),oe.return=Z,Z=oe}return T(Z);case $:return Se=te._init,te=Se(te._payload),Bt(Z,G,te,oe)}if(z(te))return Re(Z,G,te,oe);if(X(te)){if(Se=X(te),typeof Se!="function")throw Error(r(150));return te=Se.call(te),Fe(Z,G,te,oe)}if(typeof te.then=="function")return Bt(Z,G,Dp(te),oe);if(te.$$typeof===S)return Bt(Z,G,Wp(Z,te),oe);Pp(Z,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,G!==null&&G.tag===6?(l(Z,G.sibling),oe=m(G,te),oe.return=Z,Z=oe):(l(Z,G),oe=y_(te,Z.mode,oe),oe.return=Z,Z=oe),T(Z)):l(Z,G)}return function(Z,G,te,oe){try{xd=0;var Se=Bt(Z,G,te,oe);return _u=null,Se}catch(Oe){if(Oe===Rd)throw Oe;var We=Fr(29,Oe,null,Z.mode);return We.lanes=oe,We.return=Z,We}finally{}}}var $o=mS(!0),gS=mS(!1),Eu=ve(null),kp=ve(0);function yS(s,a){s=ys,ke(kp,s),ke(Eu,a),ys=s|a.baseLanes}function Sv(){ke(kp,ys),ke(Eu,Eu.current)}function Iv(){ys=kp.current,Ve(Eu),Ve(kp)}var jr=ve(null),Si=null;function pa(s){var a=s.alternate;ke(an,an.current&1),ke(jr,s),Si===null&&(a===null||Eu.current!==null||a.memoizedState!==null)&&(Si=s)}function vS(s){if(s.tag===22){if(ke(an,an.current),ke(jr,s),Si===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Si=s)}}else ma()}function ma(){ke(an,an.current),ke(jr,jr.current)}function os(s){Ve(jr),Si===s&&(Si=null),Ve(an)}var an=ve(0);function Mp(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var gV=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,d){s.push(d)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},yV=n.unstable_scheduleCallback,vV=n.unstable_NormalPriority,on={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Av(){return{controller:new gV,data:new Map,refCount:0}}function Od(s){s.refCount--,s.refCount===0&&yV(vV,function(){s.controller.abort()})}var Dd=null,Rv=0,wu=0,Tu=null;function _V(s,a){if(Dd===null){var l=Dd=[];Rv=0,wu=P_(),Tu={status:"pending",value:void 0,then:function(d){l.push(d)}}}return Rv++,a.then(_S,_S),a}function _S(){if(--Rv===0&&Dd!==null){Tu!==null&&(Tu.status="fulfilled");var s=Dd;Dd=null,wu=0,Tu=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function EV(s,a){var l=[],d={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){d.status="fulfilled",d.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(d.status="rejected",d.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),d}var ES=C.S;C.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&_V(s,a),ES!==null&&ES(s,a)};var qo=ve(null);function Cv(){var s=qo.current;return s!==null?s:vt.pooledCache}function Vp(s,a){a===null?ke(qo,qo.current):ke(qo,a.pool)}function wS(){var s=Cv();return s===null?null:{parent:on._currentValue,pool:s}}var ga=0,Ke=null,pt=null,Qt=null,Lp=!1,bu=!1,Ho=!1,jp=0,Pd=0,Su=null,wV=0;function Ht(){throw Error(r(321))}function xv(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!hr(s[l],a[l]))return!1;return!0}function Nv(s,a,l,d,m,y){return ga=y,Ke=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,C.H=s===null||s.memoizedState===null?Go:ya,Ho=!1,y=l(d,m),Ho=!1,bu&&(y=bS(a,l,d,m)),TS(s),y}function TS(s){C.H=Ii;var a=pt!==null&&pt.next!==null;if(ga=0,Qt=pt=Ke=null,Lp=!1,Pd=0,Su=null,a)throw Error(r(300));s===null||pn||(s=s.dependencies,s!==null&&Kp(s)&&(pn=!0))}function bS(s,a,l,d){Ke=s;var m=0;do{if(bu&&(Su=null),Pd=0,bu=!1,25<=m)throw Error(r(301));if(m+=1,Qt=pt=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}C.H=Ko,y=a(l,d)}while(bu);return y}function TV(){var s=C.H,a=s.useState()[0];return a=typeof a.then=="function"?kd(a):a,s=s.useState()[0],(pt!==null?pt.memoizedState:null)!==s&&(Ke.flags|=1024),a}function Ov(){var s=jp!==0;return jp=0,s}function Dv(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function Pv(s){if(Lp){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Lp=!1}ga=0,Qt=pt=Ke=null,bu=!1,Pd=jp=0,Su=null}function er(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Ke.memoizedState=Qt=s:Qt=Qt.next=s,Qt}function Yt(){if(pt===null){var s=Ke.alternate;s=s!==null?s.memoizedState:null}else s=pt.next;var a=Qt===null?Ke.memoizedState:Qt.next;if(a!==null)Qt=a,pt=s;else{if(s===null)throw Ke.alternate===null?Error(r(467)):Error(r(310));pt=s,s={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Qt===null?Ke.memoizedState=Qt=s:Qt=Qt.next=s}return Qt}var Up;Up=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function kd(s){var a=Pd;return Pd+=1,Su===null&&(Su=[]),s=fS(Su,s,a),a=Ke,(Qt===null?a.memoizedState:Qt.next)===null&&(a=a.alternate,C.H=a===null||a.memoizedState===null?Go:ya),s}function Bp(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return kd(s);if(s.$$typeof===S)return kn(s)}throw Error(r(438,String(s)))}function kv(s){var a=null,l=Ke.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var d=Ke.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Up(),Ke.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),d=0;d<s;d++)l[d]=Q;return a.index++,l}function ls(s,a){return typeof a=="function"?a(s):a}function Fp(s){var a=Yt();return Mv(a,pt,s)}function Mv(s,a,l){var d=s.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=l;var m=s.baseQueue,y=d.pending;if(y!==null){if(m!==null){var T=m.next;m.next=y.next,y.next=T}a.baseQueue=m=y,d.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{a=m.next;var R=T=null,L=null,W=a,ae=!1;do{var de=W.lane&-536870913;if(de!==W.lane?(st&de)===de:(ga&de)===de){var ne=W.revertLane;if(ne===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),de===wu&&(ae=!0);else if((ga&ne)===ne){W=W.next,ne===wu&&(ae=!0);continue}else de={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},L===null?(R=L=de,T=y):L=L.next=de,Ke.lanes|=ne,Aa|=ne;de=W.action,Ho&&l(y,de),y=W.hasEagerState?W.eagerState:l(y,de)}else ne={lane:de,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},L===null?(R=L=ne,T=y):L=L.next=ne,Ke.lanes|=de,Aa|=de;W=W.next}while(W!==null&&W!==a);if(L===null?T=y:L.next=R,!hr(y,s.memoizedState)&&(pn=!0,ae&&(l=Tu,l!==null)))throw l;s.memoizedState=y,s.baseState=T,s.baseQueue=L,d.lastRenderedState=y}return m===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function Vv(s){var a=Yt(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var d=l.dispatch,m=l.pending,y=a.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do y=s(y,T.action),T=T.next;while(T!==m);hr(y,a.memoizedState)||(pn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,d]}function SS(s,a,l){var d=Ke,m=Yt(),y=lt;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=a();var T=!hr((pt||m).memoizedState,l);if(T&&(m.memoizedState=l,pn=!0),m=m.queue,Uv(RS.bind(null,d,m,s),[s]),m.getSnapshot!==a||T||Qt!==null&&Qt.memoizedState.tag&1){if(d.flags|=2048,Iu(9,AS.bind(null,d,m,l,a),{destroy:void 0},null),vt===null)throw Error(r(349));y||ga&60||IS(d,a,l)}return l}function IS(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Ke.updateQueue,a===null?(a=Up(),Ke.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function AS(s,a,l,d){a.value=l,a.getSnapshot=d,CS(a)&&xS(s)}function RS(s,a,l){return l(function(){CS(a)&&xS(s)})}function CS(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!hr(s,l)}catch{return!0}}function xS(s){var a=ha(s,2);a!==null&&Gn(a,s,2)}function Lv(s){var a=er();if(typeof s=="function"){var l=s;if(s=l(),Ho){Rr(!0);try{l()}finally{Rr(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:s},a}function NS(s,a,l,d){return s.baseState=l,Mv(s,pt,typeof d=="function"?d:ls)}function bV(s,a,l,d,m){if(qp(s))throw Error(r(485));if(s=a.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};C.T!==null?l(!0):y.isTransition=!1,d(y),l=a.pending,l===null?(y.next=a.pending=y,OS(a,y)):(y.next=l.next,a.pending=l.next=y)}}function OS(s,a){var l=a.action,d=a.payload,m=s.state;if(a.isTransition){var y=C.T,T={};C.T=T;try{var R=l(m,d),L=C.S;L!==null&&L(T,R),DS(s,a,R)}catch(W){jv(s,a,W)}finally{C.T=y}}else try{y=l(m,d),DS(s,a,y)}catch(W){jv(s,a,W)}}function DS(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){PS(s,a,d)},function(d){return jv(s,a,d)}):PS(s,a,l)}function PS(s,a,l){a.status="fulfilled",a.value=l,kS(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,OS(s,l)))}function jv(s,a,l){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=l,kS(a),a=a.next;while(a!==d)}s.action=null}function kS(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function MS(s,a){return a}function VS(s,a){if(lt){var l=vt.formState;if(l!==null){e:{var d=Ke;if(lt){if(In){t:{for(var m=In,y=bi;m.nodeType!==8;){if(!y){m=null;break t}if(m=oi(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){In=oi(m.nextSibling),d=m.data==="F!";break e}}zo(d)}d=!1}d&&(a=l[0])}}return l=er(),l.memoizedState=l.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:MS,lastRenderedState:a},l.queue=d,l=eI.bind(null,Ke,d),d.dispatch=l,d=Lv(!1),y=qv.bind(null,Ke,!1,d.queue),d=er(),m={state:a,dispatch:null,action:s,pending:null},d.queue=m,l=bV.bind(null,Ke,m,y,l),m.dispatch=l,d.memoizedState=s,[a,l,!1]}function LS(s){var a=Yt();return jS(a,pt,s)}function jS(s,a,l){a=Mv(s,a,MS)[0],s=Fp(ls)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?kd(a):a;var d=Yt(),m=d.queue,y=m.dispatch;return l!==d.memoizedState&&(Ke.flags|=2048,Iu(9,SV.bind(null,m,l),{destroy:void 0},null)),[a,y,s]}function SV(s,a){s.action=a}function US(s){var a=Yt(),l=pt;if(l!==null)return jS(a,l,s);Yt(),a=a.memoizedState,l=Yt();var d=l.queue.dispatch;return l.memoizedState=s,[a,d,!1]}function Iu(s,a,l,d){return s={tag:s,create:a,inst:l,deps:d,next:null},a=Ke.updateQueue,a===null&&(a=Up(),Ke.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(d=l.next,l.next=s,s.next=d,a.lastEffect=s),s}function BS(){return Yt().memoizedState}function zp(s,a,l,d){var m=er();Ke.flags|=s,m.memoizedState=Iu(1|a,l,{destroy:void 0},d===void 0?null:d)}function $p(s,a,l,d){var m=Yt();d=d===void 0?null:d;var y=m.memoizedState.inst;pt!==null&&d!==null&&xv(d,pt.memoizedState.deps)?m.memoizedState=Iu(a,l,y,d):(Ke.flags|=s,m.memoizedState=Iu(1|a,l,y,d))}function FS(s,a){zp(8390656,8,s,a)}function Uv(s,a){$p(2048,8,s,a)}function zS(s,a){return $p(4,2,s,a)}function $S(s,a){return $p(4,4,s,a)}function qS(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function HS(s,a,l){l=l!=null?l.concat([s]):null,$p(4,4,qS.bind(null,a,s),l)}function Bv(){}function GS(s,a){var l=Yt();a=a===void 0?null:a;var d=l.memoizedState;return a!==null&&xv(a,d[1])?d[0]:(l.memoizedState=[s,a],s)}function KS(s,a){var l=Yt();a=a===void 0?null:a;var d=l.memoizedState;if(a!==null&&xv(a,d[1]))return d[0];if(d=s(),Ho){Rr(!0);try{s()}finally{Rr(!1)}}return l.memoizedState=[d,a],d}function Fv(s,a,l){return l===void 0||ga&1073741824?s.memoizedState=a:(s.memoizedState=l,s=QI(),Ke.lanes|=s,Aa|=s,l)}function WS(s,a,l,d){return hr(l,a)?l:Eu.current!==null?(s=Fv(s,l,d),hr(s,a)||(pn=!0),s):ga&42?(s=QI(),Ke.lanes|=s,Aa|=s,a):(pn=!0,s.memoizedState=l)}function QS(s,a,l,d,m){var y=Y.p;Y.p=y!==0&&8>y?y:8;var T=C.T,R={};C.T=R,qv(s,!1,a,l);try{var L=m(),W=C.S;if(W!==null&&W(R,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ae=EV(L,d);Md(s,a,ae,yr(s))}else Md(s,a,d,yr(s))}catch(de){Md(s,a,{then:function(){},status:"rejected",reason:de},yr())}finally{Y.p=y,C.T=T}}function IV(){}function zv(s,a,l,d){if(s.tag!==5)throw Error(r(476));var m=YS(s).queue;QS(s,m,a,ue,l===null?IV:function(){return XS(s),l(d)})}function YS(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:ue},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function XS(s){var a=YS(s).next.queue;Md(s,a,{},yr())}function $v(){return kn(tf)}function ZS(){return Yt().memoizedState}function JS(){return Yt().memoizedState}function AV(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=yr();s=Ea(l);var d=wa(a,s,l);d!==null&&(Gn(d,a,l),jd(d,a,l)),a={cache:Av()},s.payload=a;return}a=a.return}}function RV(s,a,l){var d=yr();l={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},qp(s)?tI(a,l):(l=_v(s,a,l,d),l!==null&&(Gn(l,s,d),nI(l,a,d)))}function eI(s,a,l){var d=yr();Md(s,a,l,d)}function Md(s,a,l,d){var m={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(qp(s))tI(a,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var T=a.lastRenderedState,R=y(T,l);if(m.hasEagerState=!0,m.eagerState=R,hr(R,T))return Rp(s,a,m,0),vt===null&&Ap(),!1}catch{}finally{}if(l=_v(s,a,m,d),l!==null)return Gn(l,s,d),nI(l,a,d),!0}return!1}function qv(s,a,l,d){if(d={lane:2,revertLane:P_(),action:d,hasEagerState:!1,eagerState:null,next:null},qp(s)){if(a)throw Error(r(479))}else a=_v(s,l,d,2),a!==null&&Gn(a,s,2)}function qp(s){var a=s.alternate;return s===Ke||a!==null&&a===Ke}function tI(s,a){bu=Lp=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function nI(s,a,l){if(l&4194176){var d=a.lanes;d&=s.pendingLanes,l|=d,a.lanes=l,ra(s,l)}}var Ii={readContext:kn,use:Bp,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useLayoutEffect:Ht,useInsertionEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useSyncExternalStore:Ht,useId:Ht};Ii.useCacheRefresh=Ht,Ii.useMemoCache=Ht,Ii.useHostTransitionStatus=Ht,Ii.useFormState=Ht,Ii.useActionState=Ht,Ii.useOptimistic=Ht;var Go={readContext:kn,use:Bp,useCallback:function(s,a){return er().memoizedState=[s,a===void 0?null:a],s},useContext:kn,useEffect:FS,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,zp(4194308,4,qS.bind(null,a,s),l)},useLayoutEffect:function(s,a){return zp(4194308,4,s,a)},useInsertionEffect:function(s,a){zp(4,2,s,a)},useMemo:function(s,a){var l=er();a=a===void 0?null:a;var d=s();if(Ho){Rr(!0);try{s()}finally{Rr(!1)}}return l.memoizedState=[d,a],d},useReducer:function(s,a,l){var d=er();if(l!==void 0){var m=l(a);if(Ho){Rr(!0);try{l(a)}finally{Rr(!1)}}}else m=a;return d.memoizedState=d.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},d.queue=s,s=s.dispatch=RV.bind(null,Ke,s),[d.memoizedState,s]},useRef:function(s){var a=er();return s={current:s},a.memoizedState=s},useState:function(s){s=Lv(s);var a=s.queue,l=eI.bind(null,Ke,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:Bv,useDeferredValue:function(s,a){var l=er();return Fv(l,s,a)},useTransition:function(){var s=Lv(!1);return s=QS.bind(null,Ke,s.queue,!0,!1),er().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var d=Ke,m=er();if(lt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),vt===null)throw Error(r(349));st&60||IS(d,a,l)}m.memoizedState=l;var y={value:l,getSnapshot:a};return m.queue=y,FS(RS.bind(null,d,y,s),[s]),d.flags|=2048,Iu(9,AS.bind(null,d,y,l,a),{destroy:void 0},null),l},useId:function(){var s=er(),a=vt.identifierPrefix;if(lt){var l=as,d=ss;l=(d&~(1<<32-zn(d)-1)).toString(32)+l,a=":"+a+"R"+l,l=jp++,0<l&&(a+="H"+l.toString(32)),a+=":"}else l=wV++,a=":"+a+"r"+l.toString(32)+":";return s.memoizedState=a},useCacheRefresh:function(){return er().memoizedState=AV.bind(null,Ke)}};Go.useMemoCache=kv,Go.useHostTransitionStatus=$v,Go.useFormState=VS,Go.useActionState=VS,Go.useOptimistic=function(s){var a=er();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=qv.bind(null,Ke,!0,l),l.dispatch=a,[s,a]};var ya={readContext:kn,use:Bp,useCallback:GS,useContext:kn,useEffect:Uv,useImperativeHandle:HS,useInsertionEffect:zS,useLayoutEffect:$S,useMemo:KS,useReducer:Fp,useRef:BS,useState:function(){return Fp(ls)},useDebugValue:Bv,useDeferredValue:function(s,a){var l=Yt();return WS(l,pt.memoizedState,s,a)},useTransition:function(){var s=Fp(ls)[0],a=Yt().memoizedState;return[typeof s=="boolean"?s:kd(s),a]},useSyncExternalStore:SS,useId:ZS};ya.useCacheRefresh=JS,ya.useMemoCache=kv,ya.useHostTransitionStatus=$v,ya.useFormState=LS,ya.useActionState=LS,ya.useOptimistic=function(s,a){var l=Yt();return NS(l,pt,s,a)};var Ko={readContext:kn,use:Bp,useCallback:GS,useContext:kn,useEffect:Uv,useImperativeHandle:HS,useInsertionEffect:zS,useLayoutEffect:$S,useMemo:KS,useReducer:Vv,useRef:BS,useState:function(){return Vv(ls)},useDebugValue:Bv,useDeferredValue:function(s,a){var l=Yt();return pt===null?Fv(l,s,a):WS(l,pt.memoizedState,s,a)},useTransition:function(){var s=Vv(ls)[0],a=Yt().memoizedState;return[typeof s=="boolean"?s:kd(s),a]},useSyncExternalStore:SS,useId:ZS};Ko.useCacheRefresh=JS,Ko.useMemoCache=kv,Ko.useHostTransitionStatus=$v,Ko.useFormState=US,Ko.useActionState=US,Ko.useOptimistic=function(s,a){var l=Yt();return pt!==null?NS(l,pt,s,a):(l.baseState=s,[s,l.queue.dispatch])};function Hv(s,a,l,d){a=s.memoizedState,l=l(d,a),l=l==null?a:P({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Gv={isMounted:function(s){return(s=s._reactInternals)?me(s)===s:!1},enqueueSetState:function(s,a,l){s=s._reactInternals;var d=yr(),m=Ea(d);m.payload=a,l!=null&&(m.callback=l),a=wa(s,m,d),a!==null&&(Gn(a,s,d),jd(a,s,d))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var d=yr(),m=Ea(d);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=wa(s,m,d),a!==null&&(Gn(a,s,d),jd(a,s,d))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=yr(),d=Ea(l);d.tag=2,a!=null&&(d.callback=a),a=wa(s,d,l),a!==null&&(Gn(a,s,l),jd(a,s,l))}};function rI(s,a,l,d,m,y,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,y,T):a.prototype&&a.prototype.isPureReactComponent?!Td(l,d)||!Td(m,y):!0}function iI(s,a,l,d){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,d),a.state!==s&&Gv.enqueueReplaceState(a,a.state,null)}function Wo(s,a){var l=a;if("ref"in a){l={};for(var d in a)d!=="ref"&&(l[d]=a[d])}if(s=s.defaultProps){l===a&&(l=P({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}var Hp=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function sI(s){Hp(s)}function aI(s){console.error(s)}function oI(s){Hp(s)}function Gp(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function lI(s,a,l){try{var d=s.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Kv(s,a,l){return l=Ea(l),l.tag=3,l.payload={element:null},l.callback=function(){Gp(s,a)},l}function uI(s){return s=Ea(s),s.tag=3,s}function cI(s,a,l,d){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=d.value;s.payload=function(){return m(y)},s.callback=function(){lI(a,l,d)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(s.callback=function(){lI(a,l,d),typeof m!="function"&&(Ra===null?Ra=new Set([this]):Ra.add(this));var R=d.stack;this.componentDidCatch(d.value,{componentStack:R!==null?R:""})})}function CV(s,a,l,d,m){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=l.alternate,a!==null&&Ld(a,l,m,!0),l=jr.current,l!==null){switch(l.tag){case 13:return Si===null?C_():l.alternate===null&&Ut===0&&(Ut=3),l.flags&=-257,l.flags|=65536,l.lanes=m,d===bv?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([d]):a.add(d),N_(s,d,m)),!1;case 22:return l.flags|=65536,d===bv?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([d]):l.add(d)),N_(s,d,m)),!1}throw Error(r(435,l.tag))}return N_(s,d,m),C_(),!1}if(lt)return a=jr.current,a!==null?(!(a.flags&65536)&&(a.flags|=256),a.flags|=65536,a.lanes=m,d!==Tv&&(s=Error(r(422),{cause:d}),Ad(Mr(s,l)))):(d!==Tv&&(a=Error(r(423),{cause:d}),Ad(Mr(a,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,d=Mr(d,l),m=Kv(s.stateNode,d,m),l_(s,m),Ut!==4&&(Ut=2)),!1;var y=Error(r(520),{cause:d});if(y=Mr(y,l),Gd===null?Gd=[y]:Gd.push(y),Ut!==4&&(Ut=2),a===null)return!0;d=Mr(d,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=Kv(l.stateNode,d,s),l_(l,s),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ra===null||!Ra.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=uI(m),cI(m,s,l,d),l_(l,m),!1}l=l.return}while(l!==null);return!1}var dI=Error(r(461)),pn=!1;function An(s,a,l,d){a.child=s===null?gS(a,null,l,d):$o(a,s.child,l,d)}function fI(s,a,l,d,m){l=l.render;var y=a.ref;if("ref"in d){var T={};for(var R in d)R!=="ref"&&(T[R]=d[R])}else T=d;return Yo(a),d=Nv(s,a,l,T,y,m),R=Ov(),s!==null&&!pn?(Dv(s,a,m),us(s,a,m)):(lt&&R&&Ev(a),a.flags|=1,An(s,a,d,m),a.child)}function hI(s,a,l,d,m){if(s===null){var y=l.type;return typeof y=="function"&&!g_(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,pI(s,a,y,d,m)):(s=Xp(l.type,null,d,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!n_(s,m)){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:Td,l(T,d)&&s.ref===a.ref)return us(s,a,m)}return a.flags|=1,s=Ia(y,d),s.ref=a.ref,s.return=a,a.child=s}function pI(s,a,l,d,m){if(s!==null){var y=s.memoizedProps;if(Td(y,d)&&s.ref===a.ref)if(pn=!1,a.pendingProps=d=y,n_(s,m))s.flags&131072&&(pn=!0);else return a.lanes=s.lanes,us(s,a,m)}return Wv(s,a,l,d,m)}function mI(s,a,l){var d=a.pendingProps,m=d.children,y=(a.stateNode._pendingVisibility&2)!==0,T=s!==null?s.memoizedState:null;if(Vd(s,a),d.mode==="hidden"||y){if(a.flags&128){if(d=T!==null?T.baseLanes|l:l,s!==null){for(m=a.child=s.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;a.childLanes=y&~d}else a.childLanes=0,a.child=null;return gI(s,a,d,l)}if(l&536870912)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Vp(a,T!==null?T.cachePool:null),T!==null?yS(a,T):Sv(),vS(a);else return a.lanes=a.childLanes=536870912,gI(s,a,T!==null?T.baseLanes|l:l,l)}else T!==null?(Vp(a,T.cachePool),yS(a,T),ma(),a.memoizedState=null):(s!==null&&Vp(a,null),Sv(),ma());return An(s,a,m,l),a.child}function gI(s,a,l,d){var m=Cv();return m=m===null?null:{parent:on._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},s!==null&&Vp(a,null),Sv(),vS(a),s!==null&&Ld(s,a,d,!0),null}function Vd(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(a.flags|=2097664)}}function Wv(s,a,l,d,m){return Yo(a),l=Nv(s,a,l,d,void 0,m),d=Ov(),s!==null&&!pn?(Dv(s,a,m),us(s,a,m)):(lt&&d&&Ev(a),a.flags|=1,An(s,a,l,m),a.child)}function yI(s,a,l,d,m,y){return Yo(a),a.updateQueue=null,l=bS(a,d,l,m),TS(s),d=Ov(),s!==null&&!pn?(Dv(s,a,y),us(s,a,y)):(lt&&d&&Ev(a),a.flags|=1,An(s,a,l,y),a.child)}function vI(s,a,l,d,m){if(Yo(a),a.stateNode===null){var y=gu,T=l.contextType;typeof T=="object"&&T!==null&&(y=kn(T)),y=new l(d,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Gv,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=d,y.state=a.memoizedState,y.refs={},a_(a),T=l.contextType,y.context=typeof T=="object"&&T!==null?kn(T):gu,y.state=a.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Hv(a,l,T,d),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&Gv.enqueueReplaceState(y,y.state,null),Bd(a,d,y,m),Ud(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(s===null){y=a.stateNode;var R=a.memoizedProps,L=Wo(l,R);y.props=L;var W=y.context,ae=l.contextType;T=gu,typeof ae=="object"&&ae!==null&&(T=kn(ae));var de=l.getDerivedStateFromProps;ae=typeof de=="function"||typeof y.getSnapshotBeforeUpdate=="function",R=a.pendingProps!==R,ae||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R||W!==T)&&iI(a,y,d,T),_a=!1;var ne=a.memoizedState;y.state=ne,Bd(a,d,y,m),Ud(),W=a.memoizedState,R||ne!==W||_a?(typeof de=="function"&&(Hv(a,l,de,d),W=a.memoizedState),(L=_a||rI(a,l,L,d,ne,W,T))?(ae||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=W),y.props=d,y.state=W,y.context=T,d=L):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{y=a.stateNode,o_(s,a),T=a.memoizedProps,ae=Wo(l,T),y.props=ae,de=a.pendingProps,ne=y.context,W=l.contextType,L=gu,typeof W=="object"&&W!==null&&(L=kn(W)),R=l.getDerivedStateFromProps,(W=typeof R=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==de||ne!==L)&&iI(a,y,d,L),_a=!1,ne=a.memoizedState,y.state=ne,Bd(a,d,y,m),Ud();var se=a.memoizedState;T!==de||ne!==se||_a||s!==null&&s.dependencies!==null&&Kp(s.dependencies)?(typeof R=="function"&&(Hv(a,l,R,d),se=a.memoizedState),(ae=_a||rI(a,l,ae,d,ne,se,L)||s!==null&&s.dependencies!==null&&Kp(s.dependencies))?(W||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,se,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,se,L)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===s.memoizedProps&&ne===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&ne===s.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=se),y.props=d,y.state=se,y.context=L,d=ae):(typeof y.componentDidUpdate!="function"||T===s.memoizedProps&&ne===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&ne===s.memoizedState||(a.flags|=1024),d=!1)}return y=d,Vd(s,a),d=(a.flags&128)!==0,y||d?(y=a.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&d?(a.child=$o(a,s.child,null,m),a.child=$o(a,null,l,m)):An(s,a,l,m),a.memoizedState=y.state,s=a.child):s=us(s,a,m),s}function _I(s,a,l,d){return Id(),a.flags|=256,An(s,a,l,d),a.child}var Qv={dehydrated:null,treeContext:null,retryLane:0};function Yv(s){return{baseLanes:s,cachePool:wS()}}function Xv(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=zr),s}function EI(s,a,l){var d=a.pendingProps,m=!1,y=(a.flags&128)!==0,T;if((T=y)||(T=s!==null&&s.memoizedState===null?!1:(an.current&2)!==0),T&&(m=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,s===null){if(lt){if(m?pa(a):ma(),lt){var R=In,L;if(L=R){e:{for(L=R,R=bi;L.nodeType!==8;){if(!R){R=null;break e}if(L=oi(L.nextSibling),L===null){R=null;break e}}R=L}R!==null?(a.memoizedState={dehydrated:R,treeContext:Bo!==null?{id:ss,overflow:as}:null,retryLane:536870912},L=Fr(18,null,null,0),L.stateNode=R,L.return=a,a.child=L,Hn=a,In=null,L=!0):L=!1}L||zo(a)}if(R=a.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return R.data==="$!"?a.lanes=16:a.lanes=536870912,null;os(a)}return R=d.children,d=d.fallback,m?(ma(),m=a.mode,R=Jv({mode:"hidden",children:R},m),d=Zo(d,m,l,null),R.return=a,d.return=a,R.sibling=d,a.child=R,m=a.child,m.memoizedState=Yv(l),m.childLanes=Xv(s,T,l),a.memoizedState=Qv,d):(pa(a),Zv(a,R))}if(L=s.memoizedState,L!==null&&(R=L.dehydrated,R!==null)){if(y)a.flags&256?(pa(a),a.flags&=-257,a=e_(s,a,l)):a.memoizedState!==null?(ma(),a.child=s.child,a.flags|=128,a=null):(ma(),m=d.fallback,R=a.mode,d=Jv({mode:"visible",children:d.children},R),m=Zo(m,R,l,null),m.flags|=2,d.return=a,m.return=a,d.sibling=m,a.child=d,$o(a,s.child,null,l),d=a.child,d.memoizedState=Yv(l),d.childLanes=Xv(s,T,l),a.memoizedState=Qv,a=m);else if(pa(a),R.data==="$!"){if(T=R.nextSibling&&R.nextSibling.dataset,T)var W=T.dgst;T=W,d=Error(r(419)),d.stack="",d.digest=T,Ad({value:d,source:null,stack:null}),a=e_(s,a,l)}else if(pn||Ld(s,a,l,!1),T=(l&s.childLanes)!==0,pn||T){if(T=vt,T!==null){if(d=l&-l,d&42)d=1;else switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=64;break;case 268435456:d=134217728;break;default:d=0}if(d=d&(T.suspendedLanes|l)?0:d,d!==0&&d!==L.retryLane)throw L.retryLane=d,ha(s,d),Gn(T,s,d),dI}R.data==="$?"||C_(),a=e_(s,a,l)}else R.data==="$?"?(a.flags|=128,a.child=s.child,a=$V.bind(null,s),R._reactRetry=a,a=null):(s=L.treeContext,In=oi(R.nextSibling),Hn=a,lt=!0,si=null,bi=!1,s!==null&&(Vr[Lr++]=ss,Vr[Lr++]=as,Vr[Lr++]=Bo,ss=s.id,as=s.overflow,Bo=a),a=Zv(a,d.children),a.flags|=4096);return a}return m?(ma(),m=d.fallback,R=a.mode,L=s.child,W=L.sibling,d=Ia(L,{mode:"hidden",children:d.children}),d.subtreeFlags=L.subtreeFlags&31457280,W!==null?m=Ia(W,m):(m=Zo(m,R,l,null),m.flags|=2),m.return=a,d.return=a,d.sibling=m,a.child=d,d=m,m=a.child,R=s.child.memoizedState,R===null?R=Yv(l):(L=R.cachePool,L!==null?(W=on._currentValue,L=L.parent!==W?{parent:W,pool:W}:L):L=wS(),R={baseLanes:R.baseLanes|l,cachePool:L}),m.memoizedState=R,m.childLanes=Xv(s,T,l),a.memoizedState=Qv,d):(pa(a),l=s.child,s=l.sibling,l=Ia(l,{mode:"visible",children:d.children}),l.return=a,l.sibling=null,s!==null&&(T=a.deletions,T===null?(a.deletions=[s],a.flags|=16):T.push(s)),a.child=l,a.memoizedState=null,l)}function Zv(s,a){return a=Jv({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Jv(s,a){return GI(s,a,0,null)}function e_(s,a,l){return $o(a,s.child,null,l),s=Zv(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function wI(s,a,l){s.lanes|=a;var d=s.alternate;d!==null&&(d.lanes|=a),i_(s.return,a,l)}function t_(s,a,l,d,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=m)}function TI(s,a,l){var d=a.pendingProps,m=d.revealOrder,y=d.tail;if(An(s,a,d.children,l),d=an.current,d&2)d=d&1|2,a.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&wI(s,l,a);else if(s.tag===19)wI(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}switch(ke(an,d),m){case"forwards":for(l=a.child,m=null;l!==null;)s=l.alternate,s!==null&&Mp(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),t_(a,!1,m,l,y);break;case"backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&Mp(s)===null){a.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}t_(a,!0,l,null,y);break;case"together":t_(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function us(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),Aa|=a.lanes,!(l&a.childLanes))if(s!==null){if(Ld(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,l=Ia(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=Ia(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function n_(s,a){return s.lanes&a?!0:(s=s.dependencies,!!(s!==null&&Kp(s)))}function xV(s,a,l){switch(a.tag){case 3:ze(a,a.stateNode.containerInfo),va(a,on,s.memoizedState.cache),Id();break;case 27:case 5:Xe(a);break;case 4:ze(a,a.stateNode.containerInfo);break;case 10:va(a,a.type,a.memoizedProps.value);break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(pa(a),a.flags|=128,null):l&a.child.childLanes?EI(s,a,l):(pa(a),s=us(s,a,l),s!==null?s.sibling:null);pa(a);break;case 19:var m=(s.flags&128)!==0;if(d=(l&a.childLanes)!==0,d||(Ld(s,a,l,!1),d=(l&a.childLanes)!==0),m){if(d)return TI(s,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ke(an,an.current),d)break;return null;case 22:case 23:return a.lanes=0,mI(s,a,l);case 24:va(a,on,s.memoizedState.cache)}return us(s,a,l)}function bI(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)pn=!0;else{if(!n_(s,l)&&!(a.flags&128))return pn=!1,xV(s,a,l);pn=!!(s.flags&131072)}else pn=!1,lt&&a.flags&1048576&&oS(a,Np,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var d=a.elementType,m=d._init;if(d=m(d._payload),a.type=d,typeof d=="function")g_(d)?(s=Wo(d,s),a.tag=1,a=vI(null,a,d,s,l)):(a.tag=0,a=Wv(null,a,d,s,l));else{if(d!=null){if(m=d.$$typeof,m===A){a.tag=11,a=fI(null,a,d,s,l);break e}else if(m===U){a.tag=14,a=hI(null,a,d,s,l);break e}}throw a=N(d)||d,Error(r(306,a,""))}}return a;case 0:return Wv(s,a,a.type,a.pendingProps,l);case 1:return d=a.type,m=Wo(d,a.pendingProps),vI(s,a,d,m,l);case 3:e:{if(ze(a,a.stateNode.containerInfo),s===null)throw Error(r(387));var y=a.pendingProps;m=a.memoizedState,d=m.element,o_(s,a),Bd(a,y,null,l);var T=a.memoizedState;if(y=T.cache,va(a,on,y),y!==m.cache&&s_(a,[on],l,!0),Ud(),y=T.element,m.isDehydrated)if(m={element:y,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=m,a.memoizedState=m,a.flags&256){a=_I(s,a,y,l);break e}else if(y!==d){d=Mr(Error(r(424)),a),Ad(d),a=_I(s,a,y,l);break e}else for(In=oi(a.stateNode.containerInfo.firstChild),Hn=a,lt=!0,si=null,bi=!0,l=gS(a,null,y,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Id(),y===d){a=us(s,a,l);break e}An(s,a,y,l)}a=a.child}return a;case 26:return Vd(s,a),s===null?(l=AA(a.type,null,a.pendingProps,null))?a.memoizedState=l:lt||(l=a.type,s=a.pendingProps,d=um(Ge.current).createElement(l),d[dn]=a,d[nn]=s,Rn(d,l,s),Nt(d),a.stateNode=d):a.memoizedState=AA(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Xe(a),s===null&&lt&&(d=a.stateNode=bA(a.type,a.pendingProps,Ge.current),Hn=a,bi=!0,In=oi(d.firstChild)),d=a.pendingProps.children,s!==null||lt?An(s,a,d,l):a.child=$o(a,null,d,l),Vd(s,a),a.child;case 5:return s===null&&lt&&((m=d=In)&&(d=sL(d,a.type,a.pendingProps,bi),d!==null?(a.stateNode=d,Hn=a,In=oi(d.firstChild),bi=!1,m=!0):m=!1),m||zo(a)),Xe(a),m=a.type,y=a.pendingProps,T=s!==null?s.memoizedProps:null,d=y.children,z_(m,y)?d=null:T!==null&&z_(m,T)&&(a.flags|=32),a.memoizedState!==null&&(m=Nv(s,a,TV,null,null,l),tf._currentValue=m),Vd(s,a),An(s,a,d,l),a.child;case 6:return s===null&&lt&&((s=l=In)&&(l=aL(l,a.pendingProps,bi),l!==null?(a.stateNode=l,Hn=a,In=null,s=!0):s=!1),s||zo(a)),null;case 13:return EI(s,a,l);case 4:return ze(a,a.stateNode.containerInfo),d=a.pendingProps,s===null?a.child=$o(a,null,d,l):An(s,a,d,l),a.child;case 11:return fI(s,a,a.type,a.pendingProps,l);case 7:return An(s,a,a.pendingProps,l),a.child;case 8:return An(s,a,a.pendingProps.children,l),a.child;case 12:return An(s,a,a.pendingProps.children,l),a.child;case 10:return d=a.pendingProps,va(a,a.type,d.value),An(s,a,d.children,l),a.child;case 9:return m=a.type._context,d=a.pendingProps.children,Yo(a),m=kn(m),d=d(m),a.flags|=1,An(s,a,d,l),a.child;case 14:return hI(s,a,a.type,a.pendingProps,l);case 15:return pI(s,a,a.type,a.pendingProps,l);case 19:return TI(s,a,l);case 22:return mI(s,a,l);case 24:return Yo(a),d=kn(on),s===null?(m=Cv(),m===null&&(m=vt,y=Av(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),a.memoizedState={parent:d,cache:m},a_(a),va(a,on,m)):(s.lanes&l&&(o_(s,a),Bd(a,null,null,l),Ud()),m=s.memoizedState,y=a.memoizedState,m.parent!==d?(m={parent:d,cache:d},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),va(a,on,d)):(d=y.cache,va(a,on,d),d!==m.cache&&s_(a,[on],l,!0))),An(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}var r_=ve(null),Qo=null,cs=null;function va(s,a,l){ke(r_,a._currentValue),a._currentValue=l}function ds(s){s._currentValue=r_.current,Ve(r_)}function i_(s,a,l){for(;s!==null;){var d=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),s===l)break;s=s.return}}function s_(s,a,l,d){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var T=m.child;y=y.firstContext;e:for(;y!==null;){var R=y;y=m;for(var L=0;L<a.length;L++)if(R.context===a[L]){y.lanes|=l,R=y.alternate,R!==null&&(R.lanes|=l),i_(y.return,l,s),d||(T=null);break e}y=R.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(r(341));T.lanes|=l,y=T.alternate,y!==null&&(y.lanes|=l),i_(T,l,s),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===s){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function Ld(s,a,l,d){s=null;for(var m=a,y=!1;m!==null;){if(!y){if(m.flags&524288)y=!0;else if(m.flags&262144)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var R=m.type;hr(m.pendingProps.value,T.value)||(s!==null?s.push(R):s=[R])}}else if(m===Be.current){if(T=m.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(tf):s=[tf])}m=m.return}s!==null&&s_(a,s,l,d),a.flags|=262144}function Kp(s){for(s=s.firstContext;s!==null;){if(!hr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Yo(s){Qo=s,cs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function kn(s){return SI(Qo,s)}function Wp(s,a){return Qo===null&&Yo(s),SI(s,a)}function SI(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},cs===null){if(s===null)throw Error(r(308));cs=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else cs=cs.next=a;return l}var _a=!1;function a_(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function o_(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ea(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function wa(s,a,l){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,Dt&2){var m=d.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),d.pending=a,a=Cp(s),sS(s,null,l),a}return Rp(s,d,a,l),Cp(s)}function jd(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194176)!==0)){var d=a.lanes;d&=s.pendingLanes,l|=d,a.lanes=l,ra(s,l)}}function l_(s,a){var l=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?m=y=a:y=y.next=a}else m=y=a;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var u_=!1;function Ud(){if(u_){var s=Tu;if(s!==null)throw s}}function Bd(s,a,l,d){u_=!1;var m=s.updateQueue;_a=!1;var y=m.firstBaseUpdate,T=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var L=R,W=L.next;L.next=null,T===null?y=W:T.next=W,T=L;var ae=s.alternate;ae!==null&&(ae=ae.updateQueue,R=ae.lastBaseUpdate,R!==T&&(R===null?ae.firstBaseUpdate=W:R.next=W,ae.lastBaseUpdate=L))}if(y!==null){var de=m.baseState;T=0,ae=W=L=null,R=y;do{var ne=R.lane&-536870913,se=ne!==R.lane;if(se?(st&ne)===ne:(d&ne)===ne){ne!==0&&ne===wu&&(u_=!0),ae!==null&&(ae=ae.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Re=s,Fe=R;ne=a;var Bt=l;switch(Fe.tag){case 1:if(Re=Fe.payload,typeof Re=="function"){de=Re.call(Bt,de,ne);break e}de=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Fe.payload,ne=typeof Re=="function"?Re.call(Bt,de,ne):Re,ne==null)break e;de=P({},de,ne);break e;case 2:_a=!0}}ne=R.callback,ne!==null&&(s.flags|=64,se&&(s.flags|=8192),se=m.callbacks,se===null?m.callbacks=[ne]:se.push(ne))}else se={lane:ne,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ae===null?(W=ae=se,L=de):ae=ae.next=se,T|=ne;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;se=R,R=se.next,se.next=null,m.lastBaseUpdate=se,m.shared.pending=null}}while(!0);ae===null&&(L=de),m.baseState=L,m.firstBaseUpdate=W,m.lastBaseUpdate=ae,y===null&&(m.shared.lanes=0),Aa|=T,s.lanes=T,s.memoizedState=de}}function II(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function AI(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)II(l[s],a)}function Fd(s,a){try{var l=a.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var m=d.next;l=m;do{if((l.tag&s)===s){d=void 0;var y=l.create,T=l.inst;d=y(),T.destroy=d}l=l.next}while(l!==m)}}catch(R){yt(a,a.return,R)}}function Ta(s,a,l){try{var d=a.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var y=m.next;d=y;do{if((d.tag&s)===s){var T=d.inst,R=T.destroy;if(R!==void 0){T.destroy=void 0,m=a;var L=l;try{R()}catch(W){yt(m,L,W)}}}d=d.next}while(d!==y)}}catch(W){yt(a,a.return,W)}}function RI(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{AI(a,l)}catch(d){yt(s,s.return,d)}}}function CI(s,a,l){l.props=Wo(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(d){yt(s,a,d)}}function Xo(s,a){try{var l=s.ref;if(l!==null){var d=s.stateNode;switch(s.tag){case 26:case 27:case 5:var m=d;break;default:m=d}typeof l=="function"?s.refCleanup=l(m):l.current=m}}catch(y){yt(s,a,y)}}function pr(s,a){var l=s.ref,d=s.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(m){yt(s,a,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){yt(s,a,m)}else l.current=null}function xI(s){var a=s.type,l=s.memoizedProps,d=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(m){yt(s,s.return,m)}}function NI(s,a,l){try{var d=s.stateNode;eL(d,s.type,l,a),d[nn]=a}catch(m){yt(s,s.return,m)}}function OI(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27||s.tag===4}function c_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||OI(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==27&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function d_(s,a,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,a?l.nodeType===8?l.parentNode.insertBefore(s,a):l.insertBefore(s,a):(l.nodeType===8?(a=l.parentNode,a.insertBefore(s,l)):(a=l,a.appendChild(s)),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=lm));else if(d!==4&&d!==27&&(s=s.child,s!==null))for(d_(s,a,l),s=s.sibling;s!==null;)d_(s,a,l),s=s.sibling}function Qp(s,a,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(d!==4&&d!==27&&(s=s.child,s!==null))for(Qp(s,a,l),s=s.sibling;s!==null;)Qp(s,a,l),s=s.sibling}var fs=!1,jt=!1,f_=!1,DI=typeof WeakSet=="function"?WeakSet:Set,mn=null,PI=!1;function NV(s,a){if(s=s.containerInfo,B_=mm,s=Y0(s),pv(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,R=-1,L=-1,W=0,ae=0,de=s,ne=null;t:for(;;){for(var se;de!==l||m!==0&&de.nodeType!==3||(R=T+m),de!==y||d!==0&&de.nodeType!==3||(L=T+d),de.nodeType===3&&(T+=de.nodeValue.length),(se=de.firstChild)!==null;)ne=de,de=se;for(;;){if(de===s)break t;if(ne===l&&++W===m&&(R=T),ne===y&&++ae===d&&(L=T),(se=de.nextSibling)!==null)break;de=ne,ne=de.parentNode}de=se}l=R===-1||L===-1?null:{start:R,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(F_={focusedElem:s,selectionRange:l},mm=!1,mn=a;mn!==null;)if(a=mn,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,mn=s;else for(;mn!==null;){switch(a=mn,y=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if(s&1024&&y!==null){s=void 0,l=a,m=y.memoizedProps,y=y.memoizedState,d=l.stateNode;try{var Re=Wo(l.type,m,l.elementType===l.type);s=d.getSnapshotBeforeUpdate(Re,y),d.__reactInternalSnapshotBeforeUpdate=s}catch(Fe){yt(l,l.return,Fe)}}break;case 3:if(s&1024){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)H_(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":H_(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(s&1024)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,mn=s;break}mn=a.return}return Re=PI,PI=!1,Re}function kI(s,a,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:ps(s,l),d&4&&Fd(5,l);break;case 1:if(ps(s,l),d&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(R){yt(l,l.return,R)}else{var m=Wo(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(m,a,s.__reactInternalSnapshotBeforeUpdate)}catch(R){yt(l,l.return,R)}}d&64&&RI(l),d&512&&Xo(l,l.return);break;case 3:if(ps(s,l),d&64&&(d=l.updateQueue,d!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{AI(d,s)}catch(R){yt(l,l.return,R)}}break;case 26:ps(s,l),d&512&&Xo(l,l.return);break;case 27:case 5:ps(s,l),a===null&&d&4&&xI(l),d&512&&Xo(l,l.return);break;case 12:ps(s,l);break;case 13:ps(s,l),d&4&&LI(s,l);break;case 22:if(m=l.memoizedState!==null||fs,!m){a=a!==null&&a.memoizedState!==null||jt;var y=fs,T=jt;fs=m,(jt=a)&&!T?ba(s,l,(l.subtreeFlags&8772)!==0):ps(s,l),fs=y,jt=T}d&512&&(l.memoizedProps.mode==="manual"?Xo(l,l.return):pr(l,l.return));break;default:ps(s,l)}}function MI(s){var a=s.alternate;a!==null&&(s.alternate=null,MI(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Ro(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Xt=null,mr=!1;function hs(s,a,l){for(l=l.child;l!==null;)VI(s,a,l),l=l.sibling}function VI(s,a,l){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(fi,l)}catch{}switch(l.tag){case 26:jt||pr(l,a),hs(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:jt||pr(l,a);var d=Xt,m=mr;for(Xt=l.stateNode,hs(s,a,l),l=l.stateNode,a=l.attributes;a.length;)l.removeAttributeNode(a[0]);Ro(l),Xt=d,mr=m;break;case 5:jt||pr(l,a);case 6:m=Xt;var y=mr;if(Xt=null,hs(s,a,l),Xt=m,mr=y,Xt!==null)if(mr)try{s=Xt,d=l.stateNode,s.nodeType===8?s.parentNode.removeChild(d):s.removeChild(d)}catch(T){yt(l,a,T)}else try{Xt.removeChild(l.stateNode)}catch(T){yt(l,a,T)}break;case 18:Xt!==null&&(mr?(a=Xt,l=l.stateNode,a.nodeType===8?q_(a.parentNode,l):a.nodeType===1&&q_(a,l),af(a)):q_(Xt,l.stateNode));break;case 4:d=Xt,m=mr,Xt=l.stateNode.containerInfo,mr=!0,hs(s,a,l),Xt=d,mr=m;break;case 0:case 11:case 14:case 15:jt||Ta(2,l,a),jt||Ta(4,l,a),hs(s,a,l);break;case 1:jt||(pr(l,a),d=l.stateNode,typeof d.componentWillUnmount=="function"&&CI(l,a,d)),hs(s,a,l);break;case 21:hs(s,a,l);break;case 22:jt||pr(l,a),jt=(d=jt)||l.memoizedState!==null,hs(s,a,l),jt=d;break;default:hs(s,a,l)}}function LI(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{af(s)}catch(l){yt(a,a.return,l)}}function OV(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new DI),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new DI),a;default:throw Error(r(435,s.tag))}}function h_(s,a){var l=OV(s);a.forEach(function(d){var m=qV.bind(null,s,d);l.has(d)||(l.add(d),d.then(m,m))})}function Ur(s,a){var l=a.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d],y=s,T=a,R=T;e:for(;R!==null;){switch(R.tag){case 27:case 5:Xt=R.stateNode,mr=!1;break e;case 3:Xt=R.stateNode.containerInfo,mr=!0;break e;case 4:Xt=R.stateNode.containerInfo,mr=!0;break e}R=R.return}if(Xt===null)throw Error(r(160));VI(y,T,m),Xt=null,mr=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)jI(a,s),a=a.sibling}var ai=null;function jI(s,a){var l=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ur(a,s),Br(s),d&4&&(Ta(3,s,s.return),Fd(3,s),Ta(5,s,s.return));break;case 1:Ur(a,s),Br(s),d&512&&(jt||l===null||pr(l,l.return)),d&64&&fs&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var m=ai;if(Ur(a,s),Br(s),d&512&&(jt||l===null||pr(l,l.return)),d&4){var y=l!==null?l.memoizedState:null;if(d=s.memoizedState,l===null)if(d===null)if(s.stateNode===null){e:{d=s.type,l=s.memoizedProps,m=m.ownerDocument||m;t:switch(d){case"title":y=m.getElementsByTagName("title")[0],(!y||y[sa]||y[dn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(d),m.head.insertBefore(y,m.querySelector("head > title"))),Rn(y,d,l),y[dn]=s,Nt(y),d=y;break e;case"link":var T=xA("link","href",m).get(d+(l.href||""));if(T){for(var R=0;R<T.length;R++)if(y=T[R],y.getAttribute("href")===(l.href==null?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(R,1);break t}}y=m.createElement(d),Rn(y,d,l),m.head.appendChild(y);break;case"meta":if(T=xA("meta","content",m).get(d+(l.content||""))){for(R=0;R<T.length;R++)if(y=T[R],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(R,1);break t}}y=m.createElement(d),Rn(y,d,l),m.head.appendChild(y);break;default:throw Error(r(468,d))}y[dn]=s,Nt(y),d=y}s.stateNode=d}else NA(m,s.type,s.stateNode);else s.stateNode=CA(m,d,s.memoizedProps);else y!==d?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,d===null?NA(m,s.type,s.stateNode):CA(m,d,s.memoizedProps)):d===null&&s.stateNode!==null&&NI(s,s.memoizedProps,l.memoizedProps)}break;case 27:if(d&4&&s.alternate===null){m=s.stateNode,y=s.memoizedProps;try{for(var L=m.firstChild;L;){var W=L.nextSibling,ae=L.nodeName;L[sa]||ae==="HEAD"||ae==="BODY"||ae==="SCRIPT"||ae==="STYLE"||ae==="LINK"&&L.rel.toLowerCase()==="stylesheet"||m.removeChild(L),L=W}for(var de=s.type,ne=m.attributes;ne.length;)m.removeAttributeNode(ne[0]);Rn(m,de,y),m[dn]=s,m[nn]=y}catch(Re){yt(s,s.return,Re)}}case 5:if(Ur(a,s),Br(s),d&512&&(jt||l===null||pr(l,l.return)),s.flags&32){m=s.stateNode;try{Nr(m,"")}catch(Re){yt(s,s.return,Re)}}d&4&&s.stateNode!=null&&(m=s.memoizedProps,NI(s,m,l!==null?l.memoizedProps:m)),d&1024&&(f_=!0);break;case 6:if(Ur(a,s),Br(s),d&4){if(s.stateNode===null)throw Error(r(162));d=s.memoizedProps,l=s.stateNode;try{l.nodeValue=d}catch(Re){yt(s,s.return,Re)}}break;case 3:if(fm=null,m=ai,ai=cm(a.containerInfo),Ur(a,s),ai=m,Br(s),d&4&&l!==null&&l.memoizedState.isDehydrated)try{af(a.containerInfo)}catch(Re){yt(s,s.return,Re)}f_&&(f_=!1,UI(s));break;case 4:d=ai,ai=cm(s.stateNode.containerInfo),Ur(a,s),Br(s),ai=d;break;case 12:Ur(a,s),Br(s);break;case 13:Ur(a,s),Br(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(T_=xt()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,h_(s,d)));break;case 22:if(d&512&&(jt||l===null||pr(l,l.return)),L=s.memoizedState!==null,W=l!==null&&l.memoizedState!==null,ae=fs,de=jt,fs=ae||L,jt=de||W,Ur(a,s),jt=de,fs=ae,Br(s),a=s.stateNode,a._current=s,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,d&8192&&(a._visibility=L?a._visibility&-2:a._visibility|1,L&&(a=fs||jt,l===null||W||a||Au(s)),s.memoizedProps===null||s.memoizedProps.mode!=="manual"))e:for(l=null,a=s;;){if(a.tag===5||a.tag===26||a.tag===27){if(l===null){W=l=a;try{if(m=W.stateNode,L)y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{T=W.stateNode,R=W.memoizedProps.style;var se=R!=null&&R.hasOwnProperty("display")?R.display:null;T.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(Re){yt(W,W.return,Re)}}}else if(a.tag===6){if(l===null){W=a;try{W.stateNode.nodeValue=L?"":W.memoizedProps}catch(Re){yt(W,W.return,Re)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=s.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,h_(s,l))));break;case 19:Ur(a,s),Br(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,h_(s,d)));break;case 21:break;default:Ur(a,s),Br(s)}}function Br(s){var a=s.flags;if(a&2){try{if(s.tag!==27){e:{for(var l=s.return;l!==null;){if(OI(l)){var d=l;break e}l=l.return}throw Error(r(160))}switch(d.tag){case 27:var m=d.stateNode,y=c_(s);Qp(s,y,m);break;case 5:var T=d.stateNode;d.flags&32&&(Nr(T,""),d.flags&=-33);var R=c_(s);Qp(s,R,T);break;case 3:case 4:var L=d.stateNode.containerInfo,W=c_(s);d_(s,W,L);break;default:throw Error(r(161))}}}catch(ae){yt(s,s.return,ae)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function UI(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;UI(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function ps(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)kI(s,a.alternate,a),a=a.sibling}function Au(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Ta(4,a,a.return),Au(a);break;case 1:pr(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&CI(a,a.return,l),Au(a);break;case 26:case 27:case 5:pr(a,a.return),Au(a);break;case 22:pr(a,a.return),a.memoizedState===null&&Au(a);break;default:Au(a)}s=s.sibling}}function ba(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,m=s,y=a,T=y.flags;switch(y.tag){case 0:case 11:case 15:ba(m,y,l),Fd(4,y);break;case 1:if(ba(m,y,l),d=y,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(W){yt(d,d.return,W)}if(d=y,m=d.updateQueue,m!==null){var R=d.stateNode;try{var L=m.shared.hiddenCallbacks;if(L!==null)for(m.shared.hiddenCallbacks=null,m=0;m<L.length;m++)II(L[m],R)}catch(W){yt(d,d.return,W)}}l&&T&64&&RI(y),Xo(y,y.return);break;case 26:case 27:case 5:ba(m,y,l),l&&d===null&&T&4&&xI(y),Xo(y,y.return);break;case 12:ba(m,y,l);break;case 13:ba(m,y,l),l&&T&4&&LI(m,y);break;case 22:y.memoizedState===null&&ba(m,y,l),Xo(y,y.return);break;default:ba(m,y,l)}a=a.sibling}}function p_(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Od(l))}function m_(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Od(s))}function Sa(s,a,l,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)BI(s,a,l,d),a=a.sibling}function BI(s,a,l,d){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Sa(s,a,l,d),m&2048&&Fd(9,a);break;case 3:Sa(s,a,l,d),m&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Od(s)));break;case 12:if(m&2048){Sa(s,a,l,d),s=a.stateNode;try{var y=a.memoizedProps,T=y.id,R=y.onPostCommit;typeof R=="function"&&R(T,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(L){yt(a,a.return,L)}}else Sa(s,a,l,d);break;case 23:break;case 22:y=a.stateNode,a.memoizedState!==null?y._visibility&4?Sa(s,a,l,d):zd(s,a):y._visibility&4?Sa(s,a,l,d):(y._visibility|=4,Ru(s,a,l,d,(a.subtreeFlags&10256)!==0)),m&2048&&p_(a.alternate,a);break;case 24:Sa(s,a,l,d),m&2048&&m_(a.alternate,a);break;default:Sa(s,a,l,d)}}function Ru(s,a,l,d,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=s,T=a,R=l,L=d,W=T.flags;switch(T.tag){case 0:case 11:case 15:Ru(y,T,R,L,m),Fd(8,T);break;case 23:break;case 22:var ae=T.stateNode;T.memoizedState!==null?ae._visibility&4?Ru(y,T,R,L,m):zd(y,T):(ae._visibility|=4,Ru(y,T,R,L,m)),m&&W&2048&&p_(T.alternate,T);break;case 24:Ru(y,T,R,L,m),m&&W&2048&&m_(T.alternate,T);break;default:Ru(y,T,R,L,m)}a=a.sibling}}function zd(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,d=a,m=d.flags;switch(d.tag){case 22:zd(l,d),m&2048&&p_(d.alternate,d);break;case 24:zd(l,d),m&2048&&m_(d.alternate,d);break;default:zd(l,d)}a=a.sibling}}var $d=8192;function Cu(s){if(s.subtreeFlags&$d)for(s=s.child;s!==null;)FI(s),s=s.sibling}function FI(s){switch(s.tag){case 26:Cu(s),s.flags&$d&&s.memoizedState!==null&&_L(ai,s.memoizedState,s.memoizedProps);break;case 5:Cu(s);break;case 3:case 4:var a=ai;ai=cm(s.stateNode.containerInfo),Cu(s),ai=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=$d,$d=16777216,Cu(s),$d=a):Cu(s));break;default:Cu(s)}}function zI(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function qd(s){var a=s.deletions;if(s.flags&16){if(a!==null)for(var l=0;l<a.length;l++){var d=a[l];mn=d,qI(d,s)}zI(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)$I(s),s=s.sibling}function $I(s){switch(s.tag){case 0:case 11:case 15:qd(s),s.flags&2048&&Ta(9,s,s.return);break;case 3:qd(s);break;case 12:qd(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&4&&(s.return===null||s.return.tag!==13)?(a._visibility&=-5,Yp(s)):qd(s);break;default:qd(s)}}function Yp(s){var a=s.deletions;if(s.flags&16){if(a!==null)for(var l=0;l<a.length;l++){var d=a[l];mn=d,qI(d,s)}zI(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Ta(8,a,a.return),Yp(a);break;case 22:l=a.stateNode,l._visibility&4&&(l._visibility&=-5,Yp(a));break;default:Yp(a)}s=s.sibling}}function qI(s,a){for(;mn!==null;){var l=mn;switch(l.tag){case 0:case 11:case 15:Ta(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Od(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,mn=d;else e:for(l=s;mn!==null;){d=mn;var m=d.sibling,y=d.return;if(MI(d),d===l){mn=null;break e}if(m!==null){m.return=y,mn=m;break e}mn=y}}}function DV(s,a,l,d){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(s,a,l,d){return new DV(s,a,l,d)}function g_(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ia(s,a){var l=s.alternate;return l===null?(l=Fr(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&31457280,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function HI(s,a){s.flags&=31457282;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Xp(s,a,l,d,m,y){var T=0;if(d=s,typeof s=="function")g_(s)&&(T=1);else if(typeof s=="string")T=yL(s,l,He.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case f:return Zo(l.children,m,y,a);case h:T=8,m|=24;break;case g:return s=Fr(12,l,a,m|2),s.elementType=g,s.lanes=y,s;case k:return s=Fr(13,l,a,m),s.elementType=k,s.lanes=y,s;case x:return s=Fr(19,l,a,m),s.elementType=x,s.lanes=y,s;case B:return GI(l,m,y,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case v:case S:T=10;break e;case E:T=9;break e;case A:T=11;break e;case U:T=14;break e;case $:T=16,d=null;break e}T=29,l=Error(r(130,s===null?"null":typeof s,"")),d=null}return a=Fr(T,l,a,m),a.elementType=s,a.type=d,a.lanes=y,a}function Zo(s,a,l,d){return s=Fr(7,s,d,a),s.lanes=l,s}function GI(s,a,l,d){s=Fr(22,s,d,a),s.elementType=B,s.lanes=l;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=m._current;if(y===null)throw Error(r(456));if(!(m._pendingVisibility&2)){var T=ha(y,2);T!==null&&(m._pendingVisibility|=2,Gn(T,y,2))}},attach:function(){var y=m._current;if(y===null)throw Error(r(456));if(m._pendingVisibility&2){var T=ha(y,2);T!==null&&(m._pendingVisibility&=-3,Gn(T,y,2))}}};return s.stateNode=m,s}function y_(s,a,l){return s=Fr(6,s,null,a),s.lanes=l,s}function v_(s,a,l){return a=Fr(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function ms(s){s.flags|=4}function KI(s,a){if(a.type!=="stylesheet"||a.state.loading&4)s.flags&=-16777217;else if(s.flags|=16777216,!OA(a)){if(a=jr.current,a!==null&&((st&4194176)===st?Si!==null:(st&62914560)!==st&&!(st&536870912)||a!==Si))throw Cd=bv,cS;s.flags|=8192}}function Zp(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?ta():536870912,s.lanes|=a,Nu|=a)}function Hd(s,a){if(!lt)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Ot(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,d=0;if(a)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&31457280,d|=m.flags&31457280,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=d,s.childLanes=l,a}function PV(s,a,l){var d=a.pendingProps;switch(wv(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(a),null;case 1:return Ot(a),null;case 3:return l=a.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),ds(on),gt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Sd(a)?ms(a):s===null||s.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,si!==null&&(A_(si),si=null))),Ot(a),null;case 26:return l=a.memoizedState,s===null?(ms(a),l!==null?(Ot(a),KI(a,l)):(Ot(a),a.flags&=-16777217)):l?l!==s.memoizedState?(ms(a),Ot(a),KI(a,l)):(Ot(a),a.flags&=-16777217):(s.memoizedProps!==d&&ms(a),Ot(a),a.flags&=-16777217),null;case 27:Tn(a),l=Ge.current;var m=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==d&&ms(a);else{if(!d){if(a.stateNode===null)throw Error(r(166));return Ot(a),null}s=He.current,Sd(a)?lS(a):(s=bA(m,d,l),a.stateNode=s,ms(a))}return Ot(a),null;case 5:if(Tn(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==d&&ms(a);else{if(!d){if(a.stateNode===null)throw Error(r(166));return Ot(a),null}if(s=He.current,Sd(a))lS(a);else{switch(m=um(Ge.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof d.is=="string"?m.createElement("select",{is:d.is}):m.createElement("select"),d.multiple?s.multiple=!0:d.size&&(s.size=d.size);break;default:s=typeof d.is=="string"?m.createElement(l,{is:d.is}):m.createElement(l)}}s[dn]=a,s[nn]=d;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=s;e:switch(Rn(s,l,d),l){case"button":case"input":case"select":case"textarea":s=!!d.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ms(a)}}return Ot(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==d&&ms(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error(r(166));if(s=Ge.current,Sd(a)){if(s=a.stateNode,l=a.memoizedProps,d=null,m=Hn,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}s[dn]=a,s=!!(s.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||yA(s.nodeValue,l)),s||zo(a)}else s=um(s).createTextNode(d),s[dn]=a,a.stateNode=s}return Ot(a),null;case 13:if(d=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Sd(a),d!==null&&d.dehydrated!==null){if(s===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[dn]=a}else Id(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Ot(a),m=!1}else si!==null&&(A_(si),si=null),m=!0;if(!m)return a.flags&256?(os(a),a):(os(a),null)}if(os(a),a.flags&128)return a.lanes=l,a;if(l=d!==null,s=s!==null&&s.memoizedState!==null,l){d=a.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool);var y=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==m&&(d.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),Zp(a,a.updateQueue),Ot(a),null;case 4:return gt(),s===null&&L_(a.stateNode.containerInfo),Ot(a),null;case 10:return ds(a.type),Ot(a),null;case 19:if(Ve(an),m=a.memoizedState,m===null)return Ot(a),null;if(d=(a.flags&128)!==0,y=m.rendering,y===null)if(d)Hd(m,!1);else{if(Ut!==0||s!==null&&s.flags&128)for(s=a.child;s!==null;){if(y=Mp(s),y!==null){for(a.flags|=128,Hd(m,!1),s=y.updateQueue,a.updateQueue=s,Zp(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)HI(l,s),l=l.sibling;return ke(an,an.current&1|2),a.child}s=s.sibling}m.tail!==null&&xt()>Jp&&(a.flags|=128,d=!0,Hd(m,!1),a.lanes=4194304)}else{if(!d)if(s=Mp(y),s!==null){if(a.flags|=128,d=!0,s=s.updateQueue,a.updateQueue=s,Zp(a,s),Hd(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!lt)return Ot(a),null}else 2*xt()-m.renderingStartTime>Jp&&l!==536870912&&(a.flags|=128,d=!0,Hd(m,!1),a.lanes=4194304);m.isBackwards?(y.sibling=a.child,a.child=y):(s=m.last,s!==null?s.sibling=y:a.child=y,m.last=y)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=xt(),a.sibling=null,s=an.current,ke(an,d?s&1|2:s&1),a):(Ot(a),null);case 22:case 23:return os(a),Iv(),d=a.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?l&536870912&&!(a.flags&128)&&(Ot(a),a.subtreeFlags&6&&(a.flags|=8192)):Ot(a),l=a.updateQueue,l!==null&&Zp(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==l&&(a.flags|=2048),s!==null&&Ve(qo),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),ds(on),Ot(a),null;case 25:return null}throw Error(r(156,a.tag))}function kV(s,a){switch(wv(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return ds(on),gt(),s=a.flags,s&65536&&!(s&128)?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Tn(a),null;case 13:if(os(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Id()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return Ve(an),null;case 4:return gt(),null;case 10:return ds(a.type),null;case 22:case 23:return os(a),Iv(),s!==null&&Ve(qo),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return ds(on),null;case 25:return null;default:return null}}function WI(s,a){switch(wv(a),a.tag){case 3:ds(on),gt();break;case 26:case 27:case 5:Tn(a);break;case 4:gt();break;case 13:os(a);break;case 19:Ve(an);break;case 10:ds(a.type);break;case 22:case 23:os(a),Iv(),s!==null&&Ve(qo);break;case 24:ds(on)}}var MV={getCacheForType:function(s){var a=kn(on),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},VV=typeof WeakMap=="function"?WeakMap:Map,Dt=0,vt=null,Qe=null,st=0,_t=0,gr=null,gs=!1,xu=!1,__=!1,ys=0,Ut=0,Aa=0,Jo=0,E_=0,zr=0,Nu=0,Gd=null,Ai=null,w_=!1,T_=0,Jp=1/0,em=null,Ra=null,tm=!1,el=null,Kd=0,b_=0,S_=null,Wd=0,I_=null;function yr(){if(Dt&2&&st!==0)return st&-st;if(C.T!==null){var s=wu;return s!==0?s:P_()}return op()}function QI(){zr===0&&(zr=!(st&536870912)||lt?ad():536870912);var s=jr.current;return s!==null&&(s.flags|=32),zr}function Gn(s,a,l){(s===vt&&_t===2||s.cancelPendingCommit!==null)&&(Ou(s,0),vs(s,st,zr,!1)),qt(s,l),(!(Dt&2)||s!==vt)&&(s===vt&&(!(Dt&2)&&(Jo|=l),Ut===4&&vs(s,st,zr,!1)),Ri(s))}function YI(s,a,l){if(Dt&6)throw Error(r(327));var d=!l&&(a&60)===0&&(a&s.expiredLanes)===0||ea(s,a),m=d?UV(s,a):x_(s,a,!0),y=d;do{if(m===0){xu&&!d&&vs(s,a,0,!1);break}else if(m===6)vs(s,a,0,!gs);else{if(l=s.current.alternate,y&&!LV(l)){m=x_(s,a,!1),y=!1;continue}if(m===2){if(y=a,s.errorRecoveryDisabledLanes&y)var T=0;else T=s.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;e:{var R=s;m=Gd;var L=R.current.memoizedState.isDehydrated;if(L&&(Ou(R,T).flags|=256),T=x_(R,T,!1),T!==2){if(__&&!L){R.errorRecoveryDisabledLanes|=y,Jo|=y,m=4;break e}y=Ai,Ai=m,y!==null&&A_(y)}m=T}if(y=!1,m!==2)continue}}if(m===1){Ou(s,0),vs(s,a,0,!0);break}e:{switch(d=s,m){case 0:case 1:throw Error(r(345));case 4:if((a&4194176)===a){vs(d,a,zr,!gs);break e}break;case 2:Ai=null;break;case 3:case 5:break;default:throw Error(r(329))}if(d.finishedWork=l,d.finishedLanes=a,(a&62914560)===a&&(y=T_+300-xt(),10<y)){if(vs(d,a,zr,!gs),Cr(d,0)!==0)break e;d.timeoutHandle=EA(XI.bind(null,d,l,Ai,em,w_,a,zr,Jo,Nu,gs,2,-0,0),y);break e}XI(d,l,Ai,em,w_,a,zr,Jo,Nu,gs,0,-0,0)}}break}while(!0);Ri(s)}function A_(s){Ai===null?Ai=s:Ai.push.apply(Ai,s)}function XI(s,a,l,d,m,y,T,R,L,W,ae,de,ne){var se=a.subtreeFlags;if((se&8192||(se&16785408)===16785408)&&(ef={stylesheets:null,count:0,unsuspend:vL},FI(a),a=EL(),a!==null)){s.cancelPendingCommit=a(iA.bind(null,s,l,d,m,T,R,L,1,de,ne)),vs(s,y,T,!W);return}iA(s,l,d,m,T,R,L,ae,de,ne)}function LV(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var m=l[d],y=m.getSnapshot;m=m.value;try{if(!hr(y(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function vs(s,a,l,d){a&=~E_,a&=~Jo,s.suspendedLanes|=a,s.pingedLanes&=~a,d&&(s.warmLanes|=a),d=s.expirationTimes;for(var m=a;0<m;){var y=31-zn(m),T=1<<y;d[y]=-1,m&=~T}l!==0&&na(s,l,a)}function nm(){return Dt&6?!0:(Qd(0),!1)}function R_(){if(Qe!==null){if(_t===0)var s=Qe.return;else s=Qe,cs=Qo=null,Pv(s),_u=null,xd=0,s=Qe;for(;s!==null;)WI(s.alternate,s),s=s.return;Qe=null}}function Ou(s,a){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,nL(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),R_(),vt=s,Qe=l=Ia(s.current,null),st=a,_t=0,gr=null,gs=!1,xu=ea(s,a),__=!1,Nu=zr=E_=Jo=Aa=Ut=0,Ai=Gd=null,w_=!1,a&8&&(a|=a&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=a;0<d;){var m=31-zn(d),y=1<<m;a|=s[m],d&=~y}return ys=a,Ap(),l}function ZI(s,a){Ke=null,C.H=Ii,a===Rd?(a=hS(),_t=3):a===cS?(a=hS(),_t=4):_t=a===dI?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,gr=a,Qe===null&&(Ut=1,Gp(s,Mr(a,s.current)))}function JI(){var s=C.H;return C.H=Ii,s===null?Ii:s}function eA(){var s=C.A;return C.A=MV,s}function C_(){Ut=4,gs||(st&4194176)!==st&&jr.current!==null||(xu=!0),!(Aa&134217727)&&!(Jo&134217727)||vt===null||vs(vt,st,zr,!1)}function x_(s,a,l){var d=Dt;Dt|=2;var m=JI(),y=eA();(vt!==s||st!==a)&&(em=null,Ou(s,a)),a=!1;var T=Ut;e:do try{if(_t!==0&&Qe!==null){var R=Qe,L=gr;switch(_t){case 8:R_(),T=6;break e;case 3:case 2:case 6:jr.current===null&&(a=!0);var W=_t;if(_t=0,gr=null,Du(s,R,L,W),l&&xu){T=0;break e}break;default:W=_t,_t=0,gr=null,Du(s,R,L,W)}}jV(),T=Ut;break}catch(ae){ZI(s,ae)}while(!0);return a&&s.shellSuspendCounter++,cs=Qo=null,Dt=d,C.H=m,C.A=y,Qe===null&&(vt=null,st=0,Ap()),T}function jV(){for(;Qe!==null;)tA(Qe)}function UV(s,a){var l=Dt;Dt|=2;var d=JI(),m=eA();vt!==s||st!==a?(em=null,Jp=xt()+500,Ou(s,a)):xu=ea(s,a);e:do try{if(_t!==0&&Qe!==null){a=Qe;var y=gr;t:switch(_t){case 1:_t=0,gr=null,Du(s,a,y,1);break;case 2:if(dS(y)){_t=0,gr=null,nA(a);break}a=function(){_t===2&&vt===s&&(_t=7),Ri(s)},y.then(a,a);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:dS(y)?(_t=0,gr=null,nA(a)):(_t=0,gr=null,Du(s,a,y,7));break;case 5:var T=null;switch(Qe.tag){case 26:T=Qe.memoizedState;case 5:case 27:var R=Qe;if(!T||OA(T)){_t=0,gr=null;var L=R.sibling;if(L!==null)Qe=L;else{var W=R.return;W!==null?(Qe=W,rm(W)):Qe=null}break t}}_t=0,gr=null,Du(s,a,y,5);break;case 6:_t=0,gr=null,Du(s,a,y,6);break;case 8:R_(),Ut=6;break e;default:throw Error(r(462))}}BV();break}catch(ae){ZI(s,ae)}while(!0);return cs=Qo=null,C.H=d,C.A=m,Dt=l,Qe!==null?0:(vt=null,st=0,Ap(),Ut)}function BV(){for(;Qe!==null&&!en();)tA(Qe)}function tA(s){var a=bI(s.alternate,s,ys);s.memoizedProps=s.pendingProps,a===null?rm(s):Qe=a}function nA(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=yI(l,a,a.pendingProps,a.type,void 0,st);break;case 11:a=yI(l,a,a.pendingProps,a.type.render,a.ref,st);break;case 5:Pv(a);default:WI(l,a),a=Qe=HI(a,ys),a=bI(l,a,ys)}s.memoizedProps=s.pendingProps,a===null?rm(s):Qe=a}function Du(s,a,l,d){cs=Qo=null,Pv(a),_u=null,xd=0;var m=a.return;try{if(CV(s,m,a,l,st)){Ut=1,Gp(s,Mr(l,s.current)),Qe=null;return}}catch(y){if(m!==null)throw Qe=m,y;Ut=1,Gp(s,Mr(l,s.current)),Qe=null;return}a.flags&32768?(lt||d===1?s=!0:xu||st&536870912?s=!1:(gs=s=!0,(d===2||d===3||d===6)&&(d=jr.current,d!==null&&d.tag===13&&(d.flags|=16384))),rA(a,s)):rm(a)}function rm(s){var a=s;do{if(a.flags&32768){rA(a,gs);return}s=a.return;var l=PV(a.alternate,a,ys);if(l!==null){Qe=l;return}if(a=a.sibling,a!==null){Qe=a;return}Qe=a=s}while(a!==null);Ut===0&&(Ut=5)}function rA(s,a){do{var l=kV(s.alternate,s);if(l!==null){l.flags&=32767,Qe=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Qe=s;return}Qe=s=l}while(s!==null);Ut=6,Qe=null}function iA(s,a,l,d,m,y,T,R,L,W){var ae=C.T,de=Y.p;try{Y.p=2,C.T=null,FV(s,a,l,d,de,m,y,T,R,L,W)}finally{C.T=ae,Y.p=de}}function FV(s,a,l,d,m,y,T,R){do Pu();while(el!==null);if(Dt&6)throw Error(r(327));var L=s.finishedWork;if(d=s.finishedLanes,L===null)return null;if(s.finishedWork=null,s.finishedLanes=0,L===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0,s.cancelPendingCommit=null;var W=L.lanes|L.childLanes;if(W|=vv,sp(s,d,W,y,T,R),s===vt&&(Qe=vt=null,st=0),!(L.subtreeFlags&10256)&&!(L.flags&10256)||tm||(tm=!0,b_=W,S_=l,HV(tn,function(){return Pu(),null})),l=(L.flags&15990)!==0,L.subtreeFlags&15990||l?(l=C.T,C.T=null,y=Y.p,Y.p=2,T=Dt,Dt|=4,NV(s,L),jI(L,s),dV(F_,s.containerInfo),mm=!!B_,F_=B_=null,s.current=L,kI(s,L.alternate,L),cr(),Dt=T,Y.p=y,C.T=l):s.current=L,tm?(tm=!1,el=s,Kd=d):sA(s,W),W=s.pendingLanes,W===0&&(Ra=null),Io(L.stateNode),Ri(s),a!==null)for(m=s.onRecoverableError,L=0;L<a.length;L++)W=a[L],m(W.value,{componentStack:W.stack});return Kd&3&&Pu(),W=s.pendingLanes,d&4194218&&W&42?s===I_?Wd++:(Wd=0,I_=s):Wd=0,Qd(0),null}function sA(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Od(a)))}function Pu(){if(el!==null){var s=el,a=b_;b_=0;var l=ap(Kd),d=C.T,m=Y.p;try{if(Y.p=32>l?32:l,C.T=null,el===null)var y=!1;else{l=S_,S_=null;var T=el,R=Kd;if(el=null,Kd=0,Dt&6)throw Error(r(331));var L=Dt;if(Dt|=4,$I(T.current),BI(T,T.current,R,l),Dt=L,Qd(0,!1),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(fi,T)}catch{}y=!0}return y}finally{Y.p=m,C.T=d,sA(s,a)}}return!1}function aA(s,a,l){a=Mr(l,a),a=Kv(s.stateNode,a,2),s=wa(s,a,2),s!==null&&(qt(s,2),Ri(s))}function yt(s,a,l){if(s.tag===3)aA(s,s,l);else for(;a!==null;){if(a.tag===3){aA(a,s,l);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ra===null||!Ra.has(d))){s=Mr(l,s),l=uI(2),d=wa(a,l,2),d!==null&&(cI(l,d,a,s),qt(d,2),Ri(d));break}}a=a.return}}function N_(s,a,l){var d=s.pingCache;if(d===null){d=s.pingCache=new VV;var m=new Set;d.set(a,m)}else m=d.get(a),m===void 0&&(m=new Set,d.set(a,m));m.has(l)||(__=!0,m.add(l),s=zV.bind(null,s,a,l),a.then(s,s))}function zV(s,a,l){var d=s.pingCache;d!==null&&d.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,vt===s&&(st&l)===l&&(Ut===4||Ut===3&&(st&62914560)===st&&300>xt()-T_?!(Dt&2)&&Ou(s,0):E_|=l,Nu===st&&(Nu=0)),Ri(s)}function oA(s,a){a===0&&(a=ta()),s=ha(s,a),s!==null&&(qt(s,a),Ri(s))}function $V(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),oA(s,l)}function qV(s,a){var l=0;switch(s.tag){case 13:var d=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(a),oA(s,l)}function HV(s,a){return wt(s,a)}var im=null,ku=null,O_=!1,sm=!1,D_=!1,tl=0;function Ri(s){s!==ku&&s.next===null&&(ku===null?im=ku=s:ku=ku.next=s),sm=!0,O_||(O_=!0,KV(GV))}function Qd(s,a){if(!D_&&sm){D_=!0;do for(var l=!1,d=im;d!==null;){if(s!==0){var m=d.pendingLanes;if(m===0)var y=0;else{var T=d.suspendedLanes,R=d.pingedLanes;y=(1<<31-zn(42|s)+1)-1,y&=m&~(T&~R),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(l=!0,cA(d,y))}else y=st,y=Cr(d,d===vt?y:0),!(y&3)||ea(d,y)||(l=!0,cA(d,y));d=d.next}while(l);D_=!1}}function GV(){sm=O_=!1;var s=0;tl!==0&&(tL()&&(s=tl),tl=0);for(var a=xt(),l=null,d=im;d!==null;){var m=d.next,y=lA(d,a);y===0?(d.next=null,l===null?im=m:l.next=m,m===null&&(ku=l)):(l=d,(s!==0||y&3)&&(sm=!0)),d=m}Qd(s)}function lA(s,a){for(var l=s.suspendedLanes,d=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var T=31-zn(y),R=1<<T,L=m[T];L===-1?(!(R&l)||R&d)&&(m[T]=Zl(R,a)):L<=a&&(s.expiredLanes|=R),y&=~R}if(a=vt,l=st,l=Cr(s,s===a?l:0),d=s.callbackNode,l===0||s===a&&_t===2||s.cancelPendingCommit!==null)return d!==null&&d!==null&&bn(d),s.callbackNode=null,s.callbackPriority=0;if(!(l&3)||ea(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(d!==null&&bn(d),ap(l)){case 2:case 8:l=nt;break;case 32:l=tn;break;case 268435456:l=Wi;break;default:l=tn}return d=uA.bind(null,s),l=wt(l,d),s.callbackPriority=a,s.callbackNode=l,a}return d!==null&&d!==null&&bn(d),s.callbackPriority=2,s.callbackNode=null,2}function uA(s,a){var l=s.callbackNode;if(Pu()&&s.callbackNode!==l)return null;var d=st;return d=Cr(s,s===vt?d:0),d===0?null:(YI(s,d,a),lA(s,xt()),s.callbackNode!=null&&s.callbackNode===l?uA.bind(null,s):null)}function cA(s,a){if(Pu())return null;YI(s,a,!0)}function KV(s){rL(function(){Dt&6?wt(Ae,s):s()})}function P_(){return tl===0&&(tl=ad()),tl}function dA(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:gi(""+s)}function fA(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function WV(s,a,l,d,m){if(a==="submit"&&l&&l.stateNode===m){var y=dA((m[nn]||null).action),T=d.submitter;T&&(a=(a=T[nn]||null)?dA(a.formAction):T.getAttribute("formAction"),a!==null&&(y=a,T=null));var R=new su("action","action",null,d,m);s.push({event:R,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(tl!==0){var L=T?fA(m,T):new FormData(m);zv(l,{pending:!0,data:L,method:m.method,action:y},null,L)}}else typeof y=="function"&&(R.preventDefault(),L=T?fA(m,T):new FormData(m),zv(l,{pending:!0,data:L,method:m.method,action:y},y,L))},currentTarget:m}]})}}for(var k_=0;k_<iS.length;k_++){var M_=iS[k_],QV=M_.toLowerCase(),YV=M_[0].toUpperCase()+M_.slice(1);ii(QV,"on"+YV)}ii(J0,"onAnimationEnd"),ii(eS,"onAnimationIteration"),ii(tS,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(hV,"onTransitionRun"),ii(pV,"onTransitionStart"),ii(mV,"onTransitionCancel"),ii(nS,"onTransitionEnd"),Jn("onMouseEnter",["mouseout","mouseover"]),Jn("onMouseLeave",["mouseout","mouseover"]),Jn("onPointerEnter",["pointerout","pointerover"]),Jn("onPointerLeave",["pointerout","pointerover"]),dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dr("onBeforeInput",["compositionend","keypress","textInput","paste"]),dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yd));function hA(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var d=s[l],m=d.event;d=d.listeners;e:{var y=void 0;if(a)for(var T=d.length-1;0<=T;T--){var R=d[T],L=R.instance,W=R.currentTarget;if(R=R.listener,L!==y&&m.isPropagationStopped())break e;y=R,m.currentTarget=W;try{y(m)}catch(ae){Hp(ae)}m.currentTarget=null,y=L}else for(T=0;T<d.length;T++){if(R=d[T],L=R.instance,W=R.currentTarget,R=R.listener,L!==y&&m.isPropagationStopped())break e;y=R,m.currentTarget=W;try{y(m)}catch(ae){Hp(ae)}m.currentTarget=null,y=L}}}}function tt(s,a){var l=a[Ao];l===void 0&&(l=a[Ao]=new Set);var d=s+"__bubble";l.has(d)||(pA(a,s,2,!1),l.add(d))}function V_(s,a,l){var d=0;a&&(d|=4),pA(l,s,d,a)}var am="_reactListening"+Math.random().toString(36).slice(2);function L_(s){if(!s[am]){s[am]=!0,ld.forEach(function(l){l!=="selectionchange"&&(XV.has(l)||V_(l,!1,s),V_(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[am]||(a[am]=!0,V_("selectionchange",!1,a))}}function pA(s,a,l,d){switch(LA(a)){case 2:var m=bL;break;case 8:m=SL;break;default:m=Y_}l=m.bind(null,a,l,s),m=void 0,!Dr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),d?m!==void 0?s.addEventListener(a,l,{capture:!0,passive:m}):s.addEventListener(a,l,!0):m!==void 0?s.addEventListener(a,l,{passive:m}):s.addEventListener(a,l,!1)}function j_(s,a,l,d,m){var y=d;if(!(a&1)&&!(a&2)&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var R=d.stateNode.containerInfo;if(R===m||R.nodeType===8&&R.parentNode===m)break;if(T===4)for(T=d.return;T!==null;){var L=T.tag;if((L===3||L===4)&&(L=T.stateNode.containerInfo,L===m||L.nodeType===8&&L.parentNode===m))return;T=T.return}for(;R!==null;){if(T=ri(R),T===null)return;if(L=T.tag,L===5||L===6||L===26||L===27){d=y=T;continue e}R=R.parentNode}}d=d.return}dp(function(){var W=y,ae=iu(l),de=[];e:{var ne=rS.get(s);if(ne!==void 0){var se=su,Re=s;switch(s){case"keypress":if(vi(l)===0)break e;case"keydown":case"keyup":se=du;break;case"focusin":Re="focus",se=lu;break;case"focusout":Re="blur",se=lu;break;case"beforeblur":case"afterblur":se=lu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=cv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=_p;break;case J0:case eS:case tS:se=uu;break;case nS:se=wp;break;case"scroll":case"scrollend":se=fp;break;case"wheel":se=fu;break;case"copy":case"cut":case"paste":se=cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Ed;break;case"toggle":case"beforetoggle":se=bp}var Fe=(a&4)!==0,Bt=!Fe&&(s==="scroll"||s==="scrollend"),Z=Fe?ne!==null?ne+"Capture":null:ne;Fe=[];for(var G=W,te;G!==null;){var oe=G;if(te=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||te===null||Z===null||(oe=Oo(G,Z),oe!=null&&Fe.push(Xd(G,oe,te))),Bt)break;G=G.return}0<Fe.length&&(ne=new se(ne,Re,null,l,ae),de.push({event:ne,listeners:Fe}))}}if(!(a&7)){e:{if(ne=s==="mouseover"||s==="pointerover",se=s==="mouseout"||s==="pointerout",ne&&l!==Or&&(Re=l.relatedTarget||l.fromElement)&&(ri(Re)||Re[Yi]))break e;if((se||ne)&&(ne=ae.window===ae?ae:(ne=ae.ownerDocument)?ne.defaultView||ne.parentWindow:window,se?(Re=l.relatedTarget||l.toElement,se=W,Re=Re?ri(Re):null,Re!==null&&(Bt=me(Re),Fe=Re.tag,Re!==Bt||Fe!==5&&Fe!==27&&Fe!==6)&&(Re=null)):(se=null,Re=W),se!==Re)){if(Fe=Pr,oe="onMouseLeave",Z="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(Fe=Ed,oe="onPointerLeave",Z="onPointerEnter",G="pointer"),Bt=se==null?ne:aa(se),te=Re==null?ne:aa(Re),ne=new Fe(oe,G+"leave",se,l,ae),ne.target=Bt,ne.relatedTarget=te,oe=null,ri(ae)===W&&(Fe=new Fe(Z,G+"enter",Re,l,ae),Fe.target=te,Fe.relatedTarget=Bt,oe=Fe),Bt=oe,se&&Re)t:{for(Fe=se,Z=Re,G=0,te=Fe;te;te=Mu(te))G++;for(te=0,oe=Z;oe;oe=Mu(oe))te++;for(;0<G-te;)Fe=Mu(Fe),G--;for(;0<te-G;)Z=Mu(Z),te--;for(;G--;){if(Fe===Z||Z!==null&&Fe===Z.alternate)break t;Fe=Mu(Fe),Z=Mu(Z)}Fe=null}else Fe=null;se!==null&&mA(de,ne,se,Fe,!1),Re!==null&&Bt!==null&&mA(de,Bt,Re,Fe,!0)}}e:{if(ne=W?aa(W):window,se=ne.nodeName&&ne.nodeName.toLowerCase(),se==="select"||se==="input"&&ne.type==="file")var Se=z0;else if(sn(ne))if($0)Se=uV;else{Se=oV;var We=aV}else se=ne.nodeName,!se||se.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?W&&hd(W.elementType)&&(Se=z0):Se=lV;if(Se&&(Se=Se(s,W))){is(de,Se,l,ae);break e}We&&We(s,ne,W),s==="focusout"&&W&&ne.type==="number"&&W.memoizedProps.value!=null&&ru(ne,"number",ne.value)}switch(We=W?aa(W):window,s){case"focusin":(sn(We)||We.contentEditable==="true")&&(hu=We,mv=W,bd=null);break;case"focusout":bd=mv=hu=null;break;case"mousedown":gv=!0;break;case"contextmenu":case"mouseup":case"dragend":gv=!1,X0(de,l,ae);break;case"selectionchange":if(fV)break;case"keydown":case"keyup":X0(de,l,ae)}var Oe;if(wi)e:{switch(s){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else rt?ie(s,l)&&(Le="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Le="onCompositionStart");Le&&(w&&l.locale!=="ko"&&(rt||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&rt&&(Oe=md()):(yi=ae,fa="value"in yi?yi.value:yi.textContent,rt=!0)),We=om(W,Le),0<We.length&&(Le=new vd(Le,s,null,l,ae),de.push({event:Le,listeners:We}),Oe?Le.data=Oe:(Oe=ge(l),Oe!==null&&(Le.data=Oe)))),(Oe=_?rn(s,l):it(s,l))&&(Le=om(W,"onBeforeInput"),0<Le.length&&(We=new vd("onBeforeInput","beforeinput",null,l,ae),de.push({event:We,listeners:Le}),We.data=Oe)),WV(de,s,W,l,ae)}hA(de,a)})}function Xd(s,a,l){return{instance:s,listener:a,currentTarget:l}}function om(s,a){for(var l=a+"Capture",d=[];s!==null;){var m=s,y=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Oo(s,l),m!=null&&d.unshift(Xd(s,m,y)),m=Oo(s,a),m!=null&&d.push(Xd(s,m,y))),s=s.return}return d}function Mu(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function mA(s,a,l,d,m){for(var y=a._reactName,T=[];l!==null&&l!==d;){var R=l,L=R.alternate,W=R.stateNode;if(R=R.tag,L!==null&&L===d)break;R!==5&&R!==26&&R!==27||W===null||(L=W,m?(W=Oo(l,y),W!=null&&T.unshift(Xd(l,W,L))):m||(W=Oo(l,y),W!=null&&T.push(Xd(l,W,L)))),l=l.return}T.length!==0&&s.push({event:a,listeners:T})}var ZV=/\r\n?/g,JV=/\u0000|\uFFFD/g;function gA(s){return(typeof s=="string"?s:""+s).replace(ZV,`
`).replace(JV,"")}function yA(s,a){return a=gA(a),gA(s)===a}function lm(){}function mt(s,a,l,d,m,y){switch(l){case"children":typeof d=="string"?a==="body"||a==="textarea"&&d===""||Nr(s,d):(typeof d=="number"||typeof d=="bigint")&&a!=="body"&&Nr(s,""+d);break;case"className":ua(s,"class",d);break;case"tabIndex":ua(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":ua(s,l,d);break;case"style":cp(s,d,y);break;case"data":if(a!=="object"){ua(s,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(l);break}d=gi(""+d),s.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&mt(s,a,"name",m.name,m,null),mt(s,a,"formEncType",m.formEncType,m,null),mt(s,a,"formMethod",m.formMethod,m,null),mt(s,a,"formTarget",m.formTarget,m,null)):(mt(s,a,"encType",m.encType,m,null),mt(s,a,"method",m.method,m,null),mt(s,a,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(l);break}d=gi(""+d),s.setAttribute(l,d);break;case"onClick":d!=null&&(s.onclick=lm);break;case"onScroll":d!=null&&tt("scroll",s);break;case"onScrollEnd":d!=null&&tt("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(l=d.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}l=gi(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(l,""+d):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":d===!0?s.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(l,d):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(l,d):s.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(l):s.setAttribute(l,d);break;case"popover":tt("beforetoggle",s),tt("toggle",s),la(s,"popover",d);break;case"xlinkActuate":xr(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":xr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":xr(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":xr(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":xr(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":xr(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":xr(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":xr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":xr(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":la(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=lv.get(l)||l,la(s,l,d))}}function U_(s,a,l,d,m,y){switch(l){case"style":cp(s,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(l=d.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof d=="string"?Nr(s,d):(typeof d=="number"||typeof d=="bigint")&&Nr(s,""+d);break;case"onScroll":d!=null&&tt("scroll",s);break;case"onScrollEnd":d!=null&&tt("scrollend",s);break;case"onClick":d!=null&&(s.onclick=lm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tu.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),y=s[nn]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(a,y,m),typeof d=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,d,m);break e}l in s?s[l]=d:d===!0?s.setAttribute(l,""):la(s,l,d)}}}function Rn(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",s),tt("load",s);var d=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var T=l[y];if(T!=null)switch(y){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:mt(s,a,y,T,l,null)}}m&&mt(s,a,"srcSet",l.srcSet,l,null),d&&mt(s,a,"src",l.src,l,null);return;case"input":tt("invalid",s);var R=y=T=m=null,L=null,W=null;for(d in l)if(l.hasOwnProperty(d)){var ae=l[d];if(ae!=null)switch(d){case"name":m=ae;break;case"type":T=ae;break;case"checked":L=ae;break;case"defaultChecked":W=ae;break;case"value":y=ae;break;case"defaultValue":R=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,a));break;default:mt(s,a,d,ae,l,null)}}xo(s,y,R,L,W,T,m,!1),Co(s);return;case"select":tt("invalid",s),d=T=y=null;for(m in l)if(l.hasOwnProperty(m)&&(R=l[m],R!=null))switch(m){case"value":y=R;break;case"defaultValue":T=R;break;case"multiple":d=R;default:mt(s,a,m,R,l,null)}a=y,l=T,s.multiple=!!d,a!=null?ot(s,!!d,a,!1):l!=null&&ot(s,!!d,l,!0);return;case"textarea":tt("invalid",s),y=m=d=null;for(T in l)if(l.hasOwnProperty(T)&&(R=l[T],R!=null))switch(T){case"value":d=R;break;case"defaultValue":m=R;break;case"children":y=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:mt(s,a,T,R,l,null)}da(s,d,m,y),Co(s);return;case"option":for(L in l)if(l.hasOwnProperty(L)&&(d=l[L],d!=null))switch(L){case"selected":s.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:mt(s,a,L,d,l,null)}return;case"dialog":tt("cancel",s),tt("close",s);break;case"iframe":case"object":tt("load",s);break;case"video":case"audio":for(d=0;d<Yd.length;d++)tt(Yd[d],s);break;case"image":tt("error",s),tt("load",s);break;case"details":tt("toggle",s);break;case"embed":case"source":case"link":tt("error",s),tt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in l)if(l.hasOwnProperty(W)&&(d=l[W],d!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:mt(s,a,W,d,l,null)}return;default:if(hd(a)){for(ae in l)l.hasOwnProperty(ae)&&(d=l[ae],d!==void 0&&U_(s,a,ae,d,l,void 0));return}}for(R in l)l.hasOwnProperty(R)&&(d=l[R],d!=null&&mt(s,a,R,d,l,null))}function eL(s,a,l,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,T=null,R=null,L=null,W=null,ae=null;for(se in l){var de=l[se];if(l.hasOwnProperty(se)&&de!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":L=de;default:d.hasOwnProperty(se)||mt(s,a,se,null,d,de)}}for(var ne in d){var se=d[ne];if(de=l[ne],d.hasOwnProperty(ne)&&(se!=null||de!=null))switch(ne){case"type":y=se;break;case"name":m=se;break;case"checked":W=se;break;case"defaultChecked":ae=se;break;case"value":T=se;break;case"defaultValue":R=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,a));break;default:se!==de&&mt(s,a,ne,se,d,de)}}ca(s,T,R,L,W,ae,y,m);return;case"select":se=T=R=ne=null;for(y in l)if(L=l[y],l.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":se=L;default:d.hasOwnProperty(y)||mt(s,a,y,null,d,L)}for(m in d)if(y=d[m],L=l[m],d.hasOwnProperty(m)&&(y!=null||L!=null))switch(m){case"value":ne=y;break;case"defaultValue":R=y;break;case"multiple":T=y;default:y!==L&&mt(s,a,m,y,d,L)}a=R,l=T,d=se,ne!=null?ot(s,!!l,ne,!1):!!d!=!!l&&(a!=null?ot(s,!!l,a,!0):ot(s,!!l,l?[]:"",!1));return;case"textarea":se=ne=null;for(R in l)if(m=l[R],l.hasOwnProperty(R)&&m!=null&&!d.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:mt(s,a,R,null,d,m)}for(T in d)if(m=d[T],y=l[T],d.hasOwnProperty(T)&&(m!=null||y!=null))switch(T){case"value":ne=m;break;case"defaultValue":se=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&mt(s,a,T,m,d,y)}No(s,ne,se);return;case"option":for(var Re in l)if(ne=l[Re],l.hasOwnProperty(Re)&&ne!=null&&!d.hasOwnProperty(Re))switch(Re){case"selected":s.selected=!1;break;default:mt(s,a,Re,null,d,ne)}for(L in d)if(ne=d[L],se=l[L],d.hasOwnProperty(L)&&ne!==se&&(ne!=null||se!=null))switch(L){case"selected":s.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:mt(s,a,L,ne,d,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in l)ne=l[Fe],l.hasOwnProperty(Fe)&&ne!=null&&!d.hasOwnProperty(Fe)&&mt(s,a,Fe,null,d,ne);for(W in d)if(ne=d[W],se=l[W],d.hasOwnProperty(W)&&ne!==se&&(ne!=null||se!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,a));break;default:mt(s,a,W,ne,d,se)}return;default:if(hd(a)){for(var Bt in l)ne=l[Bt],l.hasOwnProperty(Bt)&&ne!==void 0&&!d.hasOwnProperty(Bt)&&U_(s,a,Bt,void 0,d,ne);for(ae in d)ne=d[ae],se=l[ae],!d.hasOwnProperty(ae)||ne===se||ne===void 0&&se===void 0||U_(s,a,ae,ne,d,se);return}}for(var Z in l)ne=l[Z],l.hasOwnProperty(Z)&&ne!=null&&!d.hasOwnProperty(Z)&&mt(s,a,Z,null,d,ne);for(de in d)ne=d[de],se=l[de],!d.hasOwnProperty(de)||ne===se||ne==null&&se==null||mt(s,a,de,ne,d,se)}var B_=null,F_=null;function um(s){return s.nodeType===9?s:s.ownerDocument}function vA(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _A(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function z_(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var $_=null;function tL(){var s=window.event;return s&&s.type==="popstate"?s===$_?!1:($_=s,!0):($_=null,!1)}var EA=typeof setTimeout=="function"?setTimeout:void 0,nL=typeof clearTimeout=="function"?clearTimeout:void 0,wA=typeof Promise=="function"?Promise:void 0,rL=typeof queueMicrotask=="function"?queueMicrotask:typeof wA<"u"?function(s){return wA.resolve(null).then(s).catch(iL)}:EA;function iL(s){setTimeout(function(){throw s})}function q_(s,a){var l=a,d=0;do{var m=l.nextSibling;if(s.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(d===0){s.removeChild(m),af(a);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=m}while(l);af(a)}function H_(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":H_(l),Ro(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function sL(s,a,l,d){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[sa])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=oi(s.nextSibling),s===null)break}return null}function aL(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=oi(s.nextSibling),s===null))return null;return s}function oi(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}function TA(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function bA(s,a,l){switch(a=um(l),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}var $r=new Map,SA=new Set;function cm(s){return typeof s.getRootNode=="function"?s.getRootNode():s.ownerDocument}var _s=Y.d;Y.d={f:oL,r:lL,D:uL,C:cL,L:dL,m:fL,X:pL,S:hL,M:mL};function oL(){var s=_s.f(),a=nm();return s||a}function lL(s){var a=Xi(s);a!==null&&a.tag===5&&a.type==="form"?XS(a):_s.r(s)}var Vu=typeof document>"u"?null:document;function IA(s,a,l){var d=Vu;if(d&&typeof a=="string"&&a){var m=Lt(a);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),SA.has(m)||(SA.add(m),s={rel:s,crossOrigin:l,href:a},d.querySelector(m)===null&&(a=d.createElement("link"),Rn(a,"link",s),Nt(a),d.head.appendChild(a)))}}function uL(s){_s.D(s),IA("dns-prefetch",s,null)}function cL(s,a){_s.C(s,a),IA("preconnect",s,a)}function dL(s,a,l){_s.L(s,a,l);var d=Vu;if(d&&s&&a){var m='link[rel="preload"][as="'+Lt(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Lt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Lt(l.imageSizes)+'"]')):m+='[href="'+Lt(s)+'"]';var y=m;switch(a){case"style":y=Lu(s);break;case"script":y=ju(s)}$r.has(y)||(s=P({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),$r.set(y,s),d.querySelector(m)!==null||a==="style"&&d.querySelector(Zd(y))||a==="script"&&d.querySelector(Jd(y))||(a=d.createElement("link"),Rn(a,"link",s),Nt(a),d.head.appendChild(a)))}}function fL(s,a){_s.m(s,a);var l=Vu;if(l&&s){var d=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+Lt(d)+'"][href="'+Lt(s)+'"]',y=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ju(s)}if(!$r.has(y)&&(s=P({rel:"modulepreload",href:s},a),$r.set(y,s),l.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Jd(y)))return}d=l.createElement("link"),Rn(d,"link",s),Nt(d),l.head.appendChild(d)}}}function hL(s,a,l){_s.S(s,a,l);var d=Vu;if(d&&s){var m=oa(d).hoistableStyles,y=Lu(s);a=a||"default";var T=m.get(y);if(!T){var R={loading:0,preload:null};if(T=d.querySelector(Zd(y)))R.loading=5;else{s=P({rel:"stylesheet",href:s,"data-precedence":a},l),(l=$r.get(y))&&G_(s,l);var L=T=d.createElement("link");Nt(L),Rn(L,"link",s),L._p=new Promise(function(W,ae){L.onload=W,L.onerror=ae}),L.addEventListener("load",function(){R.loading|=1}),L.addEventListener("error",function(){R.loading|=2}),R.loading|=4,dm(T,a,d)}T={type:"stylesheet",instance:T,count:1,state:R},m.set(y,T)}}}function pL(s,a){_s.X(s,a);var l=Vu;if(l&&s){var d=oa(l).hoistableScripts,m=ju(s),y=d.get(m);y||(y=l.querySelector(Jd(m)),y||(s=P({src:s,async:!0},a),(a=$r.get(m))&&K_(s,a),y=l.createElement("script"),Nt(y),Rn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(m,y))}}function mL(s,a){_s.M(s,a);var l=Vu;if(l&&s){var d=oa(l).hoistableScripts,m=ju(s),y=d.get(m);y||(y=l.querySelector(Jd(m)),y||(s=P({src:s,async:!0,type:"module"},a),(a=$r.get(m))&&K_(s,a),y=l.createElement("script"),Nt(y),Rn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(m,y))}}function AA(s,a,l,d){var m=(m=Ge.current)?cm(m):null;if(!m)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Lu(l.href),l=oa(m).hoistableStyles,d=l.get(a),d||(d={type:"style",instance:null,count:0,state:null},l.set(a,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Lu(l.href);var y=oa(m).hoistableStyles,T=y.get(s);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,T),(y=m.querySelector(Zd(s)))&&!y._p&&(T.instance=y,T.state.loading=5),$r.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},$r.set(s,l),y||gL(m,s,l,T.state))),a&&d===null)throw Error(r(528,""));return T}if(a&&d!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ju(l),l=oa(m).hoistableScripts,d=l.get(a),d||(d={type:"script",instance:null,count:0,state:null},l.set(a,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Lu(s){return'href="'+Lt(s)+'"'}function Zd(s){return'link[rel="stylesheet"]['+s+"]"}function RA(s){return P({},s,{"data-precedence":s.precedence,precedence:null})}function gL(s,a,l,d){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=1:(a=s.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=1}),a.addEventListener("error",function(){return d.loading|=2}),Rn(a,"link",l),Nt(a),s.head.appendChild(a))}function ju(s){return'[src="'+Lt(s)+'"]'}function Jd(s){return"script[async]"+s}function CA(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var d=s.querySelector('style[data-href~="'+Lt(l.href)+'"]');if(d)return a.instance=d,Nt(d),d;var m=P({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),Nt(d),Rn(d,"style",m),dm(d,l.precedence,s),a.instance=d;case"stylesheet":m=Lu(l.href);var y=s.querySelector(Zd(m));if(y)return a.state.loading|=4,a.instance=y,Nt(y),y;d=RA(l),(m=$r.get(m))&&G_(d,m),y=(s.ownerDocument||s).createElement("link"),Nt(y);var T=y;return T._p=new Promise(function(R,L){T.onload=R,T.onerror=L}),Rn(y,"link",d),a.state.loading|=4,dm(y,l.precedence,s),a.instance=y;case"script":return y=ju(l.src),(m=s.querySelector(Jd(y)))?(a.instance=m,Nt(m),m):(d=l,(m=$r.get(y))&&(d=P({},l),K_(d,m)),s=s.ownerDocument||s,m=s.createElement("script"),Nt(m),Rn(m,"link",d),s.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&!(a.state.loading&4)&&(d=a.instance,a.state.loading|=4,dm(d,l.precedence,s));return a.instance}function dm(s,a,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,y=m,T=0;T<d.length;T++){var R=d[T];if(R.dataset.precedence===a)y=R;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function G_(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function K_(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var fm=null;function xA(s,a,l){if(fm===null){var d=new Map,m=fm=new Map;m.set(l,d)}else m=fm,d=m.get(l),d||(d=new Map,m.set(l,d));if(d.has(s))return d;for(d.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var y=l[m];if(!(y[sa]||y[dn]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(a)||"";T=s+T;var R=d.get(T);R?R.push(y):d.set(T,[y])}}return d}function NA(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function yL(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function OA(s){return!(s.type==="stylesheet"&&!(s.state.loading&3))}var ef=null;function vL(){}function _L(s,a,l){if(ef===null)throw Error(r(475));var d=ef;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var m=Lu(l.href),y=s.querySelector(Zd(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(d.count++,d=hm.bind(d),s.then(d,d)),a.state.loading|=4,a.instance=y,Nt(y);return}y=s.ownerDocument||s,l=RA(l),(m=$r.get(m))&&G_(l,m),y=y.createElement("link"),Nt(y);var T=y;T._p=new Promise(function(R,L){T.onload=R,T.onerror=L}),Rn(y,"link",l),a.instance=y}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(a,s),(s=a.state.preload)&&!(a.state.loading&3)&&(d.count++,a=hm.bind(d),s.addEventListener("load",a),s.addEventListener("error",a))}}function EL(){if(ef===null)throw Error(r(475));var s=ef;return s.stylesheets&&s.count===0&&W_(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&W_(s,s.stylesheets),s.unsuspend){var d=s.unsuspend;s.unsuspend=null,d()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function hm(){if(this.count--,this.count===0){if(this.stylesheets)W_(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var pm=null;function W_(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,pm=new Map,a.forEach(wL,s),pm=null,hm.call(s))}function wL(s,a){if(!(a.state.loading&4)){var l=pm.get(s);if(l)var d=l.get(null);else{l=new Map,pm.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var T=m[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),d=T)}d&&l.set(null,d)}m=a.instance,T=m.getAttribute("data-precedence"),y=l.get(T)||d,y===d&&l.set(null,m),l.set(T,m),this.count++,d=hm.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),a.state.loading|=4}}var tf={$$typeof:S,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function TL(s,a,l,d,m,y,T,R){this.tag=1,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jl(0),this.hiddenUpdates=Jl(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function DA(s,a,l,d,m,y,T,R,L,W,ae,de){return s=new TL(s,a,l,T,R,L,W,de),a=1,y===!0&&(a|=24),y=Fr(3,null,null,a),s.current=y,y.stateNode=s,a=Av(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:d,isDehydrated:l,cache:a},a_(y),s}function PA(s){return s?(s=gu,s):gu}function kA(s,a,l,d,m,y){m=PA(m),d.context===null?d.context=m:d.pendingContext=m,d=Ea(a),d.payload={element:l},y=y===void 0?null:y,y!==null&&(d.callback=y),l=wa(s,d,a),l!==null&&(Gn(l,s,a),jd(l,s,a))}function MA(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function Q_(s,a){MA(s,a),(s=s.alternate)&&MA(s,a)}function VA(s){if(s.tag===13){var a=ha(s,67108864);a!==null&&Gn(a,s,67108864),Q_(s,67108864)}}var mm=!0;function bL(s,a,l,d){var m=C.T;C.T=null;var y=Y.p;try{Y.p=2,Y_(s,a,l,d)}finally{Y.p=y,C.T=m}}function SL(s,a,l,d){var m=C.T;C.T=null;var y=Y.p;try{Y.p=8,Y_(s,a,l,d)}finally{Y.p=y,C.T=m}}function Y_(s,a,l,d){if(mm){var m=X_(d);if(m===null)j_(s,a,d,gm,l),jA(s,d);else if(AL(m,s,a,l,d))d.stopPropagation();else if(jA(s,d),a&4&&-1<IL.indexOf(s)){for(;m!==null;){var y=Xi(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=ni(y.pendingLanes);if(T!==0){var R=y;for(R.pendingLanes|=2,R.entangledLanes|=2;T;){var L=1<<31-zn(T);R.entanglements[1]|=L,T&=~L}Ri(y),!(Dt&6)&&(Jp=xt()+500,Qd(0))}}break;case 13:R=ha(y,2),R!==null&&Gn(R,y,2),nm(),Q_(y,2)}if(y=X_(d),y===null&&j_(s,a,d,gm,l),y===m)break;m=y}m!==null&&d.stopPropagation()}else j_(s,a,d,null,l)}}function X_(s){return s=iu(s),Z_(s)}var gm=null;function Z_(s){if(gm=null,s=ri(s),s!==null){var a=me(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=Pe(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return gm=s,null}function LA(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ti()){case Ae:return 2;case nt:return 8;case tn:case Zs:return 32;case Wi:return 268435456;default:return 32}default:return 32}}var J_=!1,Ca=null,xa=null,Na=null,nf=new Map,rf=new Map,Oa=[],IL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jA(s,a){switch(s){case"focusin":case"focusout":Ca=null;break;case"dragenter":case"dragleave":xa=null;break;case"mouseover":case"mouseout":Na=null;break;case"pointerover":case"pointerout":nf.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":rf.delete(a.pointerId)}}function sf(s,a,l,d,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[m]},a!==null&&(a=Xi(a),a!==null&&VA(a)),s):(s.eventSystemFlags|=d,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function AL(s,a,l,d,m){switch(a){case"focusin":return Ca=sf(Ca,s,a,l,d,m),!0;case"dragenter":return xa=sf(xa,s,a,l,d,m),!0;case"mouseover":return Na=sf(Na,s,a,l,d,m),!0;case"pointerover":var y=m.pointerId;return nf.set(y,sf(nf.get(y)||null,s,a,l,d,m)),!0;case"gotpointercapture":return y=m.pointerId,rf.set(y,sf(rf.get(y)||null,s,a,l,d,m)),!0}return!1}function UA(s){var a=ri(s.target);if(a!==null){var l=me(a);if(l!==null){if(a=l.tag,a===13){if(a=Pe(l),a!==null){s.blockedOn=a,ia(s.priority,function(){if(l.tag===13){var d=yr(),m=ha(l,d);m!==null&&Gn(m,l,d),Q_(l,d)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ym(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=X_(s.nativeEvent);if(l===null){l=s.nativeEvent;var d=new l.constructor(l.type,l);Or=d,l.target.dispatchEvent(d),Or=null}else return a=Xi(l),a!==null&&VA(a),s.blockedOn=l,!1;a.shift()}return!0}function BA(s,a,l){ym(s)&&l.delete(a)}function RL(){J_=!1,Ca!==null&&ym(Ca)&&(Ca=null),xa!==null&&ym(xa)&&(xa=null),Na!==null&&ym(Na)&&(Na=null),nf.forEach(BA),rf.forEach(BA)}function vm(s,a){s.blockedOn===a&&(s.blockedOn=null,J_||(J_=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,RL)))}var _m=null;function FA(s){_m!==s&&(_m=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){_m===s&&(_m=null);for(var a=0;a<s.length;a+=3){var l=s[a],d=s[a+1],m=s[a+2];if(typeof d!="function"){if(Z_(d||l)===null)continue;break}var y=Xi(l);y!==null&&(s.splice(a,3),a-=3,zv(y,{pending:!0,data:m,method:l.method,action:d},d,m))}}))}function af(s){function a(L){return vm(L,s)}Ca!==null&&vm(Ca,s),xa!==null&&vm(xa,s),Na!==null&&vm(Na,s),nf.forEach(a),rf.forEach(a);for(var l=0;l<Oa.length;l++){var d=Oa[l];d.blockedOn===s&&(d.blockedOn=null)}for(;0<Oa.length&&(l=Oa[0],l.blockedOn===null);)UA(l),l.blockedOn===null&&Oa.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var m=l[d],y=l[d+1],T=m[nn]||null;if(typeof y=="function")T||FA(l);else if(T){var R=null;if(y&&y.hasAttribute("formAction")){if(m=y,T=y[nn]||null)R=T.formAction;else if(Z_(m)!==null)continue}else R=T.action;typeof R=="function"?l[d+1]=R:(l.splice(d,3),d-=3),FA(l)}}}function eE(s){this._internalRoot=s}Em.prototype.render=eE.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,d=yr();kA(l,d,s,a,null,null)},Em.prototype.unmount=eE.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;s.tag===0&&Pu(),kA(s.current,2,null,s,null,null),nm(),a[Yi]=null}};function Em(s){this._internalRoot=s}Em.prototype.unstable_scheduleHydration=function(s){if(s){var a=op();s={blockedOn:null,target:s,priority:a};for(var l=0;l<Oa.length&&a!==0&&a<Oa[l].priority;l++);Oa.splice(l,0,s),l===0&&UA(s)}};var zA=e.version;if(zA!=="19.0.0")throw Error(r(527,zA,"19.0.0"));Y.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=V(a),s=s!==null?K(s):null,s=s===null?null:s.stateNode,s};var CL={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:C,findFiberByHostInstance:ri,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wm.isDisabled&&wm.supportsFiber)try{fi=wm.inject(CL),cn=wm}catch{}}return lf.createRoot=function(s,a){if(!i(s))throw Error(r(299));var l=!1,d="",m=sI,y=aI,T=oI,R=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks)),a=DA(s,1,!1,null,null,l,d,m,y,T,R,null),s[Yi]=a.current,L_(s.nodeType===8?s.parentNode:s),new eE(a)},lf.hydrateRoot=function(s,a,l){if(!i(s))throw Error(r(299));var d=!1,m="",y=sI,T=aI,R=oI,L=null,W=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(L=l.unstable_transitionCallbacks),l.formState!==void 0&&(W=l.formState)),a=DA(s,1,!0,a,l??null,d,m,y,T,R,L,W),a.context=PA(null),l=a.current,d=yr(),m=Ea(d),m.callback=null,wa(l,m,d),a.current.lanes=d,qt(a,d),Ri(a),s[Yi]=a.current,L_(s),new Em(a)},lf.version="19.0.0",lf}var ZA;function LL(){if(ZA)return rE.exports;ZA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),rE.exports=VL(),rE.exports}var jL=LL(),oE={exports:{}},lE={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JA;function UL(){if(JA)return lE;JA=1;var n=Jg();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var t=typeof Object.is=="function"?Object.is:e,r=n.useSyncExternalStore,i=n.useRef,o=n.useEffect,u=n.useMemo,c=n.useDebugValue;return lE.useSyncExternalStoreWithSelector=function(f,h,g,v,E){var S=i(null);if(S.current===null){var A={hasValue:!1,value:null};S.current=A}else A=S.current;S=u(function(){function x(H){if(!U){if(U=!0,$=H,H=v(H),E!==void 0&&A.hasValue){var X=A.value;if(E(X,H))return B=X}return B=H}if(X=B,t($,H))return X;var D=v(H);return E!==void 0&&E(X,D)?($=H,X):($=H,B=D)}var U=!1,$,B,Q=g===void 0?null:g;return[function(){return x(h())},Q===null?void 0:function(){return x(Q())}]},[h,g,v,E]);var k=r(f,S[0],S[1]);return o(function(){A.hasValue=!0,A.value=k},[k]),c(k),k},lE}var eR;function BL(){return eR||(eR=1,oE.exports=UL()),oE.exports}BL();var FL=b.version.startsWith("19"),zL=Symbol.for(FL?"react.transitional.element":"react.element"),$L=Symbol.for("react.portal"),qL=Symbol.for("react.fragment"),HL=Symbol.for("react.strict_mode"),GL=Symbol.for("react.profiler"),KL=Symbol.for("react.consumer"),WL=Symbol.for("react.context"),Ux=Symbol.for("react.forward_ref"),QL=Symbol.for("react.suspense"),YL=Symbol.for("react.suspense_list"),dT=Symbol.for("react.memo"),XL=Symbol.for("react.lazy"),ZL=Ux,JL=dT;function ej(n){if(typeof n=="object"&&n!==null){const{$$typeof:e}=n;switch(e){case zL:switch(n=n.type,n){case qL:case GL:case HL:case QL:case YL:return n;default:switch(n=n&&n.$$typeof,n){case WL:case Ux:case XL:case dT:return n;case KL:return n;default:return e}}case $L:return e}}}function tj(n){return ej(n)===dT}function nj(n,e,t,r,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:u}){let c=!1,f,h,g,v,E;function S($,B){return f=$,h=B,g=n(f,h),v=e(r,h),E=t(g,v,h),c=!0,E}function A(){return g=n(f,h),e.dependsOnOwnProps&&(v=e(r,h)),E=t(g,v,h),E}function k(){return n.dependsOnOwnProps&&(g=n(f,h)),e.dependsOnOwnProps&&(v=e(r,h)),E=t(g,v,h),E}function x(){const $=n(f,h),B=!u($,g);return g=$,B&&(E=t(g,v,h)),E}function U($,B){const Q=!o(B,h),H=!i($,f,B,h);return f=$,h=B,Q&&H?A():Q?k():H?x():E}return function(B,Q){return c?U(B,Q):S(B,Q)}}function rj(n,{initMapStateToProps:e,initMapDispatchToProps:t,initMergeProps:r,...i}){const o=e(n,i),u=t(n,i),c=r(n,i);return nj(o,u,c,n,i)}function ij(n,e){const t={};for(const r in n){const i=n[r];typeof i=="function"&&(t[r]=(...o)=>e(i(...o)))}return t}function tw(n){return function(t){const r=n(t);function i(){return r}return i.dependsOnOwnProps=!1,i}}function tR(n){return n.dependsOnOwnProps?!!n.dependsOnOwnProps:n.length!==1}function Bx(n,e){return function(r,{displayName:i}){const o=function(c,f){return o.dependsOnOwnProps?o.mapToProps(c,f):o.mapToProps(c,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(c,f){o.mapToProps=n,o.dependsOnOwnProps=tR(n);let h=o(c,f);return typeof h=="function"&&(o.mapToProps=h,o.dependsOnOwnProps=tR(h),h=o(c,f)),h},o}}function fT(n,e){return(t,r)=>{throw new Error(`Invalid value of type ${typeof n} for ${e} argument when connecting component ${r.wrappedComponentName}.`)}}function sj(n){return n&&typeof n=="object"?tw(e=>ij(n,e)):n?typeof n=="function"?Bx(n):fT(n,"mapDispatchToProps"):tw(e=>({dispatch:e}))}function aj(n){return n?typeof n=="function"?Bx(n):fT(n,"mapStateToProps"):tw(()=>({}))}function oj(n,e,t){return{...t,...n,...e}}function lj(n){return function(t,{displayName:r,areMergedPropsEqual:i}){let o=!1,u;return function(f,h,g){const v=n(f,h,g);return o?i(v,u)||(u=v):(o=!0,u=v),u}}}function uj(n){return n?typeof n=="function"?lj(n):fT(n,"mergeProps"):()=>oj}function cj(n){n()}function dj(){let n=null,e=null;return{clear(){n=null,e=null},notify(){cj(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=n;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0;const i=e={callback:t,next:null,prev:e};return i.prev?i.prev.next=i:n=i,function(){!r||n===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:n=i.next)}}}}var nR={notify(){},get:()=>[]};function Fx(n,e){let t,r=nR,i=0,o=!1;function u(k){g();const x=r.subscribe(k);let U=!1;return()=>{U||(U=!0,x(),v())}}function c(){r.notify()}function f(){A.onStateChange&&A.onStateChange()}function h(){return o}function g(){i++,t||(t=e?e.addNestedSub(f):n.subscribe(f),r=dj())}function v(){i--,t&&i===0&&(t(),t=void 0,r.clear(),r=nR)}function E(){o||(o=!0,g())}function S(){o&&(o=!1,v())}const A={addNestedSub:u,notifyNestedSubs:c,handleChangeWrapper:f,isSubscribed:h,trySubscribe:E,tryUnsubscribe:S,getListeners:()=>r};return A}var fj=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hj=fj(),pj=()=>typeof navigator<"u"&&navigator.product==="ReactNative",mj=pj(),gj=()=>hj||mj?b.useLayoutEffect:b.useEffect,lg=gj();function rR(n,e){return n===e?n!==0||e!==0||1/n===1/e:n!==n&&e!==e}function uE(n,e){if(rR(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(!Object.prototype.hasOwnProperty.call(e,t[i])||!rR(n[t[i]],e[t[i]]))return!1;return!0}var yj={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},vj={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},_j={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},zx={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ej={[ZL]:_j,[JL]:zx};function iR(n){return tj(n)?zx:Ej[n.$$typeof]||yj}var wj=Object.defineProperty,Tj=Object.getOwnPropertyNames,sR=Object.getOwnPropertySymbols,bj=Object.getOwnPropertyDescriptor,Sj=Object.getPrototypeOf,aR=Object.prototype;function nw(n,e){if(typeof e!="string"){if(aR){const o=Sj(e);o&&o!==aR&&nw(n,o)}let t=Tj(e);sR&&(t=t.concat(sR(e)));const r=iR(n),i=iR(e);for(let o=0;o<t.length;++o){const u=t[o];if(!vj[u]&&!(i&&i[u])&&!(r&&r[u])){const c=bj(e,u);try{wj(n,u,c)}catch{}}}}return n}var cE=Symbol.for("react-redux-context"),dE=typeof globalThis<"u"?globalThis:{};function Ij(){if(!b.createContext)return{};const n=dE[cE]??(dE[cE]=new Map);let e=n.get(b.createContext);return e||(e=b.createContext(null),n.set(b.createContext,e)),e}var bl=Ij(),Aj=[null,null];function Rj(n,e,t){lg(()=>n(...e),t)}function Cj(n,e,t,r,i,o){n.current=r,t.current=!1,i.current&&(i.current=null,o())}function xj(n,e,t,r,i,o,u,c,f,h,g){if(!n)return()=>{};let v=!1,E=null;const S=()=>{if(v||!c.current)return;const k=e.getState();let x,U;try{x=r(k,i.current)}catch($){U=$,E=$}U||(E=null),x===o.current?u.current||h():(o.current=x,f.current=x,u.current=!0,g())};return t.onStateChange=S,t.trySubscribe(),S(),()=>{if(v=!0,t.tryUnsubscribe(),t.onStateChange=null,E)throw E}}function Nj(n,e){return n===e}function Oj(n,e,t,{pure:r,areStatesEqual:i=Nj,areOwnPropsEqual:o=uE,areStatePropsEqual:u=uE,areMergedPropsEqual:c=uE,forwardRef:f=!1,context:h=bl}={}){const g=h,v=aj(n),E=sj(e),S=uj(t),A=!!n;return x=>{const U=x.displayName||x.name||"Component",$=`Connect(${U})`,B={shouldHandleStateChanges:A,displayName:$,wrappedComponentName:U,WrappedComponent:x,initMapStateToProps:v,initMapDispatchToProps:E,initMergeProps:S,areStatesEqual:i,areStatePropsEqual:u,areOwnPropsEqual:o,areMergedPropsEqual:c};function Q(D){const[N,C,P]=b.useMemo(()=>{const{reactReduxForwardedRef:je,...Ge}=D;return[D.context,je,Ge]},[D]),j=b.useMemo(()=>{let je=g;return N!=null&&N.Consumer,je},[N,g]),q=b.useContext(j),M=!!D.store&&!!D.store.getState&&!!D.store.dispatch,Me=!!q&&!!q.store,xe=M?D.store:q.store,le=Me?q.getServerState:xe.getState,ye=b.useMemo(()=>rj(xe.dispatch,B),[xe]),[me,Pe]=b.useMemo(()=>{if(!A)return Aj;const je=Fx(xe,M?void 0:q.subscription),Ge=je.notifyNestedSubs.bind(je);return[je,Ge]},[xe,M,q]),F=b.useMemo(()=>M?q:{...q,subscription:me},[M,q,me]),V=b.useRef(void 0),K=b.useRef(P),z=b.useRef(void 0),Y=b.useRef(!1),ue=b.useRef(!1),pe=b.useRef(void 0);lg(()=>(ue.current=!0,()=>{ue.current=!1}),[]);const we=b.useMemo(()=>()=>z.current&&P===K.current?z.current:ye(xe.getState(),P),[xe,P]),ve=b.useMemo(()=>Ge=>me?xj(A,xe,me,ye,K,V,Y,ue,z,Pe,Ge):()=>{},[me]);Rj(Cj,[K,V,Y,P,z,Pe]);let Ve;try{Ve=b.useSyncExternalStore(ve,we,le?()=>ye(le(),P):we)}catch(je){throw pe.current&&(je.message+=`
The error may be correlated with this previous error:
${pe.current.stack}

`),je}lg(()=>{pe.current=void 0,z.current=void 0,V.current=Ve});const ke=b.useMemo(()=>b.createElement(x,{...Ve,ref:C}),[C,x,Ve]);return b.useMemo(()=>A?b.createElement(j.Provider,{value:F},ke):ke,[j,ke,F])}const X=b.memo(Q);if(X.WrappedComponent=x,X.displayName=Q.displayName=$,f){const N=b.forwardRef(function(P,j){return b.createElement(X,{...P,reactReduxForwardedRef:j})});return N.displayName=$,N.WrappedComponent=x,nw(N,x)}return nw(X,x)}}var Bs=Oj;function Dj(n){const{children:e,context:t,serverState:r,store:i}=n,o=b.useMemo(()=>{const f=Fx(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),u=b.useMemo(()=>i.getState(),[i]);lg(()=>{const{subscription:f}=o;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),u!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[o,u]);const c=t||bl;return b.createElement(c.Provider,{value:o},e)}var Pj=Dj;function $x(n=bl){return function(){return b.useContext(n)}}var kj=$x();function qx(n=bl){const e=n===bl?kj:$x(n),t=()=>{const{store:r}=e();return r};return Object.assign(t,{withTypes:()=>t}),t}var Mj=qx();function Vj(n=bl){const e=n===bl?Mj:qx(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var Gi=Vj(),uf={},oR;function Lj(){if(oR)return uf;oR=1,Object.defineProperty(uf,"__esModule",{value:!0}),uf.parse=u,uf.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function u(E,S){const A=new o,k=E.length;if(k<2)return A;const x=(S==null?void 0:S.decode)||g;let U=0;do{const $=E.indexOf("=",U);if($===-1)break;const B=E.indexOf(";",U),Q=B===-1?k:B;if($>Q){U=E.lastIndexOf(";",$-1)+1;continue}const H=c(E,U,$),X=f(E,$,H),D=E.slice(H,X);if(A[D]===void 0){let N=c(E,$+1,Q),C=f(E,Q,N);const P=x(E.slice(N,C));A[D]=P}U=Q+1}while(U<k);return A}function c(E,S,A){do{const k=E.charCodeAt(S);if(k!==32&&k!==9)return S}while(++S<A);return A}function f(E,S,A){for(;S>A;){const k=E.charCodeAt(--S);if(k!==32&&k!==9)return S+1}return A}function h(E,S,A){const k=(A==null?void 0:A.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const x=k(S);if(!e.test(x))throw new TypeError(`argument val is invalid: ${S}`);let U=E+"="+x;if(!A)return U;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);U+="; Max-Age="+A.maxAge}if(A.domain){if(!t.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);U+="; Domain="+A.domain}if(A.path){if(!r.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);U+="; Path="+A.path}if(A.expires){if(!v(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);U+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(U+="; HttpOnly"),A.secure&&(U+="; Secure"),A.partitioned&&(U+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return U}function g(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function v(E){return i.call(E)==="[object Date]"}return uf}Lj();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var lR="popstate";function jj(n={}){function e(r,i){let{pathname:o,search:u,hash:c}=r.location;return rw("",{pathname:o,search:u,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Xf(i)}return Bj(e,t,null,n)}function Pt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Fi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Uj(){return Math.random().toString(36).substring(2,10)}function uR(n,e){return{usr:n.state,key:n.key,idx:e}}function rw(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Fc(e):e,state:t,key:e&&e.key||r||Uj()}}function Xf({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Fc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function Bj(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,u=i.history,c="POP",f=null,h=g();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function g(){return(u.state||{idx:null}).idx}function v(){c="POP";let x=g(),U=x==null?null:x-h;h=x,f&&f({action:c,location:k.location,delta:U})}function E(x,U){c="PUSH";let $=rw(k.location,x,U);h=g()+1;let B=uR($,h),Q=k.createHref($);try{u.pushState(B,"",Q)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;i.location.assign(Q)}o&&f&&f({action:c,location:k.location,delta:1})}function S(x,U){c="REPLACE";let $=rw(k.location,x,U);h=g();let B=uR($,h),Q=k.createHref($);u.replaceState(B,"",Q),o&&f&&f({action:c,location:k.location,delta:0})}function A(x){let U=i.location.origin!=="null"?i.location.origin:i.location.href,$=typeof x=="string"?x:Xf(x);return $=$.replace(/ $/,"%20"),Pt(U,`No window.location.(origin|href) available to create URL for href: ${$}`),new URL($,U)}let k={get action(){return c},get location(){return n(i,u)},listen(x){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(lR,v),f=x,()=>{i.removeEventListener(lR,v),f=null}},createHref(x){return e(i,x)},createURL:A,encodeLocation(x){let U=A(x);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:E,replace:S,go(x){return u.go(x)}};return k}function Hx(n,e,t="/"){return Fj(n,e,t,!1)}function Fj(n,e,t,r){let i=typeof e=="string"?Fc(e):e,o=Xa(i.pathname||"/",t);if(o==null)return null;let u=Gx(n);zj(u);let c=null;for(let f=0;c==null&&f<u.length;++f){let h=Jj(o);c=Xj(u[f],h,r)}return c}function Gx(n,e=[],t=[],r=""){let i=(o,u,c)=>{let f={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(Pt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let h=Rs([r,f.relativePath]),g=t.concat(f);o.children&&o.children.length>0&&(Pt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Gx(o.children,e,g,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:Qj(h,o.index),routesMeta:g})};return n.forEach((o,u)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,u);else for(let f of Kx(o.path))i(o,u,f)}),e}function Kx(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let u=Kx(r.join("/")),c=[];return c.push(...u.map(f=>f===""?o:[o,f].join("/"))),i&&c.push(...u),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function zj(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Yj(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var $j=/^:[\w-]+$/,qj=3,Hj=2,Gj=1,Kj=10,Wj=-2,cR=n=>n==="*";function Qj(n,e){let t=n.split("/"),r=t.length;return t.some(cR)&&(r+=Wj),e&&(r+=Hj),t.filter(i=>!cR(i)).reduce((i,o)=>i+($j.test(o)?qj:o===""?Gj:Kj),r)}function Yj(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function Xj(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",u=[];for(let c=0;c<r.length;++c){let f=r[c],h=c===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=ug({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},g),E=f.route;if(!v&&h&&t&&!r[r.length-1].route.index&&(v=ug({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(i,v.params),u.push({params:i,pathname:Rs([o,v.pathname]),pathnameBase:rU(Rs([o,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(o=Rs([o,v.pathnameBase]))}return u}function ug(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Zj(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],u=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((h,{paramName:g,isOptional:v},E)=>{if(g==="*"){let A=c[E]||"";u=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const S=c[E];return v&&!S?h[g]=void 0:h[g]=(S||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:u,pattern:n}}function Zj(n,e=!1,t=!0){Fi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Jj(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Xa(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function eU(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Fc(n):n;return{pathname:t?t.startsWith("/")?t:tU(t,e):e,search:iU(r),hash:sU(i)}}function tU(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function fE(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nU(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Wx(n){let e=nU(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Qx(n,e,t,r=!1){let i;typeof n=="string"?i=Fc(n):(i={...n},Pt(!i.pathname||!i.pathname.includes("?"),fE("?","pathname","search",i)),Pt(!i.pathname||!i.pathname.includes("#"),fE("#","pathname","hash",i)),Pt(!i.search||!i.search.includes("#"),fE("#","search","hash",i)));let o=n===""||i.pathname==="",u=o?"/":i.pathname,c;if(u==null)c=t;else{let v=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),v-=1;i.pathname=E.join("/")}c=v>=0?e[v]:"/"}let f=eU(i,c),h=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(h||g)&&(f.pathname+="/"),f}var Rs=n=>n.join("/").replace(/\/\/+/g,"/"),rU=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),iU=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,sU=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function aU(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Yx=["POST","PUT","PATCH","DELETE"];new Set(Yx);var oU=["GET",...Yx];new Set(oU);var zc=b.createContext(null);zc.displayName="DataRouter";var ey=b.createContext(null);ey.displayName="DataRouterState";var Xx=b.createContext({isTransitioning:!1});Xx.displayName="ViewTransition";var lU=b.createContext(new Map);lU.displayName="Fetchers";var uU=b.createContext(null);uU.displayName="Await";var Ki=b.createContext(null);Ki.displayName="Navigation";var Ih=b.createContext(null);Ih.displayName="Location";var Fs=b.createContext({outlet:null,matches:[],isDataRoute:!1});Fs.displayName="Route";var hT=b.createContext(null);hT.displayName="RouteError";function cU(n,{relative:e}={}){Pt(Ah(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=b.useContext(Ki),{hash:i,pathname:o,search:u}=Rh(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:Rs([t,o])),r.createHref({pathname:c,search:u,hash:i})}function Ah(){return b.useContext(Ih)!=null}function $l(){return Pt(Ah(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Ih).location}var Zx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Jx(n){b.useContext(Ki).static||b.useLayoutEffect(n)}function zs(){let{isDataRoute:n}=b.useContext(Fs);return n?bU():dU()}function dU(){Pt(Ah(),"useNavigate() may be used only in the context of a <Router> component.");let n=b.useContext(zc),{basename:e,navigator:t}=b.useContext(Ki),{matches:r}=b.useContext(Fs),{pathname:i}=$l(),o=JSON.stringify(Wx(r)),u=b.useRef(!1);return Jx(()=>{u.current=!0}),b.useCallback((f,h={})=>{if(Fi(u.current,Zx),!u.current)return;if(typeof f=="number"){t.go(f);return}let g=Qx(f,JSON.parse(o),i,h.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Rs([e,g.pathname])),(h.replace?t.replace:t.push)(g,h.state,h)},[e,t,o,i,n])}b.createContext(null);function Rh(n,{relative:e}={}){let{matches:t}=b.useContext(Fs),{pathname:r}=$l(),i=JSON.stringify(Wx(t));return b.useMemo(()=>Qx(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function fU(n,e){return eN(n,e)}function eN(n,e,t,r){var $;Pt(Ah(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=b.useContext(Ki),{matches:u}=b.useContext(Fs),c=u[u.length-1],f=c?c.params:{},h=c?c.pathname:"/",g=c?c.pathnameBase:"/",v=c&&c.route;{let B=v&&v.path||"";tN(h,!v||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let E=$l(),S;if(e){let B=typeof e=="string"?Fc(e):e;Pt(g==="/"||(($=B.pathname)==null?void 0:$.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${B.pathname}" was given in the \`location\` prop.`),S=B}else S=E;let A=S.pathname||"/",k=A;if(g!=="/"){let B=g.replace(/^\//,"").split("/");k="/"+A.replace(/^\//,"").split("/").slice(B.length).join("/")}let x=!o&&t&&t.matches&&t.matches.length>0?t.matches:Hx(n,{pathname:k});Fi(v||x!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Fi(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=yU(x&&x.map(B=>Object.assign({},B,{params:Object.assign({},f,B.params),pathname:Rs([g,i.encodeLocation?i.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?g:Rs([g,i.encodeLocation?i.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),u,t,r);return e&&U?b.createElement(Ih.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},U):U}function hU(){let n=TU(),e=aU(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=b.createElement(b.Fragment,null,b.createElement("p",null,"💿 Hey developer 👋"),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:o},"ErrorBoundary")," or"," ",b.createElement("code",{style:o},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),t?b.createElement("pre",{style:i},t):null,u)}var pU=b.createElement(hU,null),mU=class extends b.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?b.createElement(Fs.Provider,{value:this.props.routeContext},b.createElement(hT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gU({routeContext:n,match:e,children:t}){let r=b.useContext(zc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(Fs.Provider,{value:n},t)}function yU(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let f=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Pt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let u=!1,c=-1;if(t)for(let f=0;f<i.length;f++){let h=i[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=f),h.route.id){let{loaderData:g,errors:v}=t,E=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||E){u=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((f,h,g)=>{let v,E=!1,S=null,A=null;t&&(v=o&&h.route.id?o[h.route.id]:void 0,S=h.route.errorElement||pU,u&&(c<0&&g===0?(tN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,A=null):c===g&&(E=!0,A=h.route.hydrateFallbackElement||null)));let k=e.concat(i.slice(0,g+1)),x=()=>{let U;return v?U=S:E?U=A:h.route.Component?U=b.createElement(h.route.Component,null):h.route.element?U=h.route.element:U=f,b.createElement(gU,{match:h,routeContext:{outlet:f,matches:k,isDataRoute:t!=null},children:U})};return t&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?b.createElement(mU,{location:t.location,revalidation:t.revalidation,component:S,error:v,children:x(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):x()},null)}function pT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vU(n){let e=b.useContext(zc);return Pt(e,pT(n)),e}function _U(n){let e=b.useContext(ey);return Pt(e,pT(n)),e}function EU(n){let e=b.useContext(Fs);return Pt(e,pT(n)),e}function mT(n){let e=EU(n),t=e.matches[e.matches.length-1];return Pt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function wU(){return mT("useRouteId")}function TU(){var r;let n=b.useContext(hT),e=_U("useRouteError"),t=mT("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function bU(){let{router:n}=vU("useNavigate"),e=mT("useNavigate"),t=b.useRef(!1);return Jx(()=>{t.current=!0}),b.useCallback(async(i,o={})=>{Fi(t.current,Zx),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var dR={};function tN(n,e,t){!e&&!dR[n]&&(dR[n]=!0,Fi(!1,t))}b.memo(SU);function SU({routes:n,future:e,state:t}){return eN(n,void 0,t,e)}function ws(n){Pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function IU({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){Pt(!Ah(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:u,navigator:i,static:o,future:{}}),[u,i,o]);typeof t=="string"&&(t=Fc(t));let{pathname:f="/",search:h="",hash:g="",state:v=null,key:E="default"}=t,S=b.useMemo(()=>{let A=Xa(f,u);return A==null?null:{location:{pathname:A,search:h,hash:g,state:v,key:E},navigationType:r}},[u,f,h,g,v,E,r]);return Fi(S!=null,`<Router basename="${u}"> is not able to match the URL "${f}${h}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:b.createElement(Ki.Provider,{value:c},b.createElement(Ih.Provider,{children:e,value:S}))}function AU({children:n,location:e}){return fU(iw(n),e)}function iw(n,e=[]){let t=[];return b.Children.forEach(n,(r,i)=>{if(!b.isValidElement(r))return;let o=[...e,i];if(r.type===b.Fragment){t.push.apply(t,iw(r.props.children,o));return}Pt(r.type===ws,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=iw(r.props.children,o)),t.push(u)}),t}var Bm="get",Fm="application/x-www-form-urlencoded";function ty(n){return n!=null&&typeof n.tagName=="string"}function RU(n){return ty(n)&&n.tagName.toLowerCase()==="button"}function CU(n){return ty(n)&&n.tagName.toLowerCase()==="form"}function xU(n){return ty(n)&&n.tagName.toLowerCase()==="input"}function NU(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function OU(n,e){return n.button===0&&(!e||e==="_self")&&!NU(n)}var bm=null;function DU(){if(bm===null)try{new FormData(document.createElement("form"),0),bm=!1}catch{bm=!0}return bm}var PU=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hE(n){return n!=null&&!PU.has(n)?(Fi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fm}"`),null):n}function kU(n,e){let t,r,i,o,u;if(CU(n)){let c=n.getAttribute("action");r=c?Xa(c,e):null,t=n.getAttribute("method")||Bm,i=hE(n.getAttribute("enctype"))||Fm,o=new FormData(n)}else if(RU(n)||xU(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||c.getAttribute("action");if(r=f?Xa(f,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Bm,i=hE(n.getAttribute("formenctype"))||hE(c.getAttribute("enctype"))||Fm,o=new FormData(c,n),!DU()){let{name:h,type:g,value:v}=n;if(g==="image"){let E=h?`${h}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else h&&o.append(h,v)}}else{if(ty(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Bm,r=null,i=Fm,u=n}return o&&i==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:u}}function gT(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function MU(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function VU(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function LU(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let u=await MU(o,t);return u.links?u.links():[]}return[]}));return FU(r.flat(1).filter(VU).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function fR(n,e,t,r,i,o){let u=(f,h)=>t[h]?f.route.id!==t[h].route.id:!0,c=(f,h)=>{var g;return t[h].pathname!==f.pathname||((g=t[h].route.path)==null?void 0:g.endsWith("*"))&&t[h].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,h)=>u(f,h)||c(f,h)):o==="data"?e.filter((f,h)=>{var v;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,h)||c(f,h))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function jU(n,e){return UU(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function UU(n){return[...new Set(n)]}function BU(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function FU(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(BU(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function zU(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function $U(){let n=b.useContext(zc);return gT(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function qU(){let n=b.useContext(ey);return gT(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var yT=b.createContext(void 0);yT.displayName="FrameworkContext";function nN(){let n=b.useContext(yT);return gT(n,"You must render this element inside a <HydratedRouter> element"),n}function HU(n,e){let t=b.useContext(yT),[r,i]=b.useState(!1),[o,u]=b.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:h,onMouseLeave:g,onTouchStart:v}=e,E=b.useRef(null);b.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let k=U=>{U.forEach($=>{u($.isIntersecting)})},x=new IntersectionObserver(k,{threshold:.5});return E.current&&x.observe(E.current),()=>{x.disconnect()}}},[n]),b.useEffect(()=>{if(r){let k=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(k)}}},[r]);let S=()=>{i(!0)},A=()=>{i(!1),u(!1)};return t?n!=="intent"?[o,E,{}]:[o,E,{onFocus:cf(c,S),onBlur:cf(f,A),onMouseEnter:cf(h,S),onMouseLeave:cf(g,A),onTouchStart:cf(v,S)}]:[!1,E,{}]}function cf(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function GU({page:n,...e}){let{router:t}=$U(),r=b.useMemo(()=>Hx(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?b.createElement(WU,{page:n,matches:r,...e}):null}function KU(n){let{manifest:e,routeModules:t}=nN(),[r,i]=b.useState([]);return b.useEffect(()=>{let o=!1;return LU(n,e,t).then(u=>{o||i(u)}),()=>{o=!0}},[n,e,t]),r}function WU({page:n,matches:e,...t}){let r=$l(),{manifest:i,routeModules:o}=nN(),{loaderData:u,matches:c}=qU(),f=b.useMemo(()=>fR(n,e,c,i,r,"data"),[n,e,c,i,r]),h=b.useMemo(()=>fR(n,e,c,i,r,"assets"),[n,e,c,i,r]),g=b.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let S=new Set,A=!1;if(e.forEach(x=>{var $;let U=i.routes[x.route.id];!U||!U.hasLoader||(!f.some(B=>B.route.id===x.route.id)&&x.route.id in u&&(($=o[x.route.id])!=null&&$.shouldRevalidate)||U.hasClientLoader?A=!0:S.add(x.route.id))}),S.size===0)return[];let k=zU(n);return A&&S.size>0&&k.searchParams.set("_routes",e.filter(x=>S.has(x.route.id)).map(x=>x.route.id).join(",")),[k.pathname+k.search]},[u,r,i,f,e,n,o]),v=b.useMemo(()=>jU(h,i),[h,i]),E=KU(h);return b.createElement(b.Fragment,null,g.map(S=>b.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),v.map(S=>b.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),E.map(({key:S,link:A})=>b.createElement("link",{key:S,...A})))}function QU(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var rN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rN&&(window.__reactRouterVersion="7.1.5")}catch{}function YU({basename:n,children:e,window:t}){let r=b.useRef();r.current==null&&(r.current=jj({window:t,v5Compat:!0}));let i=r.current,[o,u]=b.useState({action:i.action,location:i.location}),c=b.useCallback(f=>{b.startTransition(()=>u(f))},[u]);return b.useLayoutEffect(()=>i.listen(c),[i,c]),b.createElement(IU,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var iN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fl=b.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:u,state:c,target:f,to:h,preventScrollReset:g,viewTransition:v,...E},S){let{basename:A}=b.useContext(Ki),k=typeof h=="string"&&iN.test(h),x,U=!1;if(typeof h=="string"&&k&&(x=h,rN))try{let C=new URL(window.location.href),P=h.startsWith("//")?new URL(C.protocol+h):new URL(h),j=Xa(P.pathname,A);P.origin===C.origin&&j!=null?h=j+P.search+P.hash:U=!0}catch{Fi(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=cU(h,{relative:i}),[B,Q,H]=HU(r,E),X=e4(h,{replace:u,state:c,target:f,preventScrollReset:g,relative:i,viewTransition:v});function D(C){e&&e(C),C.defaultPrevented||X(C)}let N=b.createElement("a",{...E,...H,href:x||$,onClick:U||o?e:D,ref:QU(S,Q),target:f,"data-discover":!k&&t==="render"?"true":void 0});return B&&!k?b.createElement(b.Fragment,null,N,b.createElement(GU,{page:$})):N});fl.displayName="Link";var XU=b.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:u,viewTransition:c,children:f,...h},g){let v=Rh(u,{relative:h.relative}),E=$l(),S=b.useContext(ey),{navigator:A,basename:k}=b.useContext(Ki),x=S!=null&&s4(v)&&c===!0,U=A.encodeLocation?A.encodeLocation(v).pathname:v.pathname,$=E.pathname,B=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||($=$.toLowerCase(),B=B?B.toLowerCase():null,U=U.toLowerCase()),B&&k&&(B=Xa(B,k)||B);const Q=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let H=$===U||!i&&$.startsWith(U)&&$.charAt(Q)==="/",X=B!=null&&(B===U||!i&&B.startsWith(U)&&B.charAt(U.length)==="/"),D={isActive:H,isPending:X,isTransitioning:x},N=H?e:void 0,C;typeof r=="function"?C=r(D):C=[r,H?"active":null,X?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(D):o;return b.createElement(fl,{...h,"aria-current":N,className:C,ref:g,style:P,to:u,viewTransition:c},typeof f=="function"?f(D):f)});XU.displayName="NavLink";var ZU=b.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:u=Bm,action:c,onSubmit:f,relative:h,preventScrollReset:g,viewTransition:v,...E},S)=>{let A=r4(),k=i4(c,{relative:h}),x=u.toLowerCase()==="get"?"get":"post",U=typeof c=="string"&&iN.test(c),$=B=>{if(f&&f(B),B.defaultPrevented)return;B.preventDefault();let Q=B.nativeEvent.submitter,H=(Q==null?void 0:Q.getAttribute("formmethod"))||u;A(Q||B.currentTarget,{fetcherKey:e,method:H,navigate:t,replace:i,state:o,relative:h,preventScrollReset:g,viewTransition:v})};return b.createElement("form",{ref:S,method:x,action:k,onSubmit:r?f:$,...E,"data-discover":!U&&n==="render"?"true":void 0})});ZU.displayName="Form";function JU(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sN(n){let e=b.useContext(zc);return Pt(e,JU(n)),e}function e4(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:u}={}){let c=zs(),f=$l(),h=Rh(n,{relative:o});return b.useCallback(g=>{if(OU(g,e)){g.preventDefault();let v=t!==void 0?t:Xf(f)===Xf(h);c(n,{replace:v,state:r,preventScrollReset:i,relative:o,viewTransition:u})}},[f,c,h,t,r,e,n,i,o,u])}var t4=0,n4=()=>`__${String(++t4)}__`;function r4(){let{router:n}=sN("useSubmit"),{basename:e}=b.useContext(Ki),t=wU();return b.useCallback(async(r,i={})=>{let{action:o,method:u,encType:c,formData:f,body:h}=kU(r,e);if(i.navigate===!1){let g=i.fetcherKey||n4();await n.fetch(g,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||u,formEncType:i.encType||c,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||u,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function i4(n,{relative:e}={}){let{basename:t}=b.useContext(Ki),r=b.useContext(Fs);Pt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Rh(n||".",{relative:e})},u=$l();if(n==null){o.search=u.search;let c=new URLSearchParams(o.search),f=c.getAll("index");if(f.some(g=>g==="")){c.delete("index"),f.filter(v=>v).forEach(v=>c.append("index",v));let g=c.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Rs([t,o.pathname])),Xf(o)}function s4(n,e={}){let t=b.useContext(Xx);Pt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=sN("useViewTransitionState"),i=Rh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Xa(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Xa(t.nextLocation.pathname,r)||t.nextLocation.pathname;return ug(i.pathname,u)!=null||ug(i.pathname,o)!=null}new TextEncoder;var a4=jx();const ec=Bc(a4);function zm(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zm=function(t){return typeof t}:zm=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(n)}function o4(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function l4(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function u4(n,e,t){return e&&l4(n.prototype,e),n}function c4(n,e){return e&&(zm(e)==="object"||typeof e=="function")?e:$m(n)}function sw(n){return sw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},sw(n)}function $m(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function d4(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&aw(n,e)}function aw(n,e){return aw=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},aw(n,e)}function qm(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var aN=function(n){d4(e,n);function e(){var t,r;o4(this,e);for(var i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return r=c4(this,(t=sw(e)).call.apply(t,[this].concat(o))),qm($m(r),"state",{bootstrapped:!1}),qm($m(r),"_unsubscribe",void 0),qm($m(r),"handlePersistorState",function(){var c=r.props.persistor,f=c.getState(),h=f.bootstrapped;h&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return u4(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(b.PureComponent);qm(aN,"defaultProps",{children:null,loading:null});function Cn(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var f4=typeof Symbol=="function"&&Symbol.observable||"@@observable",hR=f4,pE=()=>Math.random().toString(36).substring(7).split("").join("."),h4={INIT:`@@redux/INIT${pE()}`,REPLACE:`@@redux/REPLACE${pE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${pE()}`},cg=h4;function vT(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function _T(n,e,t){if(typeof n!="function")throw new Error(Cn(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Cn(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Cn(1));return t(_T)(n,e)}let r=n,i=e,o=new Map,u=o,c=0,f=!1;function h(){u===o&&(u=new Map,o.forEach((x,U)=>{u.set(U,x)}))}function g(){if(f)throw new Error(Cn(3));return i}function v(x){if(typeof x!="function")throw new Error(Cn(4));if(f)throw new Error(Cn(5));let U=!0;h();const $=c++;return u.set($,x),function(){if(U){if(f)throw new Error(Cn(6));U=!1,h(),u.delete($),o=null}}}function E(x){if(!vT(x))throw new Error(Cn(7));if(typeof x.type>"u")throw new Error(Cn(8));if(typeof x.type!="string")throw new Error(Cn(17));if(f)throw new Error(Cn(9));try{f=!0,i=r(i,x)}finally{f=!1}return(o=u).forEach($=>{$()}),x}function S(x){if(typeof x!="function")throw new Error(Cn(10));r=x,E({type:cg.REPLACE})}function A(){const x=v;return{subscribe(U){if(typeof U!="object"||U===null)throw new Error(Cn(11));function $(){const Q=U;Q.next&&Q.next(g())}return $(),{unsubscribe:x($)}},[hR](){return this}}}return E({type:cg.INIT}),{dispatch:E,subscribe:v,getState:g,replaceReducer:S,[hR]:A}}function p4(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:cg.INIT})>"u")throw new Error(Cn(12));if(typeof t(void 0,{type:cg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Cn(13))})}function oN(n){const e=Object.keys(n),t={};for(let o=0;o<e.length;o++){const u=e[o];typeof n[u]=="function"&&(t[u]=n[u])}const r=Object.keys(t);let i;try{p4(t)}catch(o){i=o}return function(u={},c){if(i)throw i;let f=!1;const h={};for(let g=0;g<r.length;g++){const v=r[g],E=t[v],S=u[v],A=E(S,c);if(typeof A>"u")throw c&&c.type,new Error(Cn(14));h[v]=A,f=f||A!==S}return f=f||r.length!==Object.keys(u).length,f?h:u}}function dg(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function m4(...n){return e=>(t,r)=>{const i=e(t,r);let o=()=>{throw new Error(Cn(15))};const u={getState:i.getState,dispatch:(f,...h)=>o(f,...h)},c=n.map(f=>f(u));return o=dg(...c)(i.dispatch),{...i,dispatch:o}}}function g4(n){return vT(n)&&"type"in n&&typeof n.type=="string"}var lN=Symbol.for("immer-nothing"),pR=Symbol.for("immer-draftable"),Tr=Symbol.for("immer-state");function ui(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var uc=Object.getPrototypeOf;function Sl(n){return!!n&&!!n[Tr]}function Os(n){var e;return n?uN(n)||Array.isArray(n)||!!n[pR]||!!((e=n.constructor)!=null&&e[pR])||ry(n)||iy(n):!1}var y4=Object.prototype.constructor.toString();function uN(n){if(!n||typeof n!="object")return!1;const e=uc(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===y4}function fg(n,e){ny(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,r)=>e(r,t,n))}function ny(n){const e=n[Tr];return e?e.type_:Array.isArray(n)?1:ry(n)?2:iy(n)?3:0}function ow(n,e){return ny(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function cN(n,e,t){const r=ny(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function v4(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function ry(n){return n instanceof Map}function iy(n){return n instanceof Set}function rl(n){return n.copy_||n.base_}function lw(n,e){if(ry(n))return new Map(n);if(iy(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);if(!e&&uN(n))return uc(n)?{...n}:Object.assign(Object.create(null),n);const t=Object.getOwnPropertyDescriptors(n);delete t[Tr];let r=Reflect.ownKeys(t);for(let i=0;i<r.length;i++){const o=r[i],u=t[o];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(t[o]={configurable:!0,writable:!0,enumerable:u.enumerable,value:n[o]})}return Object.create(uc(n),t)}function ET(n,e=!1){return sy(n)||Sl(n)||!Os(n)||(ny(n)>1&&(n.set=n.add=n.clear=n.delete=_4),Object.freeze(n),e&&Object.entries(n).forEach(([t,r])=>ET(r,!0))),n}function _4(){ui(2)}function sy(n){return Object.isFrozen(n)}var E4={};function Il(n){const e=E4[n];return e||ui(0,n),e}var Zf;function dN(){return Zf}function w4(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function mR(n,e){e&&(Il("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function uw(n){cw(n),n.drafts_.forEach(T4),n.drafts_=null}function cw(n){n===Zf&&(Zf=n.parent_)}function gR(n){return Zf=w4(Zf,n)}function T4(n){const e=n[Tr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function yR(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[Tr].modified_&&(uw(e),ui(4)),Os(n)&&(n=hg(e,n),e.parent_||pg(e,n)),e.patches_&&Il("Patches").generateReplacementPatches_(t[Tr].base_,n,e.patches_,e.inversePatches_)):n=hg(e,t,[]),uw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==lN?n:void 0}function hg(n,e,t){if(sy(e))return e;const r=e[Tr];if(!r)return fg(e,(i,o)=>vR(n,r,e,i,o,t)),e;if(r.scope_!==n)return e;if(!r.modified_)return pg(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,u=!1;r.type_===3&&(o=new Set(i),i.clear(),u=!0),fg(o,(c,f)=>vR(n,r,i,c,f,t,u)),pg(n,i,!1),t&&n.patches_&&Il("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function vR(n,e,t,r,i,o,u){if(Sl(i)){const c=o&&e&&e.type_!==3&&!ow(e.assigned_,r)?o.concat(r):void 0,f=hg(n,i,c);if(cN(t,r,f),Sl(f))n.canAutoFreeze_=!1;else return}else u&&t.add(i);if(Os(i)&&!sy(i)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;hg(n,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,r)&&pg(n,i)}}function pg(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&ET(e,t)}function b4(n,e){const t=Array.isArray(n),r={type_:t?1:0,scope_:e?e.scope_:dN(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=wT;t&&(i=[r],o=Jf);const{revoke:u,proxy:c}=Proxy.revocable(i,o);return r.draft_=c,r.revoke_=u,c}var wT={get(n,e){if(e===Tr)return n;const t=rl(n);if(!ow(t,e))return S4(n,t,e);const r=t[e];return n.finalized_||!Os(r)?r:r===mE(n.base_,e)?(gE(n),n.copy_[e]=fw(r,n)):r},has(n,e){return e in rl(n)},ownKeys(n){return Reflect.ownKeys(rl(n))},set(n,e,t){const r=fN(rl(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const i=mE(rl(n),e),o=i==null?void 0:i[Tr];if(o&&o.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(v4(t,i)&&(t!==void 0||ow(n.base_,e)))return!0;gE(n),dw(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return mE(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,gE(n),dw(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=rl(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){ui(11)},getPrototypeOf(n){return uc(n.base_)},setPrototypeOf(){ui(12)}},Jf={};fg(wT,(n,e)=>{Jf[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Jf.deleteProperty=function(n,e){return Jf.set.call(this,n,e,void 0)};Jf.set=function(n,e,t){return wT.set.call(this,n[0],e,t,n[0])};function mE(n,e){const t=n[Tr];return(t?rl(t):n)[e]}function S4(n,e,t){var i;const r=fN(e,t);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(n.draft_):void 0}function fN(n,e){if(!(e in n))return;let t=uc(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=uc(t)}}function dw(n){n.modified_||(n.modified_=!0,n.parent_&&dw(n.parent_))}function gE(n){n.copy_||(n.copy_=lw(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var I4=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){const o=t;t=e;const u=this;return function(f=o,...h){return u.produce(f,g=>t.call(this,g,...h))}}typeof t!="function"&&ui(6),r!==void 0&&typeof r!="function"&&ui(7);let i;if(Os(e)){const o=gR(this),u=fw(e,void 0);let c=!0;try{i=t(u),c=!1}finally{c?uw(o):cw(o)}return mR(o,r),yR(i,o)}else if(!e||typeof e!="object"){if(i=t(e),i===void 0&&(i=e),i===lN&&(i=void 0),this.autoFreeze_&&ET(i,!0),r){const o=[],u=[];Il("Patches").generateReplacementPatches_(e,i,o,u),r(o,u)}return i}else ui(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(u,...c)=>this.produceWithPatches(u,f=>e(f,...c));let r,i;return[this.produce(e,t,(u,c)=>{r=u,i=c}),r,i]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){Os(n)||ui(8),Sl(n)&&(n=A4(n));const e=gR(this),t=fw(n,void 0);return t[Tr].isManual_=!0,cw(e),t}finishDraft(n,e){const t=n&&n[Tr];(!t||!t.isManual_)&&ui(9);const{scope_:r}=t;return mR(r,e),yR(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const i=e[t];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}t>-1&&(e=e.slice(t+1));const r=Il("Patches").applyPatches_;return Sl(n)?r(n,e):this.produce(n,i=>r(i,e))}};function fw(n,e){const t=ry(n)?Il("MapSet").proxyMap_(n,e):iy(n)?Il("MapSet").proxySet_(n,e):b4(n,e);return(e?e.scope_:dN()).drafts_.push(t),t}function A4(n){return Sl(n)||ui(10,n),hN(n)}function hN(n){if(!Os(n)||sy(n))return n;const e=n[Tr];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=lw(n,e.scope_.immer_.useStrictShallowCopy_)}else t=lw(n,!0);return fg(t,(r,i)=>{cN(t,r,hN(i))}),e&&(e.finalized_=!1),t}var br=new I4,pN=br.produce;br.produceWithPatches.bind(br);br.setAutoFreeze.bind(br);br.setUseStrictShallowCopy.bind(br);br.applyPatches.bind(br);br.createDraft.bind(br);br.finishDraft.bind(br);function mN(n){return({dispatch:t,getState:r})=>i=>o=>typeof o=="function"?o(t,r,n):i(o)}var R4=mN(),C4=mN,x4=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?dg:dg.apply(null,arguments)};function Ar(n,e){function t(...r){if(e){let i=e(...r);if(!i)throw new Error(mg(0));return{type:n,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:n,payload:r[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=r=>g4(r)&&r.type===n,t}var gN=class If extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,If.prototype)}static get[Symbol.species](){return If}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new If(...e[0].concat(this)):new If(...e.concat(this))}};function _R(n){return Os(n)?pN(n,()=>{}):n}function N4(n){return typeof n=="boolean"}var O4=()=>function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let u=new gN;return t&&(N4(t)?u.push(R4):u.push(C4(t.extraArgument))),u},D4="RTK_autoBatch",ER=n=>e=>{setTimeout(e,n)},P4=(n={type:"raf"})=>e=>(...t)=>{const r=e(...t);let i=!0,o=!1,u=!1;const c=new Set,f=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:ER(10):n.type==="callback"?n.queueNotification:ER(n.timeout),h=()=>{u=!1,o&&(o=!1,c.forEach(g=>g()))};return Object.assign({},r,{subscribe(g){const v=()=>i&&g(),E=r.subscribe(v);return c.add(g),()=>{E(),c.delete(g)}},dispatch(g){var v;try{return i=!((v=g==null?void 0:g.meta)!=null&&v[D4]),o=!i,o&&(u||(u=!0,f(h))),r.dispatch(g)}finally{i=!0}}})},k4=n=>function(t){const{autoBatch:r=!0}=t??{};let i=new gN(n);return r&&i.push(P4(typeof r=="object"?r:void 0)),i};function M4(n){const e=O4(),{reducer:t=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:u=void 0}=n||{};let c;if(typeof t=="function")c=t;else if(vT(t))c=oN(t);else throw new Error(mg(1));let f;typeof r=="function"?f=r(e):f=e();let h=dg;i&&(h=x4({trace:!1,...typeof i=="object"&&i}));const g=m4(...f),v=k4(g);let E=typeof u=="function"?u(v):v();const S=h(...E);return _T(c,o,S)}function V4(n){const e={},t=[];let r;const i={addCase(o,u){const c=typeof o=="string"?o:o.type;if(!c)throw new Error(mg(28));if(c in e)throw new Error(mg(29));return e[c]=u,i},addMatcher(o,u){return t.push({matcher:o,reducer:u}),i},addDefaultCase(o){return r=o,i}};return n(i),[e,t,r]}function L4(n){return typeof n=="function"}function yN(n,e){let[t,r,i]=V4(e),o;if(L4(n))o=()=>_R(n());else{const c=_R(n);o=()=>c}function u(c=o(),f){let h=[t[f.type],...r.filter(({matcher:g})=>g(f)).map(({reducer:g})=>g)];return h.filter(g=>!!g).length===0&&(h=[i]),h.reduce((g,v)=>{if(v)if(Sl(g)){const S=v(g,f);return S===void 0?g:S}else{if(Os(g))return pN(g,E=>v(E,f));{const E=v(g,f);if(E===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return E}}return g},c)}return u.getInitialState=o,u}function mg(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var TT=(n=>(n.SET_USER="SET_USER",n.SET_USER_MODAL_MESSAGE="SET_USER_MODAL_MESSAGE",n))(TT||{});const gg=Ar(TT.SET_USER),Qr=Ar(TT.SET_USER_MODAL_MESSAGE),j4="_customForm_10cnw_3",U4="_cardContainer_10cnw_6",B4="_itemName_10cnw_14",F4="_quantity_10cnw_20",z4="_textArea_10cnw_21",$4="_dropDownFull_10cnw_24",q4="_dropDownMenu_10cnw_27",H4="_dropDownMenuUnit_10cnw_28",G4="_dropDownCategoryUnit_10cnw_37",K4="_categoryItem_10cnw_44",W4="_dropDownUnitItem_10cnw_47",Q4="_itemNameText_10cnw_1",Y4="_quantityText_10cnw_1",X4="_textInputArea_10cnw_1",Z4="_saveButton_10cnw_59",yn={customForm:j4,cardContainer:U4,itemName:B4,quantity:F4,textArea:z4,dropDownFull:$4,dropDownMenu:q4,dropDownMenuUnit:H4,dropDownCategoryUnit:G4,categoryItem:K4,dropDownUnitItem:W4,itemNameText:Q4,quantityText:Y4,textInputArea:X4,saveButton:Z4},po=n=>({userAuth:n.userReducer.user,userError:n.userReducer.error,lists:n.listReducer.lists,listItemsOnline:n.listReducer.listItemsOnline,listItemsForOfflineMode:n.listReducer.listItemsForOfflineMode,selectedList:n.listReducer.selectedList,selectedItemObject:n.listReducer.selectedItemObject,sortType:n.listReducer.sortType});var ei=(n=>(n.FETCH_USER_LISTS="FETCH_USER_LISTS",n.FETCH_LIST_ITEMS="FETCH_LIST_ITEMS",n.CLEAR_STATE="CLEAR_STATE",n.ADD_NEW_LIST_NAME="ADD_NEW_LIST_NAME",n.ADD_NEW_ITEM_IN_LIST="ADD_NEW_ITEM_IN_LIST",n.SELECT_CURRENT_LIST="SELECT_CURRENT_LIST",n.DELETE_LIST="DELETE_LIST",n.DELETE_LIST_ITEM="DELETE_LIST_ITEM",n.SELECT_CURRENT_ITEM_FOR_EDITING="SELECT_CURENT_ITEM_FOR_EDITING",n.EDIT_ITEM="EDIT_ITEM",n.TOGGLE_CHECK_STATUS="TOGGLE_CHECK_STATUS",n.CHANGE_ITEM_QUANTITY="CHANGE_ITEM_QUANTITY",n.TOGGLE_SORT="TOGGLE_SORT",n))(ei||{});const vN=Ar(ei.FETCH_USER_LISTS),_N=Ar(ei.FETCH_LIST_ITEMS),bT=Ar(ei.CLEAR_STATE),EN=Ar(ei.ADD_NEW_LIST_NAME),wN=Ar(ei.DELETE_LIST),TN=Ar(ei.SELECT_CURRENT_LIST),bN=Ar(ei.ADD_NEW_ITEM_IN_LIST,(n,e)=>({payload:{listId:n,item:e}})),SN=Ar(ei.DELETE_LIST_ITEM,(n,e)=>({payload:{listId:n,itemId:e}})),IN=Ar(ei.SELECT_CURRENT_ITEM_FOR_EDITING),ST=Ar(ei.EDIT_ITEM,(n,e)=>({payload:{listId:n,itemId:e.id,item:e}})),AN=Ar(ei.TOGGLE_SORT);var yE={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var wR;function J4(){return wR||(wR=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var u=typeof o;if(u==="string"||u==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var c=t.apply(null,o);c&&r.push(c)}}else if(u==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){r.push(o.toString());continue}for(var f in o)e.call(o,f)&&o[f]&&r.push(f)}}}return r.join(" ")}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(yE)),yE.exports}var e5=J4();const be=Bc(e5),t5=["as","disabled"];function n5(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function r5(n){return!n||n.trim()==="#"}function IT({tagName:n,disabled:e,href:t,target:r,rel:i,role:o,onClick:u,tabIndex:c=0,type:f}){n||(t!=null||r!=null||i!=null?n="a":n="button");const h={tagName:n};if(n==="button")return[{type:f||"button",disabled:e},h];const g=E=>{if((e||n==="a"&&r5(t))&&E.preventDefault(),e){E.stopPropagation();return}u==null||u(E)},v=E=>{E.key===" "&&(E.preventDefault(),g(E))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:c,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?i:void 0,onClick:g,onKeyDown:v},h]}const AT=b.forwardRef((n,e)=>{let{as:t,disabled:r}=n,i=n5(n,t5);const[o,{tagName:u}]=IT(Object.assign({tagName:t,disabled:r},i));return I.jsx(u,Object.assign({},i,o,{ref:e}))});AT.displayName="Button";const i5=["xxl","xl","lg","md","sm","xs"],s5="xs",Ch=b.createContext({prefixes:{},breakpoints:i5,minBreakpoint:s5}),{Consumer:GZ,Provider:KZ}=Ch;function De(n,e){const{prefixes:t}=b.useContext(Ch);return n||t[e]||e}function a5(){const{breakpoints:n}=b.useContext(Ch);return n}function o5(){const{minBreakpoint:n}=b.useContext(Ch);return n}function RN(){const{dir:n}=b.useContext(Ch);return n==="rtl"}const Za=b.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:r,active:i=!1,disabled:o=!1,className:u,...c},f)=>{const h=De(e,"btn"),[g,{tagName:v}]=IT({tagName:n,disabled:o,...c}),E=v;return I.jsx(E,{...g,...c,ref:f,disabled:o,className:be(u,h,i&&"active",t&&`${h}-${t}`,r&&`${h}-${r}`,c.href&&o&&"disabled")})});Za.displayName="Button";const RT=b.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=De(e,"card-body"),I.jsx(t,{ref:i,className:be(n,e),...r})));RT.displayName="CardBody";const CN=b.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=De(e,"card-footer"),I.jsx(t,{ref:i,className:be(n,e),...r})));CN.displayName="CardFooter";const CT=b.createContext(null);CT.displayName="CardHeaderContext";const xN=b.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},i)=>{const o=De(n,"card-header"),u=b.useMemo(()=>({cardHeaderBsPrefix:o}),[o]);return I.jsx(CT.Provider,{value:u,children:I.jsx(t,{ref:i,...r,className:be(e,o)})})});xN.displayName="CardHeader";const NN=b.forwardRef(({bsPrefix:n,className:e,variant:t,as:r="img",...i},o)=>{const u=De(n,"card-img");return I.jsx(r,{ref:o,className:be(t?`${u}-${t}`:u,e),...i})});NN.displayName="CardImg";const ON=b.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=De(e,"card-img-overlay"),I.jsx(t,{ref:i,className:be(n,e),...r})));ON.displayName="CardImgOverlay";const DN=b.forwardRef(({className:n,bsPrefix:e,as:t="a",...r},i)=>(e=De(e,"card-link"),I.jsx(t,{ref:i,className:be(n,e),...r})));DN.displayName="CardLink";const ay=n=>b.forwardRef((e,t)=>I.jsx("div",{...e,ref:t,className:be(e.className,n)})),l5=ay("h6"),PN=b.forwardRef(({className:n,bsPrefix:e,as:t=l5,...r},i)=>(e=De(e,"card-subtitle"),I.jsx(t,{ref:i,className:be(n,e),...r})));PN.displayName="CardSubtitle";const kN=b.forwardRef(({className:n,bsPrefix:e,as:t="p",...r},i)=>(e=De(e,"card-text"),I.jsx(t,{ref:i,className:be(n,e),...r})));kN.displayName="CardText";const u5=ay("h5"),MN=b.forwardRef(({className:n,bsPrefix:e,as:t=u5,...r},i)=>(e=De(e,"card-title"),I.jsx(t,{ref:i,className:be(n,e),...r})));MN.displayName="CardTitle";const VN=b.forwardRef(({bsPrefix:n,className:e,bg:t,text:r,border:i,body:o=!1,children:u,as:c="div",...f},h)=>{const g=De(n,"card");return I.jsx(c,{ref:h,...f,className:be(e,g,t&&`bg-${t}`,r&&`text-${r}`,i&&`border-${i}`),children:o?I.jsx(RT,{children:u}):u})});VN.displayName="Card";const TR=Object.assign(VN,{Img:NN,Title:MN,Subtitle:PN,Body:RT,Link:DN,Text:kN,Header:xN,Footer:CN,ImgOverlay:ON});var c5=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ts(n,e){return c5(n.querySelectorAll(e))}const $c=!!(typeof window<"u"&&window.document&&window.document.createElement);var hw=!1,pw=!1;try{var vE={get passive(){return hw=!0},get once(){return pw=hw=!0}};$c&&(window.addEventListener("test",vE,vE),window.removeEventListener("test",vE,!0))}catch{}function xT(n,e,t,r){if(r&&typeof r!="boolean"&&!pw){var i=r.once,o=r.capture,u=t;!pw&&i&&(u=t.__once||function c(f){this.removeEventListener(e,c,o),t.call(this,f)},t.__once=u),n.addEventListener(e,u,hw?r:o)}n.addEventListener(e,t,r)}function d5(n,e,t){const r=b.useRef(n!==void 0),[i,o]=b.useState(e),u=n!==void 0,c=r.current;return r.current=u,!u&&c&&i!==e&&o(e),[u?n:i,b.useCallback((...f)=>{const[h,...g]=f;let v=t==null?void 0:t(h,...g);return o(h),v},[t])]}function LN(n){const e=b.useRef(null);return b.useEffect(()=>{e.current=n}),e.current}function jN(){const[,n]=b.useReducer(e=>e+1,0);return n}function f5(n){const e=b.useRef(n);return b.useEffect(()=>{e.current=n},[n]),e}function Un(n){const e=f5(n);return b.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function h5(n,e,t,r=!1){const i=Un(t);b.useEffect(()=>{const o=typeof n=="function"?n():n;return o.addEventListener(e,i,r),()=>o.removeEventListener(e,i,r)},[n])}const oy=b.createContext(null);function p5(){return b.useState(null)}var bR=Object.prototype.hasOwnProperty;function SR(n,e,t){for(t of n.keys())if(Mf(t,e))return t}function Mf(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&Mf(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=SR(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=SR(e,i),!i)||!Mf(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(bR.call(n,t)&&++r&&!bR.call(e,t)||!(t in e)||!Mf(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function UN(){const n=b.useRef(!0),e=b.useRef(()=>n.current);return b.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function m5(n){const e=UN();return[n[0],b.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}var ar="top",Yr="bottom",Xr="right",or="left",NT="auto",xh=[ar,Yr,Xr,or],cc="start",eh="end",g5="clippingParents",BN="viewport",df="popper",y5="reference",IR=xh.reduce(function(n,e){return n.concat([e+"-"+cc,e+"-"+eh])},[]),FN=[].concat(xh,[NT]).reduce(function(n,e){return n.concat([e,e+"-"+cc,e+"-"+eh])},[]),v5="beforeRead",_5="read",E5="afterRead",w5="beforeMain",T5="main",b5="afterMain",S5="beforeWrite",I5="write",A5="afterWrite",R5=[v5,_5,E5,w5,T5,b5,S5,I5,A5];function Li(n){return n.split("-")[0]}function Sr(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Al(n){var e=Sr(n).Element;return n instanceof e||n instanceof Element}function ji(n){var e=Sr(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function OT(n){if(typeof ShadowRoot>"u")return!1;var e=Sr(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}var vl=Math.max,yg=Math.min,dc=Math.round;function mw(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function zN(){return!/^((?!chrome|android).)*safari/i.test(mw())}function fc(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,o=1;e&&ji(n)&&(i=n.offsetWidth>0&&dc(r.width)/n.offsetWidth||1,o=n.offsetHeight>0&&dc(r.height)/n.offsetHeight||1);var u=Al(n)?Sr(n):window,c=u.visualViewport,f=!zN()&&t,h=(r.left+(f&&c?c.offsetLeft:0))/i,g=(r.top+(f&&c?c.offsetTop:0))/o,v=r.width/i,E=r.height/o;return{width:v,height:E,top:g,right:h+v,bottom:g+E,left:h,x:h,y:g}}function DT(n){var e=fc(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function $N(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&OT(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ja(n){return n?(n.nodeName||"").toLowerCase():null}function Ds(n){return Sr(n).getComputedStyle(n)}function C5(n){return["table","td","th"].indexOf(Ja(n))>=0}function mo(n){return((Al(n)?n.ownerDocument:n.document)||window.document).documentElement}function ly(n){return Ja(n)==="html"?n:n.assignedSlot||n.parentNode||(OT(n)?n.host:null)||mo(n)}function AR(n){return!ji(n)||Ds(n).position==="fixed"?null:n.offsetParent}function x5(n){var e=/firefox/i.test(mw()),t=/Trident/i.test(mw());if(t&&ji(n)){var r=Ds(n);if(r.position==="fixed")return null}var i=ly(n);for(OT(i)&&(i=i.host);ji(i)&&["html","body"].indexOf(Ja(i))<0;){var o=Ds(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Nh(n){for(var e=Sr(n),t=AR(n);t&&C5(t)&&Ds(t).position==="static";)t=AR(t);return t&&(Ja(t)==="html"||Ja(t)==="body"&&Ds(t).position==="static")?e:t||x5(n)||e}function PT(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Vf(n,e,t){return vl(n,yg(e,t))}function N5(n,e,t){var r=Vf(n,e,t);return r>t?t:r}function qN(){return{top:0,right:0,bottom:0,left:0}}function HN(n){return Object.assign({},qN(),n)}function GN(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var O5=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,HN(typeof e!="number"?e:GN(e,xh))};function D5(n){var e,t=n.state,r=n.name,i=n.options,o=t.elements.arrow,u=t.modifiersData.popperOffsets,c=Li(t.placement),f=PT(c),h=[or,Xr].indexOf(c)>=0,g=h?"height":"width";if(!(!o||!u)){var v=O5(i.padding,t),E=DT(o),S=f==="y"?ar:or,A=f==="y"?Yr:Xr,k=t.rects.reference[g]+t.rects.reference[f]-u[f]-t.rects.popper[g],x=u[f]-t.rects.reference[f],U=Nh(o),$=U?f==="y"?U.clientHeight||0:U.clientWidth||0:0,B=k/2-x/2,Q=v[S],H=$-E[g]-v[A],X=$/2-E[g]/2+B,D=Vf(Q,X,H),N=f;t.modifiersData[r]=(e={},e[N]=D,e.centerOffset=D-X,e)}}function P5(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||$N(e.elements.popper,i)&&(e.elements.arrow=i))}const k5={name:"arrow",enabled:!0,phase:"main",fn:D5,effect:P5,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function hc(n){return n.split("-")[1]}var M5={top:"auto",right:"auto",bottom:"auto",left:"auto"};function V5(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:dc(t*i)/i||0,y:dc(r*i)/i||0}}function RR(n){var e,t=n.popper,r=n.popperRect,i=n.placement,o=n.variation,u=n.offsets,c=n.position,f=n.gpuAcceleration,h=n.adaptive,g=n.roundOffsets,v=n.isFixed,E=u.x,S=E===void 0?0:E,A=u.y,k=A===void 0?0:A,x=typeof g=="function"?g({x:S,y:k}):{x:S,y:k};S=x.x,k=x.y;var U=u.hasOwnProperty("x"),$=u.hasOwnProperty("y"),B=or,Q=ar,H=window;if(h){var X=Nh(t),D="clientHeight",N="clientWidth";if(X===Sr(t)&&(X=mo(t),Ds(X).position!=="static"&&c==="absolute"&&(D="scrollHeight",N="scrollWidth")),X=X,i===ar||(i===or||i===Xr)&&o===eh){Q=Yr;var C=v&&X===H&&H.visualViewport?H.visualViewport.height:X[D];k-=C-r.height,k*=f?1:-1}if(i===or||(i===ar||i===Yr)&&o===eh){B=Xr;var P=v&&X===H&&H.visualViewport?H.visualViewport.width:X[N];S-=P-r.width,S*=f?1:-1}}var j=Object.assign({position:c},h&&M5),q=g===!0?V5({x:S,y:k},Sr(t)):{x:S,y:k};if(S=q.x,k=q.y,f){var M;return Object.assign({},j,(M={},M[Q]=$?"0":"",M[B]=U?"0":"",M.transform=(H.devicePixelRatio||1)<=1?"translate("+S+"px, "+k+"px)":"translate3d("+S+"px, "+k+"px, 0)",M))}return Object.assign({},j,(e={},e[Q]=$?k+"px":"",e[B]=U?S+"px":"",e.transform="",e))}function L5(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,o=t.adaptive,u=o===void 0?!0:o,c=t.roundOffsets,f=c===void 0?!0:c,h={placement:Li(e.placement),variation:hc(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,RR(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:u,roundOffsets:f})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,RR(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const j5={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:L5,data:{}};var Sm={passive:!0};function U5(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,o=i===void 0?!0:i,u=r.resize,c=u===void 0?!0:u,f=Sr(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&h.forEach(function(g){g.addEventListener("scroll",t.update,Sm)}),c&&f.addEventListener("resize",t.update,Sm),function(){o&&h.forEach(function(g){g.removeEventListener("scroll",t.update,Sm)}),c&&f.removeEventListener("resize",t.update,Sm)}}const B5={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:U5,data:{}};var F5={left:"right",right:"left",bottom:"top",top:"bottom"};function Hm(n){return n.replace(/left|right|bottom|top/g,function(e){return F5[e]})}var z5={start:"end",end:"start"};function CR(n){return n.replace(/start|end/g,function(e){return z5[e]})}function kT(n){var e=Sr(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function MT(n){return fc(mo(n)).left+kT(n).scrollLeft}function $5(n,e){var t=Sr(n),r=mo(n),i=t.visualViewport,o=r.clientWidth,u=r.clientHeight,c=0,f=0;if(i){o=i.width,u=i.height;var h=zN();(h||!h&&e==="fixed")&&(c=i.offsetLeft,f=i.offsetTop)}return{width:o,height:u,x:c+MT(n),y:f}}function q5(n){var e,t=mo(n),r=kT(n),i=(e=n.ownerDocument)==null?void 0:e.body,o=vl(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),u=vl(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+MT(n),f=-r.scrollTop;return Ds(i||t).direction==="rtl"&&(c+=vl(t.clientWidth,i?i.clientWidth:0)-o),{width:o,height:u,x:c,y:f}}function VT(n){var e=Ds(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function KN(n){return["html","body","#document"].indexOf(Ja(n))>=0?n.ownerDocument.body:ji(n)&&VT(n)?n:KN(ly(n))}function Lf(n,e){var t;e===void 0&&(e=[]);var r=KN(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),o=Sr(r),u=i?[o].concat(o.visualViewport||[],VT(r)?r:[]):r,c=e.concat(u);return i?c:c.concat(Lf(ly(u)))}function gw(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function H5(n,e){var t=fc(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function xR(n,e,t){return e===BN?gw($5(n,t)):Al(e)?H5(e,t):gw(q5(mo(n)))}function G5(n){var e=Lf(ly(n)),t=["absolute","fixed"].indexOf(Ds(n).position)>=0,r=t&&ji(n)?Nh(n):n;return Al(r)?e.filter(function(i){return Al(i)&&$N(i,r)&&Ja(i)!=="body"}):[]}function K5(n,e,t,r){var i=e==="clippingParents"?G5(n):[].concat(e),o=[].concat(i,[t]),u=o[0],c=o.reduce(function(f,h){var g=xR(n,h,r);return f.top=vl(g.top,f.top),f.right=yg(g.right,f.right),f.bottom=yg(g.bottom,f.bottom),f.left=vl(g.left,f.left),f},xR(n,u,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function WN(n){var e=n.reference,t=n.element,r=n.placement,i=r?Li(r):null,o=r?hc(r):null,u=e.x+e.width/2-t.width/2,c=e.y+e.height/2-t.height/2,f;switch(i){case ar:f={x:u,y:e.y-t.height};break;case Yr:f={x:u,y:e.y+e.height};break;case Xr:f={x:e.x+e.width,y:c};break;case or:f={x:e.x-t.width,y:c};break;default:f={x:e.x,y:e.y}}var h=i?PT(i):null;if(h!=null){var g=h==="y"?"height":"width";switch(o){case cc:f[h]=f[h]-(e[g]/2-t[g]/2);break;case eh:f[h]=f[h]+(e[g]/2-t[g]/2);break}}return f}function th(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,o=t.strategy,u=o===void 0?n.strategy:o,c=t.boundary,f=c===void 0?g5:c,h=t.rootBoundary,g=h===void 0?BN:h,v=t.elementContext,E=v===void 0?df:v,S=t.altBoundary,A=S===void 0?!1:S,k=t.padding,x=k===void 0?0:k,U=HN(typeof x!="number"?x:GN(x,xh)),$=E===df?y5:df,B=n.rects.popper,Q=n.elements[A?$:E],H=K5(Al(Q)?Q:Q.contextElement||mo(n.elements.popper),f,g,u),X=fc(n.elements.reference),D=WN({reference:X,element:B,placement:i}),N=gw(Object.assign({},B,D)),C=E===df?N:X,P={top:H.top-C.top+U.top,bottom:C.bottom-H.bottom+U.bottom,left:H.left-C.left+U.left,right:C.right-H.right+U.right},j=n.modifiersData.offset;if(E===df&&j){var q=j[i];Object.keys(P).forEach(function(M){var Me=[Xr,Yr].indexOf(M)>=0?1:-1,xe=[ar,Yr].indexOf(M)>=0?"y":"x";P[M]+=q[xe]*Me})}return P}function W5(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,o=t.rootBoundary,u=t.padding,c=t.flipVariations,f=t.allowedAutoPlacements,h=f===void 0?FN:f,g=hc(r),v=g?c?IR:IR.filter(function(A){return hc(A)===g}):xh,E=v.filter(function(A){return h.indexOf(A)>=0});E.length===0&&(E=v);var S=E.reduce(function(A,k){return A[k]=th(n,{placement:k,boundary:i,rootBoundary:o,padding:u})[Li(k)],A},{});return Object.keys(S).sort(function(A,k){return S[A]-S[k]})}function Q5(n){if(Li(n)===NT)return[];var e=Hm(n);return[CR(n),e,CR(e)]}function Y5(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,o=i===void 0?!0:i,u=t.altAxis,c=u===void 0?!0:u,f=t.fallbackPlacements,h=t.padding,g=t.boundary,v=t.rootBoundary,E=t.altBoundary,S=t.flipVariations,A=S===void 0?!0:S,k=t.allowedAutoPlacements,x=e.options.placement,U=Li(x),$=U===x,B=f||($||!A?[Hm(x)]:Q5(x)),Q=[x].concat(B).reduce(function(Y,ue){return Y.concat(Li(ue)===NT?W5(e,{placement:ue,boundary:g,rootBoundary:v,padding:h,flipVariations:A,allowedAutoPlacements:k}):ue)},[]),H=e.rects.reference,X=e.rects.popper,D=new Map,N=!0,C=Q[0],P=0;P<Q.length;P++){var j=Q[P],q=Li(j),M=hc(j)===cc,Me=[ar,Yr].indexOf(q)>=0,xe=Me?"width":"height",le=th(e,{placement:j,boundary:g,rootBoundary:v,altBoundary:E,padding:h}),ye=Me?M?Xr:or:M?Yr:ar;H[xe]>X[xe]&&(ye=Hm(ye));var me=Hm(ye),Pe=[];if(o&&Pe.push(le[q]<=0),c&&Pe.push(le[ye]<=0,le[me]<=0),Pe.every(function(Y){return Y})){C=j,N=!1;break}D.set(j,Pe)}if(N)for(var F=A?3:1,V=function(ue){var pe=Q.find(function(we){var ve=D.get(we);if(ve)return ve.slice(0,ue).every(function(Ve){return Ve})});if(pe)return C=pe,"break"},K=F;K>0;K--){var z=V(K);if(z==="break")break}e.placement!==C&&(e.modifiersData[r]._skip=!0,e.placement=C,e.reset=!0)}}const X5={name:"flip",enabled:!0,phase:"main",fn:Y5,requiresIfExists:["offset"],data:{_skip:!1}};function NR(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function OR(n){return[ar,Xr,Yr,or].some(function(e){return n[e]>=0})}function Z5(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,u=th(e,{elementContext:"reference"}),c=th(e,{altBoundary:!0}),f=NR(u,r),h=NR(c,i,o),g=OR(f),v=OR(h);e.modifiersData[t]={referenceClippingOffsets:f,popperEscapeOffsets:h,isReferenceHidden:g,hasPopperEscaped:v},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":v})}const J5={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Z5};function eB(n,e,t){var r=Li(n),i=[or,ar].indexOf(r)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,u=o[0],c=o[1];return u=u||0,c=(c||0)*i,[or,Xr].indexOf(r)>=0?{x:c,y:u}:{x:u,y:c}}function tB(n){var e=n.state,t=n.options,r=n.name,i=t.offset,o=i===void 0?[0,0]:i,u=FN.reduce(function(g,v){return g[v]=eB(v,e.rects,o),g},{}),c=u[e.placement],f=c.x,h=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=f,e.modifiersData.popperOffsets.y+=h),e.modifiersData[r]=u}const nB={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:tB};function rB(n){var e=n.state,t=n.name;e.modifiersData[t]=WN({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const iB={name:"popperOffsets",enabled:!0,phase:"read",fn:rB,data:{}};function sB(n){return n==="x"?"y":"x"}function aB(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,o=i===void 0?!0:i,u=t.altAxis,c=u===void 0?!1:u,f=t.boundary,h=t.rootBoundary,g=t.altBoundary,v=t.padding,E=t.tether,S=E===void 0?!0:E,A=t.tetherOffset,k=A===void 0?0:A,x=th(e,{boundary:f,rootBoundary:h,padding:v,altBoundary:g}),U=Li(e.placement),$=hc(e.placement),B=!$,Q=PT(U),H=sB(Q),X=e.modifiersData.popperOffsets,D=e.rects.reference,N=e.rects.popper,C=typeof k=="function"?k(Object.assign({},e.rects,{placement:e.placement})):k,P=typeof C=="number"?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),j=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,q={x:0,y:0};if(X){if(o){var M,Me=Q==="y"?ar:or,xe=Q==="y"?Yr:Xr,le=Q==="y"?"height":"width",ye=X[Q],me=ye+x[Me],Pe=ye-x[xe],F=S?-N[le]/2:0,V=$===cc?D[le]:N[le],K=$===cc?-N[le]:-D[le],z=e.elements.arrow,Y=S&&z?DT(z):{width:0,height:0},ue=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:qN(),pe=ue[Me],we=ue[xe],ve=Vf(0,D[le],Y[le]),Ve=B?D[le]/2-F-ve-pe-P.mainAxis:V-ve-pe-P.mainAxis,ke=B?-D[le]/2+F+ve+we+P.mainAxis:K+ve+we+P.mainAxis,He=e.elements.arrow&&Nh(e.elements.arrow),je=He?Q==="y"?He.clientTop||0:He.clientLeft||0:0,Ge=(M=j==null?void 0:j[Q])!=null?M:0,Be=ye+Ve-Ge-je,ze=ye+ke-Ge,gt=Vf(S?yg(me,Be):me,ye,S?vl(Pe,ze):Pe);X[Q]=gt,q[Q]=gt-ye}if(c){var Xe,Tn=Q==="x"?ar:or,Pn=Q==="x"?Yr:Xr,wt=X[H],bn=H==="y"?"height":"width",en=wt+x[Tn],cr=wt-x[Pn],xt=[ar,or].indexOf(U)!==-1,ti=(Xe=j==null?void 0:j[H])!=null?Xe:0,Ae=xt?en:wt-D[bn]-N[bn]-ti+P.altAxis,nt=xt?wt+D[bn]+N[bn]-ti-P.altAxis:cr,tn=S&&xt?N5(Ae,wt,nt):Vf(S?Ae:en,wt,S?nt:cr);X[H]=tn,q[H]=tn-wt}e.modifiersData[r]=q}}const oB={name:"preventOverflow",enabled:!0,phase:"main",fn:aB,requiresIfExists:["offset"]};function lB(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function uB(n){return n===Sr(n)||!ji(n)?kT(n):lB(n)}function cB(n){var e=n.getBoundingClientRect(),t=dc(e.width)/n.offsetWidth||1,r=dc(e.height)/n.offsetHeight||1;return t!==1||r!==1}function dB(n,e,t){t===void 0&&(t=!1);var r=ji(e),i=ji(e)&&cB(e),o=mo(e),u=fc(n,i,t),c={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(r||!r&&!t)&&((Ja(e)!=="body"||VT(o))&&(c=uB(e)),ji(e)?(f=fc(e,!0),f.x+=e.clientLeft,f.y+=e.clientTop):o&&(f.x=MT(o))),{x:u.left+c.scrollLeft-f.x,y:u.top+c.scrollTop-f.y,width:u.width,height:u.height}}function fB(n){var e=new Map,t=new Set,r=[];n.forEach(function(o){e.set(o.name,o)});function i(o){t.add(o.name);var u=[].concat(o.requires||[],o.requiresIfExists||[]);u.forEach(function(c){if(!t.has(c)){var f=e.get(c);f&&i(f)}}),r.push(o)}return n.forEach(function(o){t.has(o.name)||i(o)}),r}function hB(n){var e=fB(n);return R5.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function pB(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function mB(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var DR={placement:"bottom",modifiers:[],strategy:"absolute"};function PR(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function gB(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,o=i===void 0?DR:i;return function(c,f,h){h===void 0&&(h=o);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},DR,o),modifiersData:{},elements:{reference:c,popper:f},attributes:{},styles:{}},v=[],E=!1,S={state:g,setOptions:function(U){var $=typeof U=="function"?U(g.options):U;k(),g.options=Object.assign({},o,g.options,$),g.scrollParents={reference:Al(c)?Lf(c):c.contextElement?Lf(c.contextElement):[],popper:Lf(f)};var B=hB(mB([].concat(r,g.options.modifiers)));return g.orderedModifiers=B.filter(function(Q){return Q.enabled}),A(),S.update()},forceUpdate:function(){if(!E){var U=g.elements,$=U.reference,B=U.popper;if(PR($,B)){g.rects={reference:dB($,Nh(B),g.options.strategy==="fixed"),popper:DT(B)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(P){return g.modifiersData[P.name]=Object.assign({},P.data)});for(var Q=0;Q<g.orderedModifiers.length;Q++){if(g.reset===!0){g.reset=!1,Q=-1;continue}var H=g.orderedModifiers[Q],X=H.fn,D=H.options,N=D===void 0?{}:D,C=H.name;typeof X=="function"&&(g=X({state:g,options:N,name:C,instance:S})||g)}}}},update:pB(function(){return new Promise(function(x){S.forceUpdate(),x(g)})}),destroy:function(){k(),E=!0}};if(!PR(c,f))return S;S.setOptions(h).then(function(x){!E&&h.onFirstUpdate&&h.onFirstUpdate(x)});function A(){g.orderedModifiers.forEach(function(x){var U=x.name,$=x.options,B=$===void 0?{}:$,Q=x.effect;if(typeof Q=="function"){var H=Q({state:g,name:U,instance:S,options:B}),X=function(){};v.push(H||X)}})}function k(){v.forEach(function(x){return x()}),v=[]}return S}}const yB=gB({defaultModifiers:[J5,iB,j5,B5,nB,X5,oB,k5]}),vB=["enabled","placement","strategy","modifiers"];function _B(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const EB={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},wB={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:n})=>()=>{const{reference:e,popper:t}=n.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==t.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:n})=>{var e;const{popper:t,reference:r}=n.elements,i=(e=t.getAttribute("role"))==null?void 0:e.toLowerCase();if(t.id&&i==="tooltip"&&"setAttribute"in r){const o=r.getAttribute("aria-describedby");if(o&&o.split(",").indexOf(t.id)!==-1)return;r.setAttribute("aria-describedby",o?`${o},${t.id}`:t.id)}}},TB=[];function bB(n,e,t={}){let{enabled:r=!0,placement:i="bottom",strategy:o="absolute",modifiers:u=TB}=t,c=_B(t,vB);const f=b.useRef(u),h=b.useRef(),g=b.useCallback(()=>{var x;(x=h.current)==null||x.update()},[]),v=b.useCallback(()=>{var x;(x=h.current)==null||x.forceUpdate()},[]),[E,S]=m5(b.useState({placement:i,update:g,forceUpdate:v,attributes:{},styles:{popper:{},arrow:{}}})),A=b.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:x})=>{const U={},$={};Object.keys(x.elements).forEach(B=>{U[B]=x.styles[B],$[B]=x.attributes[B]}),S({state:x,styles:U,attributes:$,update:g,forceUpdate:v,placement:x.placement})}}),[g,v,S]),k=b.useMemo(()=>(Mf(f.current,u)||(f.current=u),f.current),[u]);return b.useEffect(()=>{!h.current||!r||h.current.setOptions({placement:i,strategy:o,modifiers:[...k,A,EB]})},[o,i,A,r,k]),b.useEffect(()=>{if(!(!r||n==null||e==null))return h.current=yB(n,e,Object.assign({},c,{placement:i,strategy:o,modifiers:[...k,wB,A]})),()=>{h.current!=null&&(h.current.destroy(),h.current=void 0,S(x=>Object.assign({},x,{attributes:{},styles:{popper:{}}})))}},[r,n,e]),E}function vg(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}function yw(n,e,t,r){var i=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,i),t.__once&&n.removeEventListener(e,t.__once,i)}function za(n,e,t,r){return xT(n,e,t,r),function(){yw(n,e,t,r)}}function Oh(n){return n&&n.ownerDocument||document}var _E,kR;function SB(){if(kR)return _E;kR=1;var n=function(){};return _E=n,_E}var IB=SB();const AB=Bc(IB),MR=()=>{};function RB(n){return n.button===0}function CB(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}const EE=n=>n&&("current"in n?n.current:n),VR={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function xB(n,e=MR,{disabled:t,clickTrigger:r="click"}={}){const i=b.useRef(!1),o=b.useRef(!1),u=b.useCallback(h=>{const g=EE(n);AB(!!g,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!g||CB(h)||!RB(h)||!!vg(g,h.target)||o.current,o.current=!1},[n]),c=Un(h=>{const g=EE(n);g&&vg(g,h.target)?o.current=!0:o.current=!1}),f=Un(h=>{i.current||e(h)});b.useEffect(()=>{var h,g;if(t||n==null)return;const v=Oh(EE(n)),E=v.defaultView||window;let S=(h=E.event)!=null?h:(g=E.parent)==null?void 0:g.event,A=null;VR[r]&&(A=za(v,VR[r],c,!0));const k=za(v,r,u,!0),x=za(v,r,$=>{if($===S){S=void 0;return}f($)});let U=[];return"ontouchstart"in v.documentElement&&(U=[].slice.call(v.body.children).map($=>za($,"mousemove",MR))),()=>{A==null||A(),k(),x(),U.forEach($=>$())}},[n,t,r,u,c,f])}function NB(n){const e={};return Array.isArray(n)?(n==null||n.forEach(t=>{e[t.name]=t}),e):n||e}function OB(n={}){return Array.isArray(n)?n:Object.keys(n).map(e=>(n[e].name=e,n[e]))}function DB({enabled:n,enableEvents:e,placement:t,flip:r,offset:i,fixed:o,containerPadding:u,arrowElement:c,popperConfig:f={}}){var h,g,v,E,S;const A=NB(f.modifiers);return Object.assign({},f,{placement:t,enabled:n,strategy:o?"fixed":f.strategy,modifiers:OB(Object.assign({},A,{eventListeners:{enabled:e,options:(h=A.eventListeners)==null?void 0:h.options},preventOverflow:Object.assign({},A.preventOverflow,{options:u?Object.assign({padding:u},(g=A.preventOverflow)==null?void 0:g.options):(v=A.preventOverflow)==null?void 0:v.options}),offset:{options:Object.assign({offset:i},(E=A.offset)==null?void 0:E.options)},arrow:Object.assign({},A.arrow,{enabled:!!c,options:Object.assign({},(S=A.arrow)==null?void 0:S.options,{element:c})}),flip:Object.assign({enabled:!!r},A.flip)}))})}const PB=["children","usePopper"];function kB(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const MB=()=>{};function QN(n={}){const e=b.useContext(oy),[t,r]=p5(),i=b.useRef(!1),{flip:o,offset:u,rootCloseEvent:c,fixed:f=!1,placement:h,popperConfig:g={},enableEventListeners:v=!0,usePopper:E=!!e}=n,S=(e==null?void 0:e.show)==null?!!n.show:e.show;S&&!i.current&&(i.current=!0);const A=X=>{e==null||e.toggle(!1,X)},{placement:k,setMenu:x,menuElement:U,toggleElement:$}=e||{},B=bB($,U,DB({placement:h||k||"bottom-start",enabled:E,enableEvents:v??S,offset:u,flip:o,fixed:f,arrowElement:t,popperConfig:g})),Q=Object.assign({ref:x||MB,"aria-labelledby":$==null?void 0:$.id},B.attributes.popper,{style:B.styles.popper}),H={show:S,placement:k,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:E?B:null,arrowProps:E?Object.assign({ref:r},B.attributes.arrow,{style:B.styles.arrow}):{}};return xB(U,A,{clickTrigger:c,disabled:!S}),[Q,H]}function YN(n){let{children:e,usePopper:t=!0}=n,r=kB(n,PB);const[i,o]=QN(Object.assign({},r,{usePopper:t}));return I.jsx(I.Fragment,{children:e(i,o)})}YN.displayName="DropdownMenu";const LT={prefix:String(Math.round(Math.random()*1e10)),current:0},XN=Rt.createContext(LT),VB=Rt.createContext(!1);let LB=!!(typeof window<"u"&&window.document&&window.document.createElement),wE=new WeakMap;function jB(n=!1){let e=b.useContext(XN),t=b.useRef(null);if(t.current===null&&!n){var r,i;let o=(i=Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(o){let u=wE.get(o);u==null?wE.set(o,{id:e.current,state:o.memoizedState}):o.memoizedState!==u.state&&(e.current=u.id,wE.delete(o))}t.current=++e.current}return t.current}function UB(n){let e=b.useContext(XN);e===LT&&!LB&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let t=jB(!!n),r=`react-aria${e.prefix}`;return n||`${r}-${t}`}function BB(n){let e=Rt.useId(),[t]=b.useState(HB()),r=t?"react-aria":`react-aria${LT.prefix}`;return n||`${r}-${e}`}const FB=typeof Rt.useId=="function"?BB:UB;function zB(){return!1}function $B(){return!0}function qB(n){return()=>{}}function HB(){return typeof Rt.useSyncExternalStore=="function"?Rt.useSyncExternalStore(qB,zB,$B):b.useContext(VB)}const ZN=n=>{var e;return((e=n.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},LR=()=>{};function JN(){const n=FB(),{show:e=!1,toggle:t=LR,setToggle:r,menuElement:i}=b.useContext(oy)||{},o=b.useCallback(c=>{t(!e,c)},[e,t]),u={id:n,ref:r||LR,onClick:o,"aria-expanded":!!e};return i&&ZN(i)&&(u["aria-haspopup"]=!0),[u,{show:e,toggle:t}]}function eO({children:n}){const[e,t]=JN();return I.jsx(I.Fragment,{children:n(e,t)})}eO.displayName="DropdownToggle";const Rl=b.createContext(null),nh=(n,e=null)=>n!=null?String(n):e||null,uy=b.createContext(null);uy.displayName="NavContext";const GB="data-rr-ui-",KB="rrUi";function qc(n){return`${GB}${n}`}function WB(n){return`${KB}${n}`}const QB=["eventKey","disabled","onClick","active","as"];function YB(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function tO({key:n,href:e,active:t,disabled:r,onClick:i}){const o=b.useContext(Rl),u=b.useContext(uy),{activeKey:c}=u||{},f=nh(n,e),h=t==null&&n!=null?nh(c)===f:t;return[{onClick:Un(v=>{r||(i==null||i(v),o&&!v.isPropagationStopped()&&o(f,v))}),"aria-disabled":r||void 0,"aria-selected":h,[qc("dropdown-item")]:""},{isActive:h}]}const nO=b.forwardRef((n,e)=>{let{eventKey:t,disabled:r,onClick:i,active:o,as:u=AT}=n,c=YB(n,QB);const[f]=tO({key:t,href:c.href,disabled:r,onClick:i,active:o});return I.jsx(u,Object.assign({},c,{ref:e},f))});nO.displayName="DropdownItem";const rO=b.createContext($c?window:void 0);rO.Provider;function cy(){return b.useContext(rO)}function jR(){const n=jN(),e=b.useRef(null),t=b.useCallback(r=>{e.current=r,n()},[n]);return[e,t]}function Dh({defaultShow:n,show:e,onSelect:t,onToggle:r,itemSelector:i=`* [${qc("dropdown-item")}]`,focusFirstItemOnShow:o,placement:u="bottom-start",children:c}){const f=cy(),[h,g]=d5(e,n,r),[v,E]=jR(),S=v.current,[A,k]=jR(),x=A.current,U=LN(h),$=b.useRef(null),B=b.useRef(!1),Q=b.useContext(Rl),H=b.useCallback((j,q,M=q==null?void 0:q.type)=>{g(j,{originalEvent:q,source:M})},[g]),X=Un((j,q)=>{t==null||t(j,q),H(!1,q,"select"),q.isPropagationStopped()||Q==null||Q(j,q)}),D=b.useMemo(()=>({toggle:H,placement:u,show:h,menuElement:S,toggleElement:x,setMenu:E,setToggle:k}),[H,u,h,S,x,E,k]);S&&U&&!h&&(B.current=S.contains(S.ownerDocument.activeElement));const N=Un(()=>{x&&x.focus&&x.focus()}),C=Un(()=>{const j=$.current;let q=o;if(q==null&&(q=v.current&&ZN(v.current)?"keyboard":!1),q===!1||q==="keyboard"&&!/^key.+$/.test(j))return;const M=Ts(v.current,i)[0];M&&M.focus&&M.focus()});b.useEffect(()=>{h?C():B.current&&(B.current=!1,N())},[h,B,N,C]),b.useEffect(()=>{$.current=null});const P=(j,q)=>{if(!v.current)return null;const M=Ts(v.current,i);let Me=M.indexOf(j)+q;return Me=Math.max(0,Math.min(Me,M.length)),M[Me]};return h5(b.useCallback(()=>f.document,[f]),"keydown",j=>{var q,M;const{key:Me}=j,xe=j.target,le=(q=v.current)==null?void 0:q.contains(xe),ye=(M=A.current)==null?void 0:M.contains(xe);if(/input|textarea/i.test(xe.tagName)&&(Me===" "||Me!=="Escape"&&le||Me==="Escape"&&xe.type==="search")||!le&&!ye||Me==="Tab"&&(!v.current||!h))return;$.current=j.type;const Pe={originalEvent:j,source:j.type};switch(Me){case"ArrowUp":{const F=P(xe,-1);F&&F.focus&&F.focus(),j.preventDefault();return}case"ArrowDown":if(j.preventDefault(),!h)g(!0,Pe);else{const F=P(xe,1);F&&F.focus&&F.focus()}return;case"Tab":xT(xe.ownerDocument,"keyup",F=>{var V;(F.key==="Tab"&&!F.target||!((V=v.current)!=null&&V.contains(F.target)))&&g(!1,Pe)},{once:!0});break;case"Escape":Me==="Escape"&&(j.preventDefault(),j.stopPropagation()),g(!1,Pe);break}}),I.jsx(Rl.Provider,{value:X,children:I.jsx(oy.Provider,{value:D,children:c})})}Dh.displayName="Dropdown";Dh.Menu=YN;Dh.Toggle=eO;Dh.Item=nO;function vw(){return vw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vw.apply(null,arguments)}function iO(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function UR(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function XB(n){var e=ZB(n,"string");return typeof e=="symbol"?e:String(e)}function ZB(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function JB(n,e,t){var r=b.useRef(n!==void 0),i=b.useState(e),o=i[0],u=i[1],c=n!==void 0,f=r.current;return r.current=c,!c&&f&&o!==e&&u(e),[c?n:o,b.useCallback(function(h){for(var g=arguments.length,v=new Array(g>1?g-1:0),E=1;E<g;E++)v[E-1]=arguments[E];t&&t.apply(void 0,[h].concat(v)),u(h)},[t])]}function jT(n,e){return Object.keys(e).reduce(function(t,r){var i,o=t,u=o[UR(r)],c=o[r],f=iO(o,[UR(r),r].map(XB)),h=e[r],g=JB(c,u,n[h]),v=g[0],E=g[1];return vw({},f,(i={},i[r]=v,i[h]=E,i))},n)}function _w(n,e){return _w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},_w(n,e)}function eF(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,_w(n,e)}function tF(n){const e=b.useRef(n);return b.useEffect(()=>{e.current=n},[n]),e}function eo(n){const e=tF(n);return b.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const UT=b.createContext({});UT.displayName="DropdownContext";const sO=b.forwardRef(({className:n,bsPrefix:e,as:t="hr",role:r="separator",...i},o)=>(e=De(e,"dropdown-divider"),I.jsx(t,{ref:o,className:be(n,e),role:r,...i})));sO.displayName="DropdownDivider";const aO=b.forwardRef(({className:n,bsPrefix:e,as:t="div",role:r="heading",...i},o)=>(e=De(e,"dropdown-header"),I.jsx(t,{ref:o,className:be(n,e),role:r,...i})));aO.displayName="DropdownHeader";const nF=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",rF=typeof document<"u",BR=rF||nF?b.useLayoutEffect:b.useEffect,iF=["onKeyDown"];function sF(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function aF(n){return!n||n.trim()==="#"}const BT=b.forwardRef((n,e)=>{let{onKeyDown:t}=n,r=sF(n,iF);const[i]=IT(Object.assign({tagName:"a"},r)),o=Un(u=>{i.onKeyDown(u),t==null||t(u)});return aF(r.href)||r.role==="button"?I.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:o})):I.jsx("a",Object.assign({ref:e},r,{onKeyDown:t}))});BT.displayName="Anchor";const oO=b.forwardRef(({bsPrefix:n,className:e,eventKey:t,disabled:r=!1,onClick:i,active:o,as:u=BT,...c},f)=>{const h=De(n,"dropdown-item"),[g,v]=tO({key:t,href:c.href,disabled:r,onClick:i,active:o});return I.jsx(u,{...c,...g,ref:f,className:be(e,h,v.isActive&&"active",r&&"disabled")})});oO.displayName="DropdownItem";const lO=b.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},i)=>(e=De(e,"dropdown-item-text"),I.jsx(t,{ref:i,className:be(n,e),...r})));lO.displayName="DropdownItemText";const oF=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",lF=typeof document<"u",uO=lF||oF?b.useLayoutEffect:b.useEffect,FR=n=>!n||typeof n=="function"?n:e=>{n.current=e};function uF(n,e){const t=FR(n),r=FR(e);return i=>{t&&t(i),r&&r(i)}}function dy(n,e){return b.useMemo(()=>uF(n,e),[n,e])}const fy=b.createContext(null);fy.displayName="InputGroupContext";const ql=b.createContext(null);ql.displayName="NavbarContext";function cO(n,e){return n}var TE={exports:{}},bE,zR;function cF(){if(zR)return bE;zR=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return bE=n,bE}var SE,$R;function dF(){if($R)return SE;$R=1;var n=cF();function e(){}function t(){}return t.resetWarningCache=e,SE=function(){function r(u,c,f,h,g,v){if(v!==n){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},SE}var qR;function fF(){return qR||(qR=1,TE.exports=dF()()),TE.exports}var hF=fF();const Cs=Bc(hF);function dO(n,e,t){const r=t?"top-end":"top-start",i=t?"top-start":"top-end",o=t?"bottom-end":"bottom-start",u=t?"bottom-start":"bottom-end",c=t?"right-start":"left-start",f=t?"right-end":"left-end",h=t?"left-start":"right-start",g=t?"left-end":"right-end";let v=n?u:o;return e==="up"?v=n?i:r:e==="end"?v=n?g:h:e==="start"?v=n?f:c:e==="down-centered"?v="bottom":e==="up-centered"&&(v="top"),v}const fO=b.forwardRef(({bsPrefix:n,className:e,align:t,rootCloseEvent:r,flip:i=!0,show:o,renderOnMount:u,as:c="div",popperConfig:f,variant:h,...g},v)=>{let E=!1;const S=b.useContext(ql),A=De(n,"dropdown-menu"),{align:k,drop:x,isRTL:U}=b.useContext(UT);t=t||k;const $=b.useContext(fy),B=[];if(t)if(typeof t=="object"){const j=Object.keys(t);if(j.length){const q=j[0],M=t[q];E=M==="start",B.push(`${A}-${q}-${M}`)}}else t==="end"&&(E=!0);const Q=dO(E,x,U),[H,{hasShown:X,popper:D,show:N,toggle:C}]=QN({flip:i,rootCloseEvent:r,show:o,usePopper:!S&&B.length===0,offset:[0,2],popperConfig:f,placement:Q});if(H.ref=dy(cO(v),H.ref),uO(()=>{N&&(D==null||D.update())},[N]),!X&&!u&&!$)return null;typeof c!="string"&&(H.show=N,H.close=()=>C==null?void 0:C(!1),H.align=t);let P=g.style;return D!=null&&D.placement&&(P={...g.style,...H.style},g["x-placement"]=D.placement),I.jsx(c,{...g,...H,style:P,...(B.length||S)&&{"data-bs-popper":"static"},className:be(e,A,N&&"show",E&&`${A}-end`,h&&`${A}-${h}`,...B)})});fO.displayName="DropdownMenu";const hO=b.forwardRef(({bsPrefix:n,split:e,className:t,childBsPrefix:r,as:i=Za,...o},u)=>{const c=De(n,"dropdown-toggle"),f=b.useContext(oy);r!==void 0&&(o.bsPrefix=r);const[h]=JN();return h.ref=dy(h.ref,cO(u)),I.jsx(i,{className:be(t,c,e&&`${c}-split`,(f==null?void 0:f.show)&&"show"),...h,...o})});hO.displayName="DropdownToggle";const pO=b.forwardRef((n,e)=>{const{bsPrefix:t,drop:r="down",show:i,className:o,align:u="start",onSelect:c,onToggle:f,focusFirstItemOnShow:h,as:g="div",navbar:v,autoClose:E=!0,...S}=jT(n,{show:"onToggle"}),A=b.useContext(fy),k=De(t,"dropdown"),x=RN(),U=D=>E===!1?D==="click":E==="inside"?D!=="rootClose":E==="outside"?D!=="select":!0,$=eo((D,N)=>{var C;!((C=N.originalEvent)==null||(C=C.target)==null)&&C.classList.contains("dropdown-toggle")&&N.source==="mousedown"||(N.originalEvent.currentTarget===document&&(N.source!=="keydown"||N.originalEvent.key==="Escape")&&(N.source="rootClose"),U(N.source)&&(f==null||f(D,N)))}),Q=dO(u==="end",r,x),H=b.useMemo(()=>({align:u,drop:r,isRTL:x}),[u,r,x]),X={down:k,"down-centered":`${k}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return I.jsx(UT.Provider,{value:H,children:I.jsx(Dh,{placement:Q,show:i,onSelect:c,onToggle:$,focusFirstItemOnShow:h,itemSelector:`.${k}-item:not(.disabled):not(:disabled)`,children:A?S.children:I.jsx(g,{...S,ref:e,className:be(o,i&&"show",X[r])})})})});pO.displayName="Dropdown";const Pa=Object.assign(pO,{Toggle:hO,Menu:fO,Item:oO,ItemText:lO,Divider:sO,Header:aO}),pF={type:Cs.string,tooltip:Cs.bool,as:Cs.elementType},hy=b.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:r=!1,...i},o)=>I.jsx(n,{...i,ref:o,className:be(e,`${t}-${r?"tooltip":"feedback"}`)}));hy.displayName="Feedback";hy.propTypes=pF;const Ps=b.createContext({}),Ph=b.forwardRef(({id:n,bsPrefix:e,className:t,type:r="checkbox",isValid:i=!1,isInvalid:o=!1,as:u="input",...c},f)=>{const{controlId:h}=b.useContext(Ps);return e=De(e,"form-check-input"),I.jsx(u,{...c,ref:f,type:r,id:n||h,className:be(t,e,i&&"is-valid",o&&"is-invalid")})});Ph.displayName="FormCheckInput";const _g=b.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...r},i)=>{const{controlId:o}=b.useContext(Ps);return n=De(n,"form-check-label"),I.jsx("label",{...r,ref:i,htmlFor:t||o,className:be(e,n)})});_g.displayName="FormCheckLabel";function mF(n,e){let t=0;return b.Children.map(n,r=>b.isValidElement(r)?e(r,t++):r)}function gF(n,e){return b.Children.toArray(n).some(t=>b.isValidElement(t)&&t.type===e)}const mO=b.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:r=!1,reverse:i=!1,disabled:o=!1,isValid:u=!1,isInvalid:c=!1,feedbackTooltip:f=!1,feedback:h,feedbackType:g,className:v,style:E,title:S="",type:A="checkbox",label:k,children:x,as:U="input",...$},B)=>{e=De(e,"form-check"),t=De(t,"form-switch");const{controlId:Q}=b.useContext(Ps),H=b.useMemo(()=>({controlId:n||Q}),[Q,n]),X=!x&&k!=null&&k!==!1||gF(x,_g),D=I.jsx(Ph,{...$,type:A==="switch"?"checkbox":A,ref:B,isValid:u,isInvalid:c,disabled:o,as:U});return I.jsx(Ps.Provider,{value:H,children:I.jsx("div",{style:E,className:be(v,X&&e,r&&`${e}-inline`,i&&`${e}-reverse`,A==="switch"&&t),children:x||I.jsxs(I.Fragment,{children:[D,X&&I.jsx(_g,{title:S,children:k}),h&&I.jsx(hy,{type:g,tooltip:f,children:h})]})})})});mO.displayName="FormCheck";const Eg=Object.assign(mO,{Input:Ph,Label:_g}),gO=b.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:r,id:i,className:o,isValid:u=!1,isInvalid:c=!1,plaintext:f,readOnly:h,as:g="input",...v},E)=>{const{controlId:S}=b.useContext(Ps);return n=De(n,"form-control"),I.jsx(g,{...v,type:e,size:r,ref:E,readOnly:h,id:i||S,className:be(o,f?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,u&&"is-valid",c&&"is-invalid")})});gO.displayName="FormControl";const yF=Object.assign(gO,{Feedback:hy}),yO=b.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=De(e,"form-floating"),I.jsx(t,{ref:i,className:be(n,e),...r})));yO.displayName="FormFloating";const FT=b.forwardRef(({controlId:n,as:e="div",...t},r)=>{const i=b.useMemo(()=>({controlId:n}),[n]);return I.jsx(Ps.Provider,{value:i,children:I.jsx(e,{...t,ref:r})})});FT.displayName="FormGroup";function vF({as:n,bsPrefix:e,className:t,...r}){e=De(e,"col");const i=a5(),o=o5(),u=[],c=[];return i.forEach(f=>{const h=r[f];delete r[f];let g,v,E;typeof h=="object"&&h!=null?{span:g,offset:v,order:E}=h:g=h;const S=f!==o?`-${f}`:"";g&&u.push(g===!0?`${e}${S}`:`${e}${S}-${g}`),E!=null&&c.push(`order${S}-${E}`),v!=null&&c.push(`offset${S}-${v}`)}),[{...r,className:be(t,...u,...c)},{as:n,bsPrefix:e,spans:u}]}const vO=b.forwardRef((n,e)=>{const[{className:t,...r},{as:i="div",bsPrefix:o,spans:u}]=vF(n);return I.jsx(i,{...r,ref:e,className:be(t,!u.length&&o)})});vO.displayName="Col";const _O=b.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:r=!1,className:i,htmlFor:o,...u},c)=>{const{controlId:f}=b.useContext(Ps);e=De(e,"form-label");let h="col-form-label";typeof t=="string"&&(h=`${h} ${h}-${t}`);const g=be(i,e,r&&"visually-hidden",t&&h);return o=o||f,t?I.jsx(vO,{ref:c,as:"label",className:g,htmlFor:o,...u}):I.jsx(n,{ref:c,className:g,htmlFor:o,...u})});_O.displayName="FormLabel";const EO=b.forwardRef(({bsPrefix:n,className:e,id:t,...r},i)=>{const{controlId:o}=b.useContext(Ps);return n=De(n,"form-range"),I.jsx("input",{...r,type:"range",ref:i,className:be(e,n),id:t||o})});EO.displayName="FormRange";const wO=b.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:r,isValid:i=!1,isInvalid:o=!1,id:u,...c},f)=>{const{controlId:h}=b.useContext(Ps);return n=De(n,"form-select"),I.jsx("select",{...c,size:t,ref:f,className:be(r,n,e&&`${n}-${e}`,i&&"is-valid",o&&"is-invalid"),id:u||h})});wO.displayName="FormSelect";const TO=b.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:r,...i},o)=>(n=De(n,"form-text"),I.jsx(t,{...i,ref:o,className:be(e,n,r&&"text-muted")})));TO.displayName="FormText";const bO=b.forwardRef((n,e)=>I.jsx(Eg,{...n,ref:e,type:"switch"}));bO.displayName="Switch";const _F=Object.assign(bO,{Input:Eg.Input,Label:Eg.Label}),SO=b.forwardRef(({bsPrefix:n,className:e,children:t,controlId:r,label:i,...o},u)=>(n=De(n,"form-floating"),I.jsxs(FT,{ref:u,className:be(e,n),controlId:r,...o,children:[t,I.jsx("label",{htmlFor:r,children:i})]})));SO.displayName="FloatingLabel";const EF={_ref:Cs.any,validated:Cs.bool,as:Cs.elementType},zT=b.forwardRef(({className:n,validated:e,as:t="form",...r},i)=>I.jsx(t,{...r,ref:i,className:be(n,e&&"was-validated")}));zT.displayName="Form";zT.propTypes=EF;const Ze=Object.assign(zT,{Group:FT,Control:yF,Floating:yO,Check:Eg,Switch:_F,Label:_O,Text:TO,Range:EO,Select:wO,FloatingLabel:SO}),py=b.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},i)=>(e=De(e,"input-group-text"),I.jsx(t,{ref:i,className:be(n,e),...r})));py.displayName="InputGroupText";const wF=n=>I.jsx(py,{children:I.jsx(Ph,{type:"checkbox",...n})}),TF=n=>I.jsx(py,{children:I.jsx(Ph,{type:"radio",...n})}),IO=b.forwardRef(({bsPrefix:n,size:e,hasValidation:t,className:r,as:i="div",...o},u)=>{n=De(n,"input-group");const c=b.useMemo(()=>({}),[]);return I.jsx(fy.Provider,{value:c,children:I.jsx(i,{ref:u,...o,className:be(r,n,e&&`${n}-${e}`,t&&"has-validation")})})});IO.displayName="InputGroup";const Uu=Object.assign(IO,{Text:py,Radio:TF,Checkbox:wF});var HR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},bF=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],u=n[t++],c=n[t++],f=((i&7)<<18|(o&63)<<12|(u&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|u&63)}}return e.join("")},RO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],u=i+1<n.length,c=u?n[i+1]:0,f=i+2<n.length,h=f?n[i+2]:0,g=o>>2,v=(o&3)<<4|c>>4;let E=(c&15)<<2|h>>6,S=h&63;f||(S=64,u||(E=64)),r.push(t[g],t[v],t[E],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(AO(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):bF(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const h=i<n.length?t[n.charAt(i)]:64;++i;const v=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||h==null||v==null)throw new SF;const E=o<<2|c>>4;if(r.push(E),h!==64){const S=c<<4&240|h>>2;if(r.push(S),v!==64){const A=h<<6&192|v;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class SF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IF=function(n){const e=AO(n);return RO.encodeByteArray(e,!0)},wg=function(n){return IF(n).replace(/\./g,"")},$T=function(n){try{return RO.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Tg(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!AF(t)||(n[t]=Tg(n[t],e[t]));return n}function AF(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF=()=>CO().__FIREBASE_DEFAULTS__,CF=()=>{if(typeof process>"u"||typeof HR>"u")return;const n=HR.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},xF=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&$T(n[1]);return e&&JSON.parse(e)},my=()=>{try{return RF()||CF()||xF()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},NF=n=>{var e,t;return(t=(e=my())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},xO=()=>{var n;return(n=my())===null||n===void 0?void 0:n.config},NO=n=>{var e;return(e=my())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DF(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[wg(JSON.stringify(t)),wg(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}function qT(){var n;const e=(n=my())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kF(){return typeof window<"u"||OO()}function OO(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function MF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HT(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function GT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DO(){const n=Mt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function PO(){return!qT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pc(){try{return typeof indexedDB=="object"}catch{return!1}}function kO(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}function VF(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF="FirebaseError";class On extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=LF,Object.setPrototypeOf(this,On.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$s.prototype.create)}}class $s{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],u=o?jF(o,r):"Error",c=`${this.serviceName}: ${u} (${i}).`;return new On(i,c,r)}}function jF(n,e){return n.replace(UF,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const UF=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function BF(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Cl(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],u=e[i];if(KR(o)&&KR(u)){if(!Cl(o,u))return!1}else if(o!==u)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function KR(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Af(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function MO(n,e){const t=new FF(n,e);return t.subscribe.bind(t)}class FF{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");zF(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=IE),i.error===void 0&&(i.error=IE),i.complete===void 0&&(i.complete=IE);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zF(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function IE(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F=1e3,qF=2,HF=4*60*60*1e3,GF=.5;function WR(n,e=$F,t=qF){const r=e*Math.pow(t,n),i=Math.round(GF*r*(Math.random()-.5)*2);return Math.min(HF,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(n){return n&&n._delegate?n._delegate:n}class ur{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new OF;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QF(e))try{this.getOrInitializeService({instanceIdentifier:il})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=il){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=il){return this.instances.has(e)}getOptions(e=il){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&u.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WF(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=il){return this.component?this.component.multipleInstances?e:il:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WF(n){return n===il?void 0:n}function QF(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new KF(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=[];var Ye;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ye||(Ye={}));const LO={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},YF=Ye.INFO,XF={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},ZF=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=XF[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kh{constructor(e){this.name=e,this._logLevel=YF,this._logHandler=ZF,this._userLogHandler=null,KT.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}function JF(n){KT.forEach(e=>{e.setLogLevel(n)})}function e3(n,e){for(const t of KT){let r=null;e&&e.level&&(r=LO[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,o,...u)=>{const c=u.map(f=>{if(f==null)return null;if(typeof f=="string")return f;if(typeof f=="number"||typeof f=="boolean")return f.toString();if(f instanceof Error)return f.message;try{return JSON.stringify(f)}catch{return null}}).filter(f=>f).join(" ");o>=(r??i.logLevel)&&n({level:Ye[o].toLowerCase(),message:c,args:u,type:i.name})}}}const t3=(n,e)=>e.some(t=>n instanceof t);let QR,YR;function n3(){return QR||(QR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function r3(){return YR||(YR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jO=new WeakMap,Ew=new WeakMap,UO=new WeakMap,AE=new WeakMap,WT=new WeakMap;function i3(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Ga(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&jO.set(t,n)}).catch(()=>{}),WT.set(e,n),e}function s3(n){if(Ew.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});Ew.set(n,e)}let ww={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ew.get(n);if(e==="objectStoreNames")return n.objectStoreNames||UO.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ga(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function a3(n){ww=n(ww)}function o3(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(RE(this),e,...t);return UO.set(r,e.sort?e.sort():[e]),Ga(r)}:r3().includes(n)?function(...e){return n.apply(RE(this),e),Ga(jO.get(this))}:function(...e){return Ga(n.apply(RE(this),e))}}function l3(n){return typeof n=="function"?o3(n):(n instanceof IDBTransaction&&s3(n),t3(n,n3())?new Proxy(n,ww):n)}function Ga(n){if(n instanceof IDBRequest)return i3(n);if(AE.has(n))return AE.get(n);const e=l3(n);return e!==n&&(AE.set(n,e),WT.set(e,n)),e}const RE=n=>WT.get(n);function BO(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const u=indexedDB.open(n,e),c=Ga(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Ga(u.result),f.oldVersion,f.newVersion,Ga(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),c.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const u3=["get","getKey","getAll","getAllKeys","count"],c3=["put","add","delete","clear"],CE=new Map;function XR(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(CE.get(e))return CE.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=c3.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||u3.includes(t)))return;const o=async function(u,...c){const f=this.transaction(u,i?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[t](...c),i&&f.done]))[0]};return CE.set(e,o),o}a3(n=>({...n,get:(e,t,r)=>XR(e,t)||n.get(e,t,r),has:(e,t)=>!!XR(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(f3(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function f3(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bg="@firebase/app",Tw="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new kh("@firebase/app"),h3="@firebase/app-compat",p3="@firebase/analytics-compat",m3="@firebase/analytics",g3="@firebase/app-check-compat",y3="@firebase/app-check",v3="@firebase/auth",_3="@firebase/auth-compat",E3="@firebase/database",w3="@firebase/data-connect",T3="@firebase/database-compat",b3="@firebase/functions",S3="@firebase/functions-compat",I3="@firebase/installations",A3="@firebase/installations-compat",R3="@firebase/messaging",C3="@firebase/messaging-compat",x3="@firebase/performance",N3="@firebase/performance-compat",O3="@firebase/remote-config",D3="@firebase/remote-config-compat",P3="@firebase/storage",k3="@firebase/storage-compat",M3="@firebase/firestore",V3="@firebase/vertexai",L3="@firebase/firestore-compat",j3="firebase",U3="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="[DEFAULT]",B3={[bg]:"fire-core",[h3]:"fire-core-compat",[m3]:"fire-analytics",[p3]:"fire-analytics-compat",[y3]:"fire-app-check",[g3]:"fire-app-check-compat",[v3]:"fire-auth",[_3]:"fire-auth-compat",[E3]:"fire-rtdb",[w3]:"fire-data-connect",[T3]:"fire-rtdb-compat",[b3]:"fire-fn",[S3]:"fire-fn-compat",[I3]:"fire-iid",[A3]:"fire-iid-compat",[R3]:"fire-fcm",[C3]:"fire-fcm-compat",[x3]:"fire-perf",[N3]:"fire-perf-compat",[O3]:"fire-rc",[D3]:"fire-rc-compat",[P3]:"fire-gcs",[k3]:"fire-gcs-compat",[M3]:"fire-fst",[L3]:"fire-fst-compat",[V3]:"fire-vertex","fire-js":"fire-js",[j3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=new Map,mc=new Map,gc=new Map;function rh(n,e){try{n.container.addComponent(e)}catch(t){ks.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function FO(n,e){n.container.addOrOverwriteComponent(e)}function Zr(n){const e=n.name;if(gc.has(e))return ks.debug(`There were multiple attempts to register component ${e}.`),!1;gc.set(e,n);for(const t of no.values())rh(t,n);for(const t of mc.values())rh(t,n);return!0}function go(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function F3(n,e,t=to){go(n,e).clearInstance(t)}function zO(n){return n.options!==void 0}function St(n){return n==null?!1:n.settings!==void 0}function z3(){gc.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wr=new $s("app","Firebase",$3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $O=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(n,e){const t=$T(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(t).exp*1e3,o=new Date().getTime();i-o<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class q3 extends $O{constructor(e,t,r,i){const o=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!1,u={name:r,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,u,i);else{const c=e;super(c.options,u,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},t),this._serverConfig.authIdToken&&ZR(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&ZR(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Qn(bg,Tw,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){XT(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Wr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=U3;function QT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:to,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Wr.create("bad-app-name",{appName:String(i)});if(t||(t=xO()),!t)throw Wr.create("no-options");const o=no.get(i);if(o){if(Cl(t,o.options)&&Cl(r,o.config))return o;throw Wr.create("duplicate-app",{appName:i})}const u=new VO(i);for(const f of gc.values())u.addComponent(f);const c=new $O(t,r,u);return no.set(i,c),c}function H3(n,e){if(kF()&&!OO())throw Wr.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let t;zO(n)?t=n.options:t=n;const r=Object.assign(Object.assign({},e),t);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=h=>[...h].reduce((g,v)=>Math.imul(31,g)+v.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Wr.create("finalization-registry-not-supported",{});const o=""+i(JSON.stringify(r)),u=mc.get(o);if(u)return u.incRefCount(e.releaseOnDeref),u;const c=new VO(o);for(const h of gc.values())c.addComponent(h);const f=new q3(t,e,o,c);return mc.set(o,f),f}function YT(n=to){const e=no.get(n);if(!e&&n===to&&xO())return QT();if(!e)throw Wr.create("no-app",{appName:n});return e}function G3(){return Array.from(no.values())}async function XT(n){let e=!1;const t=n.name;no.has(t)?(e=!0,no.delete(t)):mc.has(t)&&n.decRefCount()<=0&&(mc.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function Qn(n,e,t){var r;let i=(r=B3[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ks.warn(c.join(" "));return}Zr(new ur(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function qO(n,e){if(n!==null&&typeof n!="function")throw Wr.create("invalid-log-argument");e3(n,e)}function HO(n){JF(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3="firebase-heartbeat-database",W3=1,ih="firebase-heartbeat-store";let xE=null;function GO(){return xE||(xE=BO(K3,W3,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ih)}catch(t){console.warn(t)}}}}).catch(n=>{throw Wr.create("idb-open",{originalErrorMessage:n.message})})),xE}async function Q3(n){try{const t=(await GO()).transaction(ih),r=await t.objectStore(ih).get(KO(n));return await t.done,r}catch(e){if(e instanceof On)ks.warn(e.message);else{const t=Wr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ks.warn(t.message)}}}async function JR(n,e){try{const r=(await GO()).transaction(ih,"readwrite");await r.objectStore(ih).put(e,KO(n)),await r.done}catch(t){if(t instanceof On)ks.warn(t.message);else{const r=Wr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ks.warn(r.message)}}}function KO(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3=1024,X3=30;class Z3{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new e6(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=eC();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>X3){const u=t6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ks.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=eC(),{heartbeatsToSend:r,unsentEntries:i}=J3(this._heartbeatsCache.heartbeats),o=wg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ks.warn(t),""}}}function eC(){return new Date().toISOString().substring(0,10)}function J3(n,e=Y3){const t=[];let r=n.slice();for(const i of n){const o=t.find(u=>u.agent===i.agent);if(o){if(o.dates.push(i.date),tC(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),tC(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class e6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pc()?kO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Q3(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return JR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return JR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function tC(n){return wg(JSON.stringify({version:2,heartbeats:n})).length}function t6(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(n){Zr(new ur("platform-logger",e=>new d3(e),"PRIVATE")),Zr(new ur("heartbeat",e=>new Z3(e),"PRIVATE")),Qn(bg,Tw,n),Qn(bg,Tw,"esm2017"),Qn("fire-js","")}n6("");const r6=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:On,SDK_VERSION:yo,_DEFAULT_ENTRY_NAME:to,_addComponent:rh,_addOrOverwriteComponent:FO,_apps:no,_clearComponents:z3,_components:gc,_getProvider:go,_isFirebaseApp:zO,_isFirebaseServerApp:St,_registerComponent:Zr,_removeServiceInstance:F3,_serverApps:mc,deleteApp:XT,getApp:YT,getApps:G3,initializeApp:QT,initializeServerApp:H3,onLog:qO,registerVersion:Qn,setLogLevel:HO},Symbol.toStringTag,{value:"Module"})),WO="@firebase/installations",ZT="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=1e4,YO=`w:${ZT}`,XO="FIS_v2",i6="https://firebaseinstallations.googleapis.com/v1",s6=60*60*1e3,a6="installations",o6="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},xl=new $s(a6,o6,l6);function ZO(n){return n instanceof On&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO({projectId:n}){return`${i6}/projects/${n}/installations`}function eD(n){return{token:n.token,requestStatus:2,expiresIn:c6(n.expiresIn),creationTime:Date.now()}}async function tD(n,e){const r=(await e.json()).error;return xl.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function nD({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function u6(n,{refreshToken:e}){const t=nD(n);return t.append("Authorization",d6(e)),t}async function rD(n){const e=await n();return e.status>=500&&e.status<600?n():e}function c6(n){return Number(n.replace("s","000"))}function d6(n){return`${XO} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f6({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=JO(n),i=nD(n),o=e.getImmediate({optional:!0});if(o){const h=await o.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const u={fid:t,authVersion:XO,appId:n.appId,sdkVersion:YO},c={method:"POST",headers:i,body:JSON.stringify(u)},f=await rD(()=>fetch(r,c));if(f.ok){const h=await f.json();return{fid:h.fid||t,registrationStatus:2,refreshToken:h.refreshToken,authToken:eD(h.authToken)}}else throw await tD("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=/^[cdef][\w-]{21}$/,bw="";function m6(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=g6(n);return p6.test(t)?t:bw}catch{return bw}}function g6(n){return h6(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=new Map;function aD(n,e){const t=gy(n);oD(t,e),y6(t,e)}function oD(n,e){const t=sD.get(n);if(t)for(const r of t)r(e)}function y6(n,e){const t=v6();t&&t.postMessage({key:n,fid:e}),_6()}let hl=null;function v6(){return!hl&&"BroadcastChannel"in self&&(hl=new BroadcastChannel("[Firebase] FID Change"),hl.onmessage=n=>{oD(n.data.key,n.data.fid)}),hl}function _6(){sD.size===0&&hl&&(hl.close(),hl=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6="firebase-installations-database",w6=1,Nl="firebase-installations-store";let NE=null;function JT(){return NE||(NE=BO(E6,w6,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Nl)}}})),NE}async function Sg(n,e){const t=gy(n),i=(await JT()).transaction(Nl,"readwrite"),o=i.objectStore(Nl),u=await o.get(t);return await o.put(e,t),await i.done,(!u||u.fid!==e.fid)&&aD(n,e.fid),e}async function lD(n){const e=gy(n),r=(await JT()).transaction(Nl,"readwrite");await r.objectStore(Nl).delete(e),await r.done}async function yy(n,e){const t=gy(n),i=(await JT()).transaction(Nl,"readwrite"),o=i.objectStore(Nl),u=await o.get(t),c=e(u);return c===void 0?await o.delete(t):await o.put(c,t),await i.done,c&&(!u||u.fid!==c.fid)&&aD(n,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eb(n){let e;const t=await yy(n.appConfig,r=>{const i=T6(r),o=b6(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===bw?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function T6(n){const e=n||{fid:m6(),registrationStatus:0};return uD(e)}function b6(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(xl.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=S6(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:I6(n)}:{installationEntry:e}}async function S6(n,e){try{const t=await f6(n,e);return Sg(n.appConfig,t)}catch(t){throw ZO(t)&&t.customData.serverCode===409?await lD(n.appConfig):await Sg(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function I6(n){let e=await nC(n.appConfig);for(;e.registrationStatus===1;)await iD(100),e=await nC(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await eb(n);return r||t}return e}function nC(n){return yy(n,e=>{if(!e)throw xl.create("installation-not-found");return uD(e)})}function uD(n){return A6(n)?{fid:n.fid,registrationStatus:0}:n}function A6(n){return n.registrationStatus===1&&n.registrationTime+QO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R6({appConfig:n,heartbeatServiceProvider:e},t){const r=C6(n,t),i=u6(n,t),o=e.getImmediate({optional:!0});if(o){const h=await o.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const u={installation:{sdkVersion:YO,appId:n.appId}},c={method:"POST",headers:i,body:JSON.stringify(u)},f=await rD(()=>fetch(r,c));if(f.ok){const h=await f.json();return eD(h)}else throw await tD("Generate Auth Token",f)}function C6(n,{fid:e}){return`${JO(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tb(n,e=!1){let t;const r=await yy(n.appConfig,o=>{if(!cD(o))throw xl.create("not-registered");const u=o.authToken;if(!e&&O6(u))return o;if(u.requestStatus===1)return t=x6(n,e),o;{if(!navigator.onLine)throw xl.create("app-offline");const c=P6(o);return t=N6(n,c),c}});return t?await t:r.authToken}async function x6(n,e){let t=await rC(n.appConfig);for(;t.authToken.requestStatus===1;)await iD(100),t=await rC(n.appConfig);const r=t.authToken;return r.requestStatus===0?tb(n,e):r}function rC(n){return yy(n,e=>{if(!cD(e))throw xl.create("not-registered");const t=e.authToken;return k6(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function N6(n,e){try{const t=await R6(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await Sg(n.appConfig,r),t}catch(t){if(ZO(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await lD(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Sg(n.appConfig,r)}throw t}}function cD(n){return n!==void 0&&n.registrationStatus===2}function O6(n){return n.requestStatus===2&&!D6(n)}function D6(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+s6}function P6(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function k6(n){return n.requestStatus===1&&n.requestTime+QO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M6(n){const e=n,{installationEntry:t,registrationPromise:r}=await eb(e);return r?r.catch(console.error):tb(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V6(n,e=!1){const t=n;return await L6(t),(await tb(t,e)).token}async function L6(n){const{registrationPromise:e}=await eb(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(n){if(!n||!n.options)throw OE("App Configuration");if(!n.name)throw OE("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw OE(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function OE(n){return xl.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="installations",U6="installations-internal",B6=n=>{const e=n.getProvider("app").getImmediate(),t=j6(e),r=go(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},F6=n=>{const e=n.getProvider("app").getImmediate(),t=go(e,dD).getImmediate();return{getId:()=>M6(t),getToken:i=>V6(t,i)}};function z6(){Zr(new ur(dD,B6,"PUBLIC")),Zr(new ur(U6,F6,"PRIVATE"))}z6();Qn(WO,ZT);Qn(WO,ZT,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="analytics",$6="firebase_id",q6="origin",H6=60*1e3,G6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",nb="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=new kh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},wr=new $s("analytics","Analytics",K6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W6(n){if(!n.startsWith(nb)){const e=wr.create("invalid-gtag-resource",{gtagURL:n});return lr.warn(e.message),""}return n}function fD(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Q6(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function Y6(n,e){const t=Q6("firebase-js-sdk-policy",{createScriptURL:W6}),r=document.createElement("script"),i=`${nb}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function X6(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function Z6(n,e,t,r,i,o){const u=r[i];try{if(u)await e[u];else{const f=(await fD(t)).find(h=>h.measurementId===i);f&&await e[f.appId]}}catch(c){lr.error(c)}n("config",i,o)}async function J6(n,e,t,r,i){try{let o=[];if(i&&i.send_to){let u=i.send_to;Array.isArray(u)||(u=[u]);const c=await fD(t);for(const f of u){const h=c.find(v=>v.measurementId===f),g=h&&e[h.appId];if(g)o.push(g);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),n("event",r,i||{})}catch(o){lr.error(o)}}function e9(n,e,t,r){async function i(o,...u){try{if(o==="event"){const[c,f]=u;await J6(n,e,t,c,f)}else if(o==="config"){const[c,f]=u;await Z6(n,e,t,r,c,f)}else if(o==="consent"){const[c,f]=u;n("consent",c,f)}else if(o==="get"){const[c,f,h]=u;n("get",c,f,h)}else if(o==="set"){const[c]=u;n("set",c)}else n(o,...u)}catch(c){lr.error(c)}}return i}function t9(n,e,t,r,i){let o=function(...u){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=e9(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}function n9(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(nb)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9=30,i9=1e3;class s9{constructor(e={},t=i9){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const hD=new s9;function a9(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function o9(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:a9(r)},o=G6.replace("{app-id}",t),u=await fetch(o,i);if(u.status!==200&&u.status!==304){let c="";try{const f=await u.json();!((e=f.error)===null||e===void 0)&&e.message&&(c=f.error.message)}catch{}throw wr.create("config-fetch-failed",{httpStatus:u.status,responseMessage:c})}return u.json()}async function l9(n,e=hD,t){const{appId:r,apiKey:i,measurementId:o}=n.options;if(!r)throw wr.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw wr.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new d9;return setTimeout(async()=>{c.abort()},H6),pD({appId:r,apiKey:i,measurementId:o},u,c,e)}async function pD(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=hD){var o;const{appId:u,measurementId:c}=n;try{await u9(r,e)}catch(f){if(c)return lr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:u,measurementId:c};throw f}try{const f=await o9(n);return i.deleteThrottleMetadata(u),f}catch(f){const h=f;if(!c9(h)){if(i.deleteThrottleMetadata(u),c)return lr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:u,measurementId:c};throw f}const g=Number((o=h==null?void 0:h.customData)===null||o===void 0?void 0:o.httpStatus)===503?WR(t,i.intervalMillis,r9):WR(t,i.intervalMillis),v={throttleEndTimeMillis:Date.now()+g,backoffCount:t+1};return i.setThrottleMetadata(u,v),lr.debug(`Calling attemptFetch again in ${g} millis`),pD(n,v,r,i)}}function u9(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(wr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function c9(n){if(!(n instanceof On)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class d9{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function f9(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{const o=await e,u=Object.assign(Object.assign({},r),{send_to:o});n("event",t,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h9(){if(pc())try{await kO()}catch(n){return lr.warn(wr.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return lr.warn(wr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function p9(n,e,t,r,i,o,u){var c;const f=l9(n);f.then(S=>{t[S.measurementId]=S.appId,n.options.measurementId&&S.measurementId!==n.options.measurementId&&lr.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>lr.error(S)),e.push(f);const h=h9().then(S=>{if(S)return r.getId()}),[g,v]=await Promise.all([f,h]);n9(o)||Y6(o,g.measurementId),i("js",new Date);const E=(c=u==null?void 0:u.config)!==null&&c!==void 0?c:{};return E[q6]="firebase",E.update=!0,v!=null&&(E[$6]=v),i("config",g.measurementId,E),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e){this.app=e}_delete(){return delete jf[this.app.options.appId],Promise.resolve()}}let jf={},iC=[];const sC={};let DE="dataLayer",g9="gtag",aC,mD,oC=!1;function y9(){const n=[];if(HT()&&n.push("This is a browser extension environment."),VF()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=wr.create("invalid-analytics-context",{errorInfo:e});lr.warn(t.message)}}function v9(n,e,t){y9();const r=n.options.appId;if(!r)throw wr.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)lr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw wr.create("no-api-key");if(jf[r]!=null)throw wr.create("already-exists",{id:r});if(!oC){X6(DE);const{wrappedGtag:o,gtagCore:u}=t9(jf,iC,sC,DE,g9);mD=o,aC=u,oC=!0}return jf[r]=p9(n,iC,sC,e,aC,DE,t),new m9(n)}function _9(n=YT()){n=Ne(n);const e=go(n,Ig);return e.isInitialized()?e.getImmediate():E9(n)}function E9(n,e={}){const t=go(n,Ig);if(t.isInitialized()){const i=t.getImmediate();if(Cl(e,t.getOptions()))return i;throw wr.create("already-initialized")}return t.initialize({options:e})}function w9(n,e,t,r){n=Ne(n),f9(mD,jf[n.app.options.appId],e,t,r).catch(i=>lr.error(i))}const lC="@firebase/analytics",uC="0.10.11";function T9(){Zr(new ur(Ig,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return v9(r,i,t)},"PUBLIC")),Zr(new ur("analytics-internal",n,"PRIVATE")),Qn(lC,uC),Qn(lC,uC,"esm2017");function n(e){try{const t=e.getProvider(Ig).getImmediate();return{logEvent:(r,i,o)=>w9(t,r,i,o)}}catch(t){throw wr.create("interop-component-reg-failed",{reason:t})}}}T9();function rb(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}const ff={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Bu={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function gD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const S9=b9,I9=gD,yD=new $s("auth","Firebase",gD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag=new kh("@firebase/auth");function A9(n,...e){Ag.logLevel<=Ye.WARN&&Ag.warn(`Auth (${yo}): ${n}`,...e)}function Gm(n,...e){Ag.logLevel<=Ye.ERROR&&Ag.error(`Auth (${yo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(n,...e){throw sb(n,...e)}function ln(n,...e){return sb(n,...e)}function ib(n,e,t){const r=Object.assign(Object.assign({},I9()),{[e]:t});return new $s("auth","Firebase",r).create(e,{appName:n.name})}function En(n){return ib(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gc(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&wn(n,"argument-error"),ib(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sb(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return yD.create(n,...e)}function he(n,e,...t){if(!n)throw sb(e,...t)}function ki(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Gm(e),new Error(e)}function di(n,e){n||ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function ab(){return cC()==="http:"||cC()==="https:"}function cC(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ab()||HT()||"connection"in navigator)?navigator.onLine:!0}function C9(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,t){this.shortDelay=e,this.longDelay=t,di(t>e,"Short delay should be less than long delay!"),this.isMobile=PF()||GT()}get(){return R9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(n,e){di(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9=new Mh(3e4,6e4);function zt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function $t(n,e,t,r,i={}){return _D(n,i,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const c=Hc(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:f},o);return MF()||(h.referrerPolicy="no-referrer"),vD.fetch()(ED(n,n.config.apiHost,t,c),h)})}async function _D(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},x9),e);try{const i=new D9(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Rf(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const c=o.ok?u.errorMessage:u.error.message,[f,h]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rf(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Rf(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Rf(n,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw ib(n,g,h);wn(n,g)}}catch(i){if(i instanceof On)throw i;wn(n,"network-request-failed",{message:String(i)})}}async function qs(n,e,t,r,i={}){const o=await $t(n,e,t,r,i);return"mfaPendingCredential"in o&&wn(n,"multi-factor-auth-required",{_serverResponse:o}),o}function ED(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?ob(n.config,i):`${n.config.apiScheme}://${i}`}function O9(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class D9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ln(this.auth,"network-request-failed")),N9.get())})}}function Rf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ln(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(n){return n!==void 0&&n.getResponse!==void 0}function fC(n){return n!==void 0&&n.enterprise!==void 0}class wD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return O9(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P9(n){return(await $t(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function TD(n,e){return $t(n,"GET","/v2/recaptchaConfig",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k9(n,e){return $t(n,"POST","/v1/accounts:delete",e)}async function M9(n,e){return $t(n,"POST","/v1/accounts:update",e)}async function bD(n,e){return $t(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function V9(n,e=!1){const t=Ne(n),r=await t.getIdToken(e),i=vy(r);he(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Uf(PE(i.auth_time)),issuedAtTime:Uf(PE(i.iat)),expirationTime:Uf(PE(i.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function PE(n){return Number(n)*1e3}function vy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Gm("JWT malformed, contained fewer than 3 sections"),null;try{const i=$T(t);return i?JSON.parse(i):(Gm("Failed to decode base64 JWT payload"),null)}catch(i){return Gm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function hC(n){const e=vy(n);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ms(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof On&&L9(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function L9({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uf(this.lastLoginAt),this.creationTime=Uf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ah(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Ms(n,bD(t,{idToken:r}));he(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?SD(o.providerUserInfo):[],c=B9(n.providerData,u),f=n.isAnonymous,h=!(n.email&&o.passwordHash)&&!(c!=null&&c.length),g=f?h:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Sw(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function U9(n){const e=Ne(n);await ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function B9(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function SD(n){return n.map(e=>{var{providerId:t}=e,r=rb(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F9(n,e){const t=await _D(n,{},async()=>{const r=Hc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,u=ED(n,i,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",vD.fetch()(u,{method:"POST",headers:c,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function z9(n,e){return $t(n,"POST","/v2/accounts:revokeToken",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){he(e.length!==0,"internal-error");const t=hC(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await F9(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,u=new nc;return r&&(he(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(he(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),o&&(he(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nc,this.toJSON())}_performRefresh(){return ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(n,e){he(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ss{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=rb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new j9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Sw(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ms(this,this.stsTokenManager.getToken(this.auth,e));return he(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return V9(this,e)}reload(){return U9(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ss(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ah(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(St(this.auth.app))return Promise.reject(En(this.auth));const e=await this.getIdToken();return await Ms(this,k9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,u,c,f,h,g;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(i=t.email)!==null&&i!==void 0?i:void 0,S=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,A=(u=t.photoURL)!==null&&u!==void 0?u:void 0,k=(c=t.tenantId)!==null&&c!==void 0?c:void 0,x=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,U=(h=t.createdAt)!==null&&h!==void 0?h:void 0,$=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:B,emailVerified:Q,isAnonymous:H,providerData:X,stsTokenManager:D}=t;he(B&&D,e,"internal-error");const N=nc.fromJSON(this.name,D);he(typeof B=="string",e,"internal-error"),ka(v,e.name),ka(E,e.name),he(typeof Q=="boolean",e,"internal-error"),he(typeof H=="boolean",e,"internal-error"),ka(S,e.name),ka(A,e.name),ka(k,e.name),ka(x,e.name),ka(U,e.name),ka($,e.name);const C=new Ss({uid:B,auth:e,email:E,emailVerified:Q,displayName:v,isAnonymous:H,photoURL:A,phoneNumber:S,tenantId:k,stsTokenManager:N,createdAt:U,lastLoginAt:$});return X&&Array.isArray(X)&&(C.providerData=X.map(P=>Object.assign({},P))),x&&(C._redirectEventId=x),C}static async _fromIdTokenResponse(e,t,r=!1){const i=new nc;i.updateFromServerResponse(t);const o=new Ss({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ah(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];he(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?SD(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),c=new nc;c.updateFromIdToken(r);const f=new Ss({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:u}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Sw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,h),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=new Map;function Er(n){di(n instanceof Function,"Expected a class definition");let e=pC.get(n);return e?(di(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,pC.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ID.type="NONE";const yc=ID;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(n,e,t){return`firebase:${n}:${e}:${t}`}class rc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=_l(this.userKey,i.apiKey,o),this.fullPersistenceKey=_l("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ss._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new rc(Er(yc),e,r);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=i[0]||Er(yc);const u=_l(r,e.config.apiKey,e.name);let c=null;for(const h of t)try{const g=await h._get(u);if(g){const v=Ss._fromJSON(e,g);h!==o&&(c=v),o=h;break}}catch{}const f=i.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new rc(o,e,r):(o=f[0],c&&await o._set(u,c.toJSON()),await Promise.all(t.map(async h=>{if(h!==o)try{await h._remove(u)}catch{}})),new rc(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ND(e))return"Blackberry";if(OD(e))return"Webos";if(RD(e))return"Safari";if((e.includes("chrome/")||CD(e))&&!e.includes("edge/"))return"Chrome";if(Vh(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function AD(n=Mt()){return/firefox\//i.test(n)}function RD(n=Mt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CD(n=Mt()){return/crios\//i.test(n)}function xD(n=Mt()){return/iemobile/i.test(n)}function Vh(n=Mt()){return/android/i.test(n)}function ND(n=Mt()){return/blackberry/i.test(n)}function OD(n=Mt()){return/webos/i.test(n)}function Lh(n=Mt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function $9(n=Mt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function q9(n=Mt()){var e;return Lh(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function H9(){return DO()&&document.documentMode===10}function DD(n=Mt()){return Lh(n)||Vh(n)||OD(n)||ND(n)||/windows phone/i.test(n)||xD(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(n,e=[]){let t;switch(n){case"Browser":t=mC(Mt());break;case"Worker":t=`${mC(Mt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${yo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,c)=>{try{const f=e(o);u(f)}catch(f){c(f)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K9(n,e={}){return $t(n,"GET","/v2/passwordPolicy",zt(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9=6;class Q9{constructor(e){var t,r,i,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:W9,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,u,c;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(c=f.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gC(this),this.idTokenSubscription=new gC(this),this.beforeStateQueue=new G9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Er(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await rc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await bD(this,{idToken:e}),r=await Ss._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(St(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===c)&&(f!=null&&f.user)&&(i=f.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ah(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=C9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(St(this.app))return Promise.reject(En(this));const t=e?Ne(e):null;return t&&he(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return St(this.app)?Promise.reject(En(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return St(this.app)?Promise.reject(En(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Er(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await K9(this),t=new Q9(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $s("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await z9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Er(e)||this._popupRedirectResolver;he(t,this,"argument-error"),this.redirectPersistenceManager=await rc.create(this,[Er(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(c,this,"internal-error"),c.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,i);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(St(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&A9(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Vt(n){return Ne(n)}class gC{constructor(e){this.auth=e,this.observer=null,this.addObserver=MO(t=>this.observer=t)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function X9(n){jh=n}function lb(n){return jh.loadJS(n)}function Z9(){return jh.recaptchaV2Script}function J9(){return jh.recaptchaEnterpriseScript}function ez(){return jh.gapiScript}function kD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tz=500,nz=6e4,Im=1e12;class rz{constructor(e){this.auth=e,this.counter=Im,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new az(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||Im;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;const r=e||Im;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const r=e||Im;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""}}class iz{constructor(){this.enterprise=new sz}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class sz{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class az{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;he(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=oz(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},nz)},tz))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function oz(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const lz="recaptcha-enterprise",Bf="NO_RECAPTCHA";class MD{constructor(e){this.type=lz,this.auth=Vt(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,c)=>{TD(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new wD(f);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,u(h.siteKey)}}).catch(f=>{c(f)})})}function i(o,u,c){const f=window.grecaptcha;fC(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(h=>{u(h)}).catch(()=>{u(Bf)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iz().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(c=>{if(!t&&fC(window.grecaptcha))i(c,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=J9();f.length!==0&&(f+=c),lb(f).then(()=>{i(c,o,u)}).catch(h=>{u(h)})}}).catch(c=>{u(c)})})}}async function hf(n,e,t,r=!1,i=!1){const o=new MD(n);let u;if(i)u=Bf;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:u}):Object.assign(c,{captchaResponse:u}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Ka(n,e,t,r,i){var o,u;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await hf(n,e,t,t==="getOobCode");return r(n,c)}else return r(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await hf(n,e,t,t==="getOobCode");return r(n,f)}else return Promise.reject(c)});else if(i==="PHONE_PROVIDER")if(!((u=n._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("PHONE_PROVIDER")){const c=await hf(n,e,t);return r(n,c).catch(async f=>{var h;if(((h=n._getRecaptchaConfig())===null||h===void 0?void 0:h.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(f.code==="auth/missing-recaptcha-token"||f.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const g=await hf(n,e,t,!1,!0);return r(n,g)}return Promise.reject(f)})}else{const c=await hf(n,e,t,!1,!0);return r(n,c)}else return Promise.reject(i+" provider is not supported.")}async function uz(n){const e=Vt(n),t=await TD(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new wD(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new MD(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cz(n,e){const t=go(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(Cl(o,e??{}))return i;wn(i,"already-initialized")}return t.initialize({options:e})}function dz(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Er);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function VD(n,e,t){const r=Vt(n);he(r._canInitEmulator,r,"emulator-config-failed"),he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),o=LD(e),{host:u,port:c}=fz(e),f=c===null?"":`:${c}`;r.config.emulator={url:`${o}//${u}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||hz()}function LD(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function fz(n){const e=LD(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:yC(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:yC(u)}}}function yC(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function hz(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ki("not implemented")}_getIdTokenResponse(e){return ki("not implemented")}_linkToIdToken(e,t){return ki("not implemented")}_getReauthenticationResolver(e){return ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD(n,e){return $t(n,"POST","/v1/accounts:resetPassword",zt(n,e))}async function pz(n,e){return $t(n,"POST","/v1/accounts:update",e)}async function mz(n,e){return $t(n,"POST","/v1/accounts:signUp",e)}async function gz(n,e){return $t(n,"POST","/v1/accounts:update",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yz(n,e){return qs(n,"POST","/v1/accounts:signInWithPassword",zt(n,e))}async function _y(n,e){return $t(n,"POST","/v1/accounts:sendOobCode",zt(n,e))}async function vz(n,e){return _y(n,e)}async function _z(n,e){return _y(n,e)}async function Ez(n,e){return _y(n,e)}async function wz(n,e){return _y(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tz(n,e){return qs(n,"POST","/v1/accounts:signInWithEmailLink",zt(n,e))}async function bz(n,e){return qs(n,"POST","/v1/accounts:signInWithEmailLink",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh extends Kc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new oh(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new oh(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ka(e,t,"signInWithPassword",yz,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Tz(e,{email:this._email,oobCode:this._password});default:wn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ka(e,r,"signUpPassword",mz,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return bz(e,{idToken:t,email:this._email,oobCode:this._password});default:wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xs(n,e){return qs(n,"POST","/v1/accounts:signInWithIdp",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz="http://localhost";class zi extends Kc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new zi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):wn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=rb(t,["providerId","signInMethod"]);if(!r||!i)return null;const u=new zi(r,i);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return xs(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,xs(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xs(e,t)}buildRequest(){const e={requestUri:Sz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Hc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(n,e){return $t(n,"POST","/v1/accounts:sendVerificationCode",zt(n,e))}async function Iz(n,e){return qs(n,"POST","/v1/accounts:signInWithPhoneNumber",zt(n,e))}async function Az(n,e){const t=await qs(n,"POST","/v1/accounts:signInWithPhoneNumber",zt(n,e));if(t.temporaryProof)throw Rf(n,"account-exists-with-different-credential",t);return t}const Rz={USER_NOT_FOUND:"user-not-found"};async function Cz(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return qs(n,"POST","/v1/accounts:signInWithPhoneNumber",zt(n,t),Rz)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El extends Kc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new El({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new El({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return Iz(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return Az(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return Cz(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return!r&&!t&&!i&&!o?null:new El({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xz(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Nz(n){const e=tc(Af(n)).link,t=e?tc(Af(e)).deep_link_id:null,r=tc(Af(n)).deep_link_id;return(r?tc(Af(r)).link:null)||r||t||e||n}class Ey{constructor(e){var t,r,i,o,u,c;const f=tc(Af(e)),h=(t=f.apiKey)!==null&&t!==void 0?t:null,g=(r=f.oobCode)!==null&&r!==void 0?r:null,v=xz((i=f.mode)!==null&&i!==void 0?i:null);he(h&&g&&v,"argument-error"),this.apiKey=h,this.operation=v,this.code=g,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(c=f.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=Nz(e);try{return new Ey(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.providerId=vo.PROVIDER_ID}static credential(e,t){return oh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Ey.parseLink(t);return he(r,"argument-error"),oh._fromEmailAndCode(e,r.code,r.tenantId)}}vo.PROVIDER_ID="password";vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends Hs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ic extends Wc{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return he("providerId"in t&&"signInMethod"in t,"argument-error"),zi._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return he(e.idToken||e.accessToken,"argument-error"),zi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ic.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ic.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:u,providerId:c}=e;if(!r&&!i&&!t&&!o||!c)return null;try{return new ic(c)._credential({idToken:t,accessToken:r,nonce:u,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Wc{constructor(){super("facebook.com")}static credential(e){return zi._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends Wc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return zi._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ci.credential(t,r)}catch{return null}}}ci.GOOGLE_SIGN_IN_METHOD="google.com";ci.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends Wc{constructor(){super("github.com")}static credential(e){return zi._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Di.credential(e.oauthAccessToken)}catch{return null}}}Di.GITHUB_SIGN_IN_METHOD="github.com";Di.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oz="http://localhost";class vc extends Kc{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return xs(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,xs(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xs(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:o}=t;return!r||!i||!o||r!==i?null:new vc(r,o)}static _create(e,t){return new vc(e,t)}buildRequest(){return{requestUri:Oz,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dz="saml.";class Rg extends Hs{constructor(e){he(e.startsWith(Dz),"argument-error"),super(e)}static credentialFromResult(e){return Rg.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Rg.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=vc.fromJSON(e);return he(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return vc._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Wc{constructor(){super("twitter.com")}static credential(e,t){return zi._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Pi.credential(t,r)}catch{return null}}}Pi.TWITTER_SIGN_IN_METHOD="twitter.com";Pi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(n,e){return qs(n,"POST","/v1/accounts:signUp",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await Ss._fromIdTokenResponse(e,r,i),u=_C(r);return new Jr({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=_C(r);return new Jr({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function _C(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pz(n){var e;if(St(n.app))return Promise.reject(En(n));const t=Vt(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Jr({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await UD(t,{returnSecureToken:!0}),i=await Jr._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg extends On{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Cg.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Cg(e,t,r,i)}}function BD(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Cg._fromErrorAndOperation(n,o,e,r):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kz(n,e){const t=Ne(n);await wy(!0,t,e);const{providerUserInfo:r}=await M9(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=FD(r||[]);return t.providerData=t.providerData.filter(o=>i.has(o.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function ub(n,e,t=!1){const r=await Ms(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Jr._forOperation(n,"link",r)}async function wy(n,e,t){await ah(e);const r=FD(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";he(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD(n,e,t=!1){const{auth:r}=n;if(St(r.app))return Promise.reject(En(r));const i="reauthenticate";try{const o=await Ms(n,BD(r,i,e,n),t);he(o.idToken,r,"internal-error");const u=vy(o.idToken);he(u,r,"internal-error");const{sub:c}=u;return he(n.uid===c,r,"user-mismatch"),Jr._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&wn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D(n,e,t=!1){if(St(n.app))return Promise.reject(En(n));const r="signIn",i=await BD(n,r,e),o=await Jr._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function Ty(n,e){return $D(Vt(n),e)}async function qD(n,e){const t=Ne(n);return await wy(!1,t,e.providerId),ub(t,e)}async function HD(n,e){return zD(Ne(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mz(n,e){return qs(n,"POST","/v1/accounts:signInWithCustomToken",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vz(n,e){if(St(n.app))return Promise.reject(En(n));const t=Vt(n),r=await Mz(t,{token:e,returnSecureToken:!0}),i=await Jr._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?cb._fromServerResponse(e,t):"totpInfo"in t?db._fromServerResponse(e,t):wn(e,"internal-error")}}class cb extends Uh{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new cb(t)}}class db extends Uh{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new db(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(n,e,t){var r;he(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),he(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),he(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(he(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(he(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fb(n){const e=Vt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Lz(n,e,t){const r=Vt(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&by(r,i,t),await Ka(r,i,"getOobCode",_z,"EMAIL_PASSWORD_PROVIDER")}async function jz(n,e,t){await jD(Ne(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fb(n),r})}async function Uz(n,e){await gz(Ne(n),{oobCode:e})}async function GD(n,e){const t=Ne(n),r=await jD(t,{oobCode:e}),i=r.requestType;switch(he(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":he(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":he(r.mfaInfo,t,"internal-error");default:he(r.email,t,"internal-error")}let o=null;return r.mfaInfo&&(o=Uh._fromServerResponse(Vt(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function Bz(n,e){const{data:t}=await GD(Ne(n),e);return t.email}async function KD(n,e,t){if(St(n.app))return Promise.reject(En(n));const r=Vt(n),u=await Ka(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",UD,"EMAIL_PASSWORD_PROVIDER").catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&fb(n),f}),c=await Jr._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(c.user),c}function WD(n,e,t){return St(n.app)?Promise.reject(En(n)):Ty(Ne(n),vo.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fb(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fz(n,e,t){const r=Vt(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(u,c){he(c.handleCodeInApp,r,"argument-error"),c&&by(r,u,c)}o(i,t),await Ka(r,i,"getOobCode",Ez,"EMAIL_PASSWORD_PROVIDER")}function zz(n,e){const t=Ey.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function $z(n,e,t){if(St(n.app))return Promise.reject(En(n));const r=Ne(n),i=vo.credentialWithLink(e,t||sh());return he(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Ty(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qz(n,e){return $t(n,"POST","/v1/accounts:createAuthUri",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hz(n,e){const t=ab()?sh():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await qz(Ne(n),r);return i||[]}async function QD(n,e){const t=Ne(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&by(t.auth,i,e);const{email:o}=await vz(t.auth,i);o!==n.email&&await n.reload()}async function Gz(n,e,t){const r=Ne(n),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&by(r.auth,o,t);const{email:u}=await wz(r.auth,o);u!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kz(n,e){return $t(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wz(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Ne(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Ms(r,Kz(r.auth,o));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const c=r.providerData.find(({providerId:f})=>f==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function Qz(n,e){const t=Ne(n);return St(t.auth.app)?Promise.reject(En(t.auth)):YD(t,e,null)}function Yz(n,e){return YD(Ne(n),null,e)}async function YD(n,e,t){const{auth:r}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);const u=await Ms(n,pz(r,o));await n._updateTokensIfNecessary(u,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xz(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},o=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const u=(t=(e=vy(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(u){const c=u!=="anonymous"&&u!=="custom"?u:null;return new sc(o,c)}}if(!r)return null;switch(r){case"facebook.com":return new Zz(o,i);case"github.com":return new Jz(o,i);case"google.com":return new e$(o,i);case"twitter.com":return new t$(o,i,n.screenName||null);case"custom":case"anonymous":return new sc(o,null);default:return new sc(o,r,i)}}class sc{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class XD extends sc{constructor(e,t,r,i){super(e,t,r),this.username=i}}class Zz extends sc{constructor(e,t){super(e,"facebook.com",t)}}class Jz extends XD{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class e$ extends sc{constructor(e,t){super(e,"google.com",t)}}class t$ extends XD{constructor(e,t,r){super(e,"twitter.com",t,r)}}function n$(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:Xz(t)}function r$(n,e,t,r){return Ne(n).onIdTokenChanged(e,t,r)}function i$(n,e,t){return Ne(n).beforeAuthStateChanged(e,t)}function s$(n){return Ne(n).signOut()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new pl("enroll",e,t)}static _fromMfaPendingCredential(e){return new pl("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return pl._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return pl._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Vt(e),i=t.customData._serverResponse,o=(i.mfaInfo||[]).map(c=>Uh._fromServerResponse(r,c));he(i.mfaPendingCredential,r,"internal-error");const u=pl._fromMfaPendingCredential(i.mfaPendingCredential);return new hb(u,o,async c=>{const f=await c._process(r,u);delete i.mfaInfo,delete i.mfaPendingCredential;const h=Object.assign(Object.assign({},i),{idToken:f.idToken,refreshToken:f.refreshToken});switch(t.operationType){case"signIn":const g=await Jr._fromIdTokenResponse(r,t.operationType,h);return await r._updateCurrentUser(g.user),g;case"reauthenticate":return he(t.user,r,"internal-error"),Jr._forOperation(t.user,t.operationType,h);default:wn(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function a$(n,e){var t;const r=Ne(n),i=e;return he(e.customData.operationType,r,"argument-error"),he((t=i.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),hb._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(n,e){return $t(n,"POST","/v2/accounts/mfaEnrollment:start",zt(n,e))}function o$(n,e){return $t(n,"POST","/v2/accounts/mfaEnrollment:finalize",zt(n,e))}function l$(n,e){return $t(n,"POST","/v2/accounts/mfaEnrollment:withdraw",zt(n,e))}class pb{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>Uh._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new pb(e)}async getSession(){return pl._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),o=await Ms(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Ms(this.user,l$(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const kE=new WeakMap;function u$(n){const e=Ne(n);return kE.has(e)||kE.set(e,pb._fromUser(e)),kE.get(e)}const xg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(xg,"1"),this.storage.removeItem(xg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c$=1e3,d$=10;class JD extends ZD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,c,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);H9()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,d$):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},c$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}JD.type="LOCAL";const Sy=JD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP extends ZD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}eP.type="SESSION";const ro=eP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f$(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Iy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(u).map(async h=>h(t.origin,o)),f=await f$(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Iy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,u;return new Promise((c,f)=>{const h=Bh("",20);i.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(v){const E=v;if(E.data.eventId===h)switch(E.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(E.data.response);break;default:clearTimeout(g),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return window}function p$(n){Jt().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(){return typeof Jt().WorkerGlobalScope<"u"&&typeof Jt().importScripts=="function"}async function m$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function g$(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function y$(){return mb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP="firebaseLocalStorageDb",v$=1,Ng="firebaseLocalStorage",nP="fbase_key";class Fh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ay(n,e){return n.transaction([Ng],e?"readwrite":"readonly").objectStore(Ng)}function _$(){const n=indexedDB.deleteDatabase(tP);return new Fh(n).toPromise()}function Iw(){const n=indexedDB.open(tP,v$);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Ng,{keyPath:nP})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Ng)?e(r):(r.close(),await _$(),e(await Iw()))})})}async function wC(n,e,t){const r=Ay(n,!0).put({[nP]:e,value:t});return new Fh(r).toPromise()}async function E$(n,e){const t=Ay(n,!1).get(e),r=await new Fh(t).toPromise();return r===void 0?null:r.value}function TC(n,e){const t=Ay(n,!0).delete(e);return new Fh(t).toPromise()}const w$=800,T$=3;class rP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Iw(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>T$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Iy._getInstance(y$()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await m$(),!this.activeServiceWorker)return;this.sender=new h$(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||g$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Iw();return await wC(e,xg,"1"),await TC(e,xg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>wC(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>E$(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>TC(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Ay(i,!1).getAll();return new Fh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),w$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rP.type="LOCAL";const _c=rP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(n,e){return $t(n,"POST","/v2/accounts/mfaSignIn:start",zt(n,e))}function b$(n,e){return $t(n,"POST","/v2/accounts/mfaSignIn:finalize",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=kD("rcb"),S$=new Mh(3e4,6e4);class I${constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Jt().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return he(A$(t),e,"argument-error"),this.shouldResolveImmediately(t)&&dC(Jt().grecaptcha)?Promise.resolve(Jt().grecaptcha):new Promise((r,i)=>{const o=Jt().setTimeout(()=>{i(ln(e,"network-request-failed"))},S$.get());Jt()[ME]=()=>{Jt().clearTimeout(o),delete Jt()[ME];const c=Jt().grecaptcha;if(!c||!dC(c)){i(ln(e,"internal-error"));return}const f=c.render;c.render=(h,g)=>{const v=f(h,g);return this.counter++,v},this.hostLanguage=t,r(c)};const u=`${Z9()}?${Hc({onload:ME,render:"explicit",hl:t})}`;lb(u).catch(()=>{clearTimeout(o),i(ln(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=Jt().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function A$(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class R${async load(e){return new rz(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="recaptcha",C$={theme:"light",type:"image"};let x$=class{constructor(e,t,r=Object.assign({},C$)){this.parameters=r,this.type=Ff,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Vt(e),this.isInvisible=this.parameters.size==="invisible",he(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;he(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new R$:new I$,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const o=u=>{u&&(this.tokenChangeListeners.delete(o),i(u))};this.tokenChangeListeners.add(o),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){he(!this.parameters.sitekey,this.auth,"argument-error"),he(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),he(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=Jt()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){he(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){he(ab()&&!mb(),this.auth,"internal-error"),await N$(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await P9(this.auth);he(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return he(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function N$(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=El._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function O$(n,e,t){if(St(n.app))return Promise.reject(En(n));const r=Vt(n),i=await Ry(r,e,Ne(t));return new gb(i,o=>Ty(r,o))}async function D$(n,e,t){const r=Ne(n);await wy(!1,r,"phone");const i=await Ry(r.auth,e,Ne(t));return new gb(i,o=>qD(r,o))}async function P$(n,e,t){const r=Ne(n);if(St(r.auth.app))return Promise.reject(En(r.auth));const i=await Ry(r.auth,e,Ne(t));return new gb(i,o=>HD(r,o))}async function Ry(n,e,t){var r;if(!n._getRecaptchaConfig())try{await uz(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const o=i.session;if("phoneNumber"in i){he(o.type==="enroll",n,"internal-error");const u={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Ka(n,u,"mfaSmsEnrollment",async(g,v)=>{if(v.phoneEnrollmentInfo.captchaResponse===Bf){he((t==null?void 0:t.type)===Ff,g,"argument-error");const E=await VE(g,v,t);return EC(g,E)}return EC(g,v)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneSessionInfo.sessionInfo}else{he(o.type==="signin",n,"internal-error");const u=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;he(u,n,"missing-multi-factor-info");const c={mfaPendingCredential:o.credential,mfaEnrollmentId:u,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Ka(n,c,"mfaSmsSignIn",async(v,E)=>{if(E.phoneSignInInfo.captchaResponse===Bf){he((t==null?void 0:t.type)===Ff,v,"argument-error");const S=await VE(v,E,t);return bC(v,S)}return bC(v,E)},"PHONE_PROVIDER").catch(v=>Promise.reject(v))).phoneResponseInfo.sessionInfo}}else{const o={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Ka(n,o,"sendVerificationCode",async(h,g)=>{if(g.captchaResponse===Bf){he((t==null?void 0:t.type)===Ff,h,"argument-error");const v=await VE(h,g,t);return vC(h,v)}return vC(h,g)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).sessionInfo}}finally{t==null||t._reset()}}async function k$(n,e){const t=Ne(n);if(St(t.auth.app))return Promise.reject(En(t.auth));await ub(t,e)}async function VE(n,e,t){he(t.type===Ff,n,"argument-error");const r=await t.verify();he(typeof r=="string",n,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const o=i.phoneEnrollmentInfo.phoneNumber,u=i.phoneEnrollmentInfo.captchaResponse,c=i.phoneEnrollmentInfo.clientType,f=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:u,clientType:c,recaptchaVersion:f}}),i}else if("phoneSignInInfo"in i){const o=i.phoneSignInInfo.captchaResponse,u=i.phoneSignInInfo.clientType,c=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:u,recaptchaVersion:c}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ol=class Km{constructor(e){this.providerId=Km.PROVIDER_ID,this.auth=Vt(e)}verifyPhoneNumber(e,t){return Ry(this.auth,e,Ne(t))}static credential(e,t){return El._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Km.credentialFromTaggedObject(t)}static credentialFromError(e){return Km.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?El._fromTokenResponse(t,r):null}};Ol.PROVIDER_ID="phone";Ol.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(n,e){return e?Er(e):(he(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb extends Kc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function M$(n){return $D(n.auth,new yb(n),n.bypassAuthState)}function V$(n){const{auth:e,user:t}=n;return he(t,e,"internal-error"),zD(t,new yb(n),n.bypassAuthState)}async function L$(n){const{auth:e,user:t}=n;return he(t,e,"internal-error"),ub(t,new yb(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:u,type:c}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return M$;case"linkViaPopup":case"linkViaRedirect":return L$;case"reauthViaPopup":case"reauthViaRedirect":return V$;default:wn(this.auth,"internal-error")}}resolve(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j$=new Mh(2e3,1e4);async function sP(n,e,t){if(St(n.app))return Promise.reject(ln(n,"operation-not-supported-in-this-environment"));const r=Vt(n);Gc(n,e,Hs);const i=Hl(r,t);return new Is(r,"signInViaPopup",e,i).executeNotNull()}async function U$(n,e,t){const r=Ne(n);if(St(r.auth.app))return Promise.reject(ln(r.auth,"operation-not-supported-in-this-environment"));Gc(r.auth,e,Hs);const i=Hl(r.auth,t);return new Is(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function B$(n,e,t){const r=Ne(n);Gc(r.auth,e,Hs);const i=Hl(r.auth,t);return new Is(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Is extends iP{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Is.currentPopupAction&&Is.currentPopupAction.cancel(),Is.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){di(this.filter.length===1,"Popup operations only handle one event");const e=Bh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Is.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,j$.get())};e()}}Is.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F$="pendingRedirect",zf=new Map;class z$ extends iP{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=zf.get(this.auth._key());if(!e){try{const r=await $$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}zf.set(this.auth._key(),e)}return this.bypassAuthState||zf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $$(n,e){const t=oP(e),r=aP(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function vb(n,e){return aP(n)._set(oP(e),"true")}function q$(){zf.clear()}function _b(n,e){zf.set(n._key(),e)}function aP(n){return Er(n._redirectPersistence)}function oP(n){return _l(F$,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H$(n,e,t){return G$(n,e,t)}async function G$(n,e,t){if(St(n.app))return Promise.reject(En(n));const r=Vt(n);Gc(n,e,Hs),await r._initializationPromise;const i=Hl(r,t);return await vb(i,r),i._openRedirect(r,e,"signInViaRedirect")}function K$(n,e,t){return W$(n,e,t)}async function W$(n,e,t){const r=Ne(n);if(Gc(r.auth,e,Hs),St(r.auth.app))return Promise.reject(En(r.auth));await r.auth._initializationPromise;const i=Hl(r.auth,t);await vb(i,r.auth);const o=await lP(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",o)}function Q$(n,e,t){return Y$(n,e,t)}async function Y$(n,e,t){const r=Ne(n);Gc(r.auth,e,Hs),await r.auth._initializationPromise;const i=Hl(r.auth,t);await wy(!1,r,e.providerId),await vb(i,r.auth);const o=await lP(r);return i._openRedirect(r.auth,e,"linkViaRedirect",o)}async function X$(n,e){return await Vt(n)._initializationPromise,Cy(n,e,!1)}async function Cy(n,e,t=!1){if(St(n.app))return Promise.reject(En(n));const r=Vt(n),i=Hl(r,e),u=await new z$(r,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}async function lP(n){const e=Bh(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z$=10*60*1e3;class uP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!J$(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!cP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ln(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Z$&&this.cachedEventUids.clear(),this.cachedEventUids.has(SC(e))}saveEventToCache(e){this.cachedEventUids.add(SC(e)),this.lastProcessedEventTime=Date.now()}}function SC(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function cP({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function J$(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cP(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dP(n,e={}){return $t(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tq=/^https?/;async function nq(n){if(n.config.emulator)return;const{authorizedDomains:e}=await dP(n);for(const t of e)try{if(rq(t))return}catch{}wn(n,"unauthorized-domain")}function rq(n){const e=sh(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!tq.test(t))return!1;if(eq.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iq=new Mh(3e4,6e4);function IC(){const n=Jt().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function sq(n){return new Promise((e,t)=>{var r,i,o;function u(){IC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{IC(),t(ln(n,"network-request-failed"))},timeout:iq.get()})}if(!((i=(r=Jt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Jt().gapi)===null||o===void 0)&&o.load)u();else{const c=kD("iframefcb");return Jt()[c]=()=>{gapi.load?u():t(ln(n,"network-request-failed"))},lb(`${ez()}?onload=${c}`).catch(f=>t(f))}}).catch(e=>{throw Wm=null,e})}let Wm=null;function aq(n){return Wm=Wm||sq(n),Wm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oq=new Mh(5e3,15e3),lq="__/auth/iframe",uq="emulator/auth/iframe",cq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fq(n){const e=n.config;he(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ob(e,uq):`https://${n.config.authDomain}/${lq}`,r={apiKey:e.apiKey,appName:n.name,v:yo},i=dq.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Hc(r).slice(1)}`}async function hq(n){const e=await aq(n),t=Jt().gapi;return he(t,n,"internal-error"),e.open({where:document.body,url:fq(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cq,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const u=ln(n,"network-request-failed"),c=Jt().setTimeout(()=>{o(u)},oq.get());function f(){Jt().clearTimeout(c),i(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mq=500,gq=600,yq="_blank",vq="http://localhost";class AC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _q(n,e,t,r=mq,i=gq){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f=Object.assign(Object.assign({},pq),{width:r.toString(),height:i.toString(),top:o,left:u}),h=Mt().toLowerCase();t&&(c=CD(h)?yq:t),AD(h)&&(e=e||vq,f.scrollbars="yes");const g=Object.entries(f).reduce((E,[S,A])=>`${E}${S}=${A},`,"");if(q9(h)&&c!=="_self")return Eq(e||"",c),new AC(null);const v=window.open(e||"",c,g);he(v,n,"popup-blocked");try{v.focus()}catch{}return new AC(v)}function Eq(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wq="__/auth/handler",Tq="emulator/auth/handler",bq=encodeURIComponent("fac");async function Aw(n,e,t,r,i,o){he(n.config.authDomain,n,"auth-domain-config-required"),he(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:yo,eventId:i};if(e instanceof Hs){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",BF(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries(o||{}))u[g]=v}if(e instanceof Wc){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const c=u;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const f=await n._getAppCheckToken(),h=f?`#${bq}=${encodeURIComponent(f)}`:"";return`${Sq(n)}?${Hc(c).slice(1)}${h}`}function Sq({config:n}){return n.emulator?ob(n,Tq):`https://${n.authDomain}/${wq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="webStorageSupport";class Iq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ro,this._completeRedirectFn=Cy,this._overrideRedirectResult=_b}async _openPopup(e,t,r,i){var o;di((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await Aw(e,t,r,sh(),i);return _q(e,u,Bh())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await Aw(e,t,r,sh(),i);return p$(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(di(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await hq(e),r=new uP(e);return t.register("authEvent",i=>(he(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(LE,{type:LE},i=>{var o;const u=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[LE];u!==void 0&&t(!!u),wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=nq(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return DD()||RD()||Lh()}}const fP=Iq;class Aq{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return ki("unexpected MultiFactorSessionType")}}}class Eb extends Aq{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Eb(e)}_finalizeEnroll(e,t,r){return o$(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return b$(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class hP{constructor(){}static assertion(e){return Eb._fromCredential(e)}}hP.FACTOR_ID="phone";var RC="@firebase/auth",CC="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cq(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xq(n){Zr(new ur("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:c}=r.options;he(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PD(n)},h=new Y9(r,i,o,f);return dz(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Zr(new ur("auth-internal",e=>{const t=Vt(e.getProvider("auth").getImmediate());return(r=>new Rq(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qn(RC,CC,Cq(n)),Qn(RC,CC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nq=5*60,Oq=NO("authIdTokenMaxAge")||Nq;let xC=null;const Dq=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Oq)return;const i=t==null?void 0:t.token;xC!==i&&(xC=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Pq(n=YT()){const e=go(n,"auth");if(e.isInitialized())return e.getImmediate();const t=cz(n,{popupRedirectResolver:fP,persistence:[_c,Sy,ro]}),r=NO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=Dq(o.toString());i$(t,u,()=>u(t.currentUser)),r$(t,c=>u(c))}}const i=NF("auth");return i&&VD(t,`http://${i}`),t}function kq(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}X9({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=ln("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",kq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xq("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mq{constructor(e,t){this._delegate=e,this.firebase=t,rh(e,new ur("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),XT(this._delegate)))}_getService(e,t=to){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=to){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){rh(this._delegate,e)}_addOrOverwriteComponent(e){FO(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vq={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},NC=new $s("app-compat","Firebase",Vq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lq(n){const e={},t={__esModule:!0,initializeApp:o,app:i,registerVersion:Qn,setLogLevel:HO,onLog:qO,apps:null,SDK_VERSION:yo,INTERNAL:{registerComponent:c,removeApp:r,useAsService:f,modularAPIs:r6}};t.default=t,Object.defineProperty(t,"apps",{get:u});function r(h){delete e[h]}function i(h){if(h=h||to,!GR(e,h))throw NC.create("no-app",{appName:h});return e[h]}i.App=n;function o(h,g={}){const v=QT(h,g);if(GR(e,v.name))return e[v.name];const E=new n(v,t);return e[v.name]=E,E}function u(){return Object.keys(e).map(h=>e[h])}function c(h){const g=h.name,v=g.replace("-compat","");if(Zr(h)&&h.type==="PUBLIC"){const E=(S=i())=>{if(typeof S[v]!="function")throw NC.create("invalid-app-argument",{appName:g});return S[v]()};h.serviceProps!==void 0&&Tg(E,h.serviceProps),t[v]=E,n.prototype[v]=function(...S){return this._getService.bind(this,g).apply(this,h.multipleInstances?S:[])}}return h.type==="PUBLIC"?t[v]:null}function f(h,g){return g==="serverAuth"?null:g}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(){const n=Lq(Mq);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:pP,extendNamespace:e,createSubscribe:MO,ErrorFactory:$s,deepExtend:Tg});function e(t){Tg(n,t)}return n}const jq=pP();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=new kh("@firebase/app-compat"),Uq="@firebase/app-compat",Bq="0.2.50";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fq(n){Qn(Uq,Bq,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=CO();if(n.firebase!==void 0){OC.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&OC.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Gl=jq;Fq();var zq="firebase",$q="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gl.registerVersion(zq,$q,"app-compat");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qq=2e3;async function Hq(n,e,t){var r;const{BuildInfo:i}=Dl();di(e.sessionId,"AuthEvent did not contain a session ID");const o=await Yq(e.sessionId),u={};return Lh()?u.ibi=i.packageName:Vh()?u.apn=i.packageName:wn(n,"operation-not-supported-in-this-environment"),i.displayName&&(u.appDisplayName=i.displayName),u.sessionId=o,Aw(n,t,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,u)}async function Gq(n){const{BuildInfo:e}=Dl(),t={};Lh()?t.iosBundleId=e.packageName:Vh()?t.androidPackageName=e.packageName:wn(n,"operation-not-supported-in-this-environment"),await dP(n,t)}function Kq(n){const{cordova:e}=Dl();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,$9()?"_blank":"_system","location=yes"),t(i)})})}async function Wq(n,e,t){const{cordova:r}=Dl();let i=()=>{};try{await new Promise((o,u)=>{let c=null;function f(){var v;o();const E=(v=r.plugins.browsertab)===null||v===void 0?void 0:v.close;typeof E=="function"&&E(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function h(){c||(c=window.setTimeout(()=>{u(ln(n,"redirect-cancelled-by-user"))},qq))}function g(){(document==null?void 0:document.visibilityState)==="visible"&&h()}e.addPassiveListener(f),document.addEventListener("resume",h,!1),Vh()&&document.addEventListener("visibilitychange",g,!1),i=()=>{e.removePassiveListener(f),document.removeEventListener("resume",h,!1),document.removeEventListener("visibilitychange",g,!1),c&&window.clearTimeout(c)}})}finally{i()}}function Qq(n){var e,t,r,i,o,u,c,f,h,g;const v=Dl();he(typeof((e=v==null?void 0:v.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),he(typeof((t=v==null?void 0:v.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),he(typeof((o=(i=(r=v==null?void 0:v.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),he(typeof((f=(c=(u=v==null?void 0:v.cordova)===null||u===void 0?void 0:u.plugins)===null||c===void 0?void 0:c.browsertab)===null||f===void 0?void 0:f.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),he(typeof((g=(h=v==null?void 0:v.cordova)===null||h===void 0?void 0:h.InAppBrowser)===null||g===void 0?void 0:g.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function Yq(n){const e=Xq(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function Xq(n){if(di(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zq=20;class Jq extends uP{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function eH(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:rH(),postBody:null,tenantId:n.tenantId,error:ln(n,"no-auth-event")}}function tH(n,e){return Rw()._set(Cw(n),e)}async function DC(n){const e=await Rw()._get(Cw(n));return e&&await Rw()._remove(Cw(n)),e}function nH(n,e){var t,r;const i=sH(e);if(i.includes("/__/auth/callback")){const o=Qm(i),u=o.firebaseError?iH(decodeURIComponent(o.firebaseError)):null,c=(r=(t=u==null?void 0:u.code)===null||t===void 0?void 0:t.split("auth/"))===null||r===void 0?void 0:r[1],f=c?ln(c):null;return f?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:f,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}function rH(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<Zq;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function Rw(){return Er(Sy)}function Cw(n){return _l("authEvent",n.config.apiKey,n.name)}function iH(n){try{return JSON.parse(n)}catch{return null}}function sH(n){const e=Qm(n),t=e.link?decodeURIComponent(e.link):void 0,r=Qm(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Qm(i).link||i||r||t||n}function Qm(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return tc(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH=500;class oH{constructor(){this._redirectPersistence=ro,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Cy,this._overrideRedirectResult=_b}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new Jq(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){wn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){Qq(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),q$(),await this._originValidation(e);const u=eH(e,r,i);await tH(e,u);const c=await Hq(e,u,t),f=await Kq(c);return Wq(e,o,f)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Gq(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:o}=Dl(),u=setTimeout(async()=>{await DC(e),t.onEvent(PC())},aH),c=async g=>{clearTimeout(u);const v=await DC(e);let E=null;v&&(g!=null&&g.url)&&(E=nH(v,g.url)),t.onEvent(E||PC())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,c);const f=i,h=`${o.packageName.toLowerCase()}://`;Dl().handleOpenURL=async g=>{if(g.toLowerCase().startsWith(h)&&c({url:g}),typeof f=="function")try{f(g)}catch(v){console.error(v)}}}}const lH=oH;function PC(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ln("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uH(n,e){Vt(n)._logFramework(e)}var cH="@firebase/auth-compat",dH="0.5.18";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fH=1e3;function $f(){var n;return((n=self==null?void 0:self.location)===null||n===void 0?void 0:n.protocol)||null}function hH(){return $f()==="http:"||$f()==="https:"}function mP(n=Mt()){return!!(($f()==="file:"||$f()==="ionic:"||$f()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function pH(){return GT()||qT()}function mH(){return DO()&&(document==null?void 0:document.documentMode)===11}function gH(n=Mt()){return/Edge\/\d+/.test(n)}function yH(n=Mt()){return mH()||gH(n)}function gP(){try{const n=self.localStorage,e=Bh();if(n)return n.setItem(e,"1"),n.removeItem(e),yH()?pc():!0}catch{return wb()&&pc()}return!1}function wb(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function jE(){return(hH()||HT()||mP())&&!pH()&&gP()&&!wb()}function yP(){return mP()&&typeof document<"u"}async function vH(){return yP()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},fH);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function _H(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r={LOCAL:"local",NONE:"none",SESSION:"session"},pf=he,vP="persistence";function EH(n,e){if(pf(Object.values(_r).includes(e),n,"invalid-persistence-type"),GT()){pf(e!==_r.SESSION,n,"unsupported-persistence-type");return}if(qT()){pf(e===_r.NONE,n,"unsupported-persistence-type");return}if(wb()){pf(e===_r.NONE||e===_r.LOCAL&&pc(),n,"unsupported-persistence-type");return}pf(e===_r.NONE||gP(),n,"unsupported-persistence-type")}async function xw(n){await n._initializationPromise;const e=_P(),t=_l(vP,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistence())}function wH(n,e){const t=_P();if(!t)return[];const r=_l(vP,n,e);switch(t.getItem(r)){case _r.NONE:return[yc];case _r.LOCAL:return[_c,ro];case _r.SESSION:return[ro];default:return[]}}function _P(){var n;try{return((n=_H())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TH=he;class $a{constructor(){this.browserResolver=Er(fP),this.cordovaResolver=Er(lH),this.underlyingResolver=null,this._redirectPersistence=ro,this._completeRedirectFn=Cy,this._overrideRedirectResult=_b}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return yP()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return TH(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await vH();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(n){return n.unwrap()}function bH(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SH(n){return wP(n)}function IH(n,e){var t;const r=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new AH(n,a$(n,e))}else if(r){const i=wP(e),o=e;i&&(o.credential=i,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}function wP(n){const{_tokenResponse:e}=n instanceof On?n.customData:n;if(!e)return null;if(!(n instanceof On)&&"temporaryProof"in e&&"phoneNumber"in e)return Ol.credentialFromResult(n);const t=e.providerId;if(!t||t===ff.PASSWORD)return null;let r;switch(t){case ff.GOOGLE:r=ci;break;case ff.FACEBOOK:r=Oi;break;case ff.GITHUB:r=Di;break;case ff.TWITTER:r=Pi;break;default:const{oauthIdToken:i,oauthAccessToken:o,oauthTokenSecret:u,pendingToken:c,nonce:f}=e;return!o&&!u&&!i&&!c?null:c?t.startsWith("saml.")?vc._create(t,c):zi._fromParams({providerId:t,signInMethod:t,pendingToken:c,idToken:i,accessToken:o}):new ic(t).credential({idToken:i,accessToken:o,rawNonce:f})}return n instanceof On?r.credentialFromError(n):r.credentialFromResult(n)}function nr(n,e){return e.catch(t=>{throw t instanceof On&&IH(n,t),t}).then(t=>{const r=t.operationType,i=t.user;return{operationType:r,credential:SH(t),additionalUserInfo:n$(t),user:xy.getOrCreate(i)}})}async function Nw(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>nr(n,t.confirm(r))}}class AH{constructor(e,t){this.resolver=t,this.auth=bH(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return nr(EP(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xy=class Cf{constructor(e){this._delegate=e,this.multiFactor=u$(e)}static getOrCreate(e){return Cf.USER_MAP.has(e)||Cf.USER_MAP.set(e,new Cf(e)),Cf.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return nr(this.auth,qD(this._delegate,e))}async linkWithPhoneNumber(e,t){return Nw(this.auth,D$(this._delegate,e,t))}async linkWithPopup(e){return nr(this.auth,B$(this._delegate,e,$a))}async linkWithRedirect(e){return await xw(Vt(this.auth)),Q$(this._delegate,e,$a)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return nr(this.auth,HD(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Nw(this.auth,P$(this._delegate,e,t))}reauthenticateWithPopup(e){return nr(this.auth,U$(this._delegate,e,$a))}async reauthenticateWithRedirect(e){return await xw(Vt(this.auth)),K$(this._delegate,e,$a)}sendEmailVerification(e){return QD(this._delegate,e)}async unlink(e){return await kz(this._delegate,e),this}updateEmail(e){return Qz(this._delegate,e)}updatePassword(e){return Yz(this._delegate,e)}updatePhoneNumber(e){return k$(this._delegate,e)}updateProfile(e){return Wz(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Gz(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};xy.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf=he;class Ow{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;mf(r,"invalid-api-key",{appName:e.name}),mf(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?$a:void 0;this._delegate=t.initialize({options:{persistence:RH(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(S9),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?xy.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){VD(this._delegate,e,t)}applyActionCode(e){return Uz(this._delegate,e)}checkActionCode(e){return GD(this._delegate,e)}confirmPasswordReset(e,t){return jz(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return nr(this._delegate,KD(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Hz(this._delegate,e)}isSignInWithEmailLink(e){return zz(this._delegate,e)}async getRedirectResult(){mf(jE(),this._delegate,"operation-not-supported-in-this-environment");const e=await X$(this._delegate,$a);return e?nr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){uH(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:i,error:o,complete:u}=kC(e,t,r);return this._delegate.onAuthStateChanged(i,o,u)}onIdTokenChanged(e,t,r){const{next:i,error:o,complete:u}=kC(e,t,r);return this._delegate.onIdTokenChanged(i,o,u)}sendSignInLinkToEmail(e,t){return Fz(this._delegate,e,t)}sendPasswordResetEmail(e,t){return Lz(this._delegate,e,t||void 0)}async setPersistence(e){EH(this._delegate,e);let t;switch(e){case _r.SESSION:t=ro;break;case _r.LOCAL:t=await Er(_c)._isAvailable()?_c:Sy;break;case _r.NONE:t=yc;break;default:return wn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return nr(this._delegate,Pz(this._delegate))}signInWithCredential(e){return nr(this._delegate,Ty(this._delegate,e))}signInWithCustomToken(e){return nr(this._delegate,Vz(this._delegate,e))}signInWithEmailAndPassword(e,t){return nr(this._delegate,WD(this._delegate,e,t))}signInWithEmailLink(e,t){return nr(this._delegate,$z(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Nw(this._delegate,O$(this._delegate,e,t))}async signInWithPopup(e){return mf(jE(),this._delegate,"operation-not-supported-in-this-environment"),nr(this._delegate,sP(this._delegate,e,$a))}async signInWithRedirect(e){return mf(jE(),this._delegate,"operation-not-supported-in-this-environment"),await xw(this._delegate),H$(this._delegate,e,$a)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return Bz(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}Ow.Persistence=_r;function kC(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const i=r;return{next:u=>i(u&&xy.getOrCreate(u)),error:e,complete:t}}function RH(n,e){const t=wH(n,e);if(typeof self<"u"&&!t.includes(_c)&&t.push(_c),typeof window<"u")for(const r of[Sy,ro])t.includes(r)||t.push(r);return t.includes(yc)||t.push(yc),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{static credential(e,t){return Ol.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new Ol(EP(Gl.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Tb.PHONE_SIGN_IN_METHOD=Ol.PHONE_SIGN_IN_METHOD;Tb.PROVIDER_ID=Ol.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CH=he;class xH{constructor(e,t,r=Gl.app()){var i;CH((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new x$(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NH="auth-compat";function OH(n){n.INTERNAL.registerComponent(new ur(NH,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new Ow(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Bu.EMAIL_SIGNIN,PASSWORD_RESET:Bu.PASSWORD_RESET,RECOVER_EMAIL:Bu.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Bu.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Bu.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Bu.VERIFY_EMAIL}},EmailAuthProvider:vo,FacebookAuthProvider:Oi,GithubAuthProvider:Di,GoogleAuthProvider:ci,OAuthProvider:ic,SAMLAuthProvider:Rg,PhoneAuthProvider:Tb,PhoneMultiFactorGenerator:hP,RecaptchaVerifier:xH,TwitterAuthProvider:Pi,Auth:Ow,AuthCredential:Kc,Error:On}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(cH,dH)}OH(Gl);var MC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wa,TP;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,N){function C(){}C.prototype=N.prototype,D.D=N.prototype,D.prototype=new C,D.prototype.constructor=D,D.C=function(P,j,q){for(var M=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)M[Me-2]=arguments[Me];return N.prototype[j].apply(P,M)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,N,C){C||(C=0);var P=Array(16);if(typeof N=="string")for(var j=0;16>j;++j)P[j]=N.charCodeAt(C++)|N.charCodeAt(C++)<<8|N.charCodeAt(C++)<<16|N.charCodeAt(C++)<<24;else for(j=0;16>j;++j)P[j]=N[C++]|N[C++]<<8|N[C++]<<16|N[C++]<<24;N=D.g[0],C=D.g[1],j=D.g[2];var q=D.g[3],M=N+(q^C&(j^q))+P[0]+3614090360&4294967295;N=C+(M<<7&4294967295|M>>>25),M=q+(j^N&(C^j))+P[1]+3905402710&4294967295,q=N+(M<<12&4294967295|M>>>20),M=j+(C^q&(N^C))+P[2]+606105819&4294967295,j=q+(M<<17&4294967295|M>>>15),M=C+(N^j&(q^N))+P[3]+3250441966&4294967295,C=j+(M<<22&4294967295|M>>>10),M=N+(q^C&(j^q))+P[4]+4118548399&4294967295,N=C+(M<<7&4294967295|M>>>25),M=q+(j^N&(C^j))+P[5]+1200080426&4294967295,q=N+(M<<12&4294967295|M>>>20),M=j+(C^q&(N^C))+P[6]+2821735955&4294967295,j=q+(M<<17&4294967295|M>>>15),M=C+(N^j&(q^N))+P[7]+4249261313&4294967295,C=j+(M<<22&4294967295|M>>>10),M=N+(q^C&(j^q))+P[8]+1770035416&4294967295,N=C+(M<<7&4294967295|M>>>25),M=q+(j^N&(C^j))+P[9]+2336552879&4294967295,q=N+(M<<12&4294967295|M>>>20),M=j+(C^q&(N^C))+P[10]+4294925233&4294967295,j=q+(M<<17&4294967295|M>>>15),M=C+(N^j&(q^N))+P[11]+2304563134&4294967295,C=j+(M<<22&4294967295|M>>>10),M=N+(q^C&(j^q))+P[12]+1804603682&4294967295,N=C+(M<<7&4294967295|M>>>25),M=q+(j^N&(C^j))+P[13]+4254626195&4294967295,q=N+(M<<12&4294967295|M>>>20),M=j+(C^q&(N^C))+P[14]+2792965006&4294967295,j=q+(M<<17&4294967295|M>>>15),M=C+(N^j&(q^N))+P[15]+1236535329&4294967295,C=j+(M<<22&4294967295|M>>>10),M=N+(j^q&(C^j))+P[1]+4129170786&4294967295,N=C+(M<<5&4294967295|M>>>27),M=q+(C^j&(N^C))+P[6]+3225465664&4294967295,q=N+(M<<9&4294967295|M>>>23),M=j+(N^C&(q^N))+P[11]+643717713&4294967295,j=q+(M<<14&4294967295|M>>>18),M=C+(q^N&(j^q))+P[0]+3921069994&4294967295,C=j+(M<<20&4294967295|M>>>12),M=N+(j^q&(C^j))+P[5]+3593408605&4294967295,N=C+(M<<5&4294967295|M>>>27),M=q+(C^j&(N^C))+P[10]+38016083&4294967295,q=N+(M<<9&4294967295|M>>>23),M=j+(N^C&(q^N))+P[15]+3634488961&4294967295,j=q+(M<<14&4294967295|M>>>18),M=C+(q^N&(j^q))+P[4]+3889429448&4294967295,C=j+(M<<20&4294967295|M>>>12),M=N+(j^q&(C^j))+P[9]+568446438&4294967295,N=C+(M<<5&4294967295|M>>>27),M=q+(C^j&(N^C))+P[14]+3275163606&4294967295,q=N+(M<<9&4294967295|M>>>23),M=j+(N^C&(q^N))+P[3]+4107603335&4294967295,j=q+(M<<14&4294967295|M>>>18),M=C+(q^N&(j^q))+P[8]+1163531501&4294967295,C=j+(M<<20&4294967295|M>>>12),M=N+(j^q&(C^j))+P[13]+2850285829&4294967295,N=C+(M<<5&4294967295|M>>>27),M=q+(C^j&(N^C))+P[2]+4243563512&4294967295,q=N+(M<<9&4294967295|M>>>23),M=j+(N^C&(q^N))+P[7]+1735328473&4294967295,j=q+(M<<14&4294967295|M>>>18),M=C+(q^N&(j^q))+P[12]+2368359562&4294967295,C=j+(M<<20&4294967295|M>>>12),M=N+(C^j^q)+P[5]+4294588738&4294967295,N=C+(M<<4&4294967295|M>>>28),M=q+(N^C^j)+P[8]+2272392833&4294967295,q=N+(M<<11&4294967295|M>>>21),M=j+(q^N^C)+P[11]+1839030562&4294967295,j=q+(M<<16&4294967295|M>>>16),M=C+(j^q^N)+P[14]+4259657740&4294967295,C=j+(M<<23&4294967295|M>>>9),M=N+(C^j^q)+P[1]+2763975236&4294967295,N=C+(M<<4&4294967295|M>>>28),M=q+(N^C^j)+P[4]+1272893353&4294967295,q=N+(M<<11&4294967295|M>>>21),M=j+(q^N^C)+P[7]+4139469664&4294967295,j=q+(M<<16&4294967295|M>>>16),M=C+(j^q^N)+P[10]+3200236656&4294967295,C=j+(M<<23&4294967295|M>>>9),M=N+(C^j^q)+P[13]+681279174&4294967295,N=C+(M<<4&4294967295|M>>>28),M=q+(N^C^j)+P[0]+3936430074&4294967295,q=N+(M<<11&4294967295|M>>>21),M=j+(q^N^C)+P[3]+3572445317&4294967295,j=q+(M<<16&4294967295|M>>>16),M=C+(j^q^N)+P[6]+76029189&4294967295,C=j+(M<<23&4294967295|M>>>9),M=N+(C^j^q)+P[9]+3654602809&4294967295,N=C+(M<<4&4294967295|M>>>28),M=q+(N^C^j)+P[12]+3873151461&4294967295,q=N+(M<<11&4294967295|M>>>21),M=j+(q^N^C)+P[15]+530742520&4294967295,j=q+(M<<16&4294967295|M>>>16),M=C+(j^q^N)+P[2]+3299628645&4294967295,C=j+(M<<23&4294967295|M>>>9),M=N+(j^(C|~q))+P[0]+4096336452&4294967295,N=C+(M<<6&4294967295|M>>>26),M=q+(C^(N|~j))+P[7]+1126891415&4294967295,q=N+(M<<10&4294967295|M>>>22),M=j+(N^(q|~C))+P[14]+2878612391&4294967295,j=q+(M<<15&4294967295|M>>>17),M=C+(q^(j|~N))+P[5]+4237533241&4294967295,C=j+(M<<21&4294967295|M>>>11),M=N+(j^(C|~q))+P[12]+1700485571&4294967295,N=C+(M<<6&4294967295|M>>>26),M=q+(C^(N|~j))+P[3]+2399980690&4294967295,q=N+(M<<10&4294967295|M>>>22),M=j+(N^(q|~C))+P[10]+4293915773&4294967295,j=q+(M<<15&4294967295|M>>>17),M=C+(q^(j|~N))+P[1]+2240044497&4294967295,C=j+(M<<21&4294967295|M>>>11),M=N+(j^(C|~q))+P[8]+1873313359&4294967295,N=C+(M<<6&4294967295|M>>>26),M=q+(C^(N|~j))+P[15]+4264355552&4294967295,q=N+(M<<10&4294967295|M>>>22),M=j+(N^(q|~C))+P[6]+2734768916&4294967295,j=q+(M<<15&4294967295|M>>>17),M=C+(q^(j|~N))+P[13]+1309151649&4294967295,C=j+(M<<21&4294967295|M>>>11),M=N+(j^(C|~q))+P[4]+4149444226&4294967295,N=C+(M<<6&4294967295|M>>>26),M=q+(C^(N|~j))+P[11]+3174756917&4294967295,q=N+(M<<10&4294967295|M>>>22),M=j+(N^(q|~C))+P[2]+718787259&4294967295,j=q+(M<<15&4294967295|M>>>17),M=C+(q^(j|~N))+P[9]+3951481745&4294967295,D.g[0]=D.g[0]+N&4294967295,D.g[1]=D.g[1]+(j+(M<<21&4294967295|M>>>11))&4294967295,D.g[2]=D.g[2]+j&4294967295,D.g[3]=D.g[3]+q&4294967295}r.prototype.u=function(D,N){N===void 0&&(N=D.length);for(var C=N-this.blockSize,P=this.B,j=this.h,q=0;q<N;){if(j==0)for(;q<=C;)i(this,D,q),q+=this.blockSize;if(typeof D=="string"){for(;q<N;)if(P[j++]=D.charCodeAt(q++),j==this.blockSize){i(this,P),j=0;break}}else for(;q<N;)if(P[j++]=D[q++],j==this.blockSize){i(this,P),j=0;break}}this.h=j,this.o+=N},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var N=1;N<D.length-8;++N)D[N]=0;var C=8*this.o;for(N=D.length-8;N<D.length;++N)D[N]=C&255,C/=256;for(this.u(D),D=Array(16),N=C=0;4>N;++N)for(var P=0;32>P;P+=8)D[C++]=this.g[N]>>>P&255;return D};function o(D,N){var C=c;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=N(D)}function u(D,N){this.h=N;for(var C=[],P=!0,j=D.length-1;0<=j;j--){var q=D[j]|0;P&&q==N||(C[j]=q,P=!1)}this.g=C}var c={};function f(D){return-128<=D&&128>D?o(D,function(N){return new u([N|0],0>N?-1:0)}):new u([D|0],0>D?-1:0)}function h(D){if(isNaN(D)||!isFinite(D))return v;if(0>D)return x(h(-D));for(var N=[],C=1,P=0;D>=C;P++)N[P]=D/C|0,C*=4294967296;return new u(N,0)}function g(D,N){if(D.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(D.charAt(0)=="-")return x(g(D.substring(1),N));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=h(Math.pow(N,8)),P=v,j=0;j<D.length;j+=8){var q=Math.min(8,D.length-j),M=parseInt(D.substring(j,j+q),N);8>q?(q=h(Math.pow(N,q)),P=P.j(q).add(h(M))):(P=P.j(C),P=P.add(h(M)))}return P}var v=f(0),E=f(1),S=f(16777216);n=u.prototype,n.m=function(){if(k(this))return-x(this).m();for(var D=0,N=1,C=0;C<this.g.length;C++){var P=this.i(C);D+=(0<=P?P:4294967296+P)*N,N*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(k(this))return"-"+x(this).toString(D);for(var N=h(Math.pow(D,6)),C=this,P="";;){var j=Q(C,N).g;C=U(C,j.j(N));var q=((0<C.g.length?C.g[0]:C.h)>>>0).toString(D);if(C=j,A(C))return q+P;for(;6>q.length;)q="0"+q;P=q+P}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(var N=0;N<D.g.length;N++)if(D.g[N]!=0)return!1;return!0}function k(D){return D.h==-1}n.l=function(D){return D=U(this,D),k(D)?-1:A(D)?0:1};function x(D){for(var N=D.g.length,C=[],P=0;P<N;P++)C[P]=~D.g[P];return new u(C,~D.h).add(E)}n.abs=function(){return k(this)?x(this):this},n.add=function(D){for(var N=Math.max(this.g.length,D.g.length),C=[],P=0,j=0;j<=N;j++){var q=P+(this.i(j)&65535)+(D.i(j)&65535),M=(q>>>16)+(this.i(j)>>>16)+(D.i(j)>>>16);P=M>>>16,q&=65535,M&=65535,C[j]=M<<16|q}return new u(C,C[C.length-1]&-2147483648?-1:0)};function U(D,N){return D.add(x(N))}n.j=function(D){if(A(this)||A(D))return v;if(k(this))return k(D)?x(this).j(x(D)):x(x(this).j(D));if(k(D))return x(this.j(x(D)));if(0>this.l(S)&&0>D.l(S))return h(this.m()*D.m());for(var N=this.g.length+D.g.length,C=[],P=0;P<2*N;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(var j=0;j<D.g.length;j++){var q=this.i(P)>>>16,M=this.i(P)&65535,Me=D.i(j)>>>16,xe=D.i(j)&65535;C[2*P+2*j]+=M*xe,$(C,2*P+2*j),C[2*P+2*j+1]+=q*xe,$(C,2*P+2*j+1),C[2*P+2*j+1]+=M*Me,$(C,2*P+2*j+1),C[2*P+2*j+2]+=q*Me,$(C,2*P+2*j+2)}for(P=0;P<N;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=N;P<2*N;P++)C[P]=0;return new u(C,0)};function $(D,N){for(;(D[N]&65535)!=D[N];)D[N+1]+=D[N]>>>16,D[N]&=65535,N++}function B(D,N){this.g=D,this.h=N}function Q(D,N){if(A(N))throw Error("division by zero");if(A(D))return new B(v,v);if(k(D))return N=Q(x(D),N),new B(x(N.g),x(N.h));if(k(N))return N=Q(D,x(N)),new B(x(N.g),N.h);if(30<D.g.length){if(k(D)||k(N))throw Error("slowDivide_ only works with positive integers.");for(var C=E,P=N;0>=P.l(D);)C=H(C),P=H(P);var j=X(C,1),q=X(P,1);for(P=X(P,2),C=X(C,2);!A(P);){var M=q.add(P);0>=M.l(D)&&(j=j.add(C),q=M),P=X(P,1),C=X(C,1)}return N=U(D,j.j(N)),new B(j,N)}for(j=v;0<=D.l(N);){for(C=Math.max(1,Math.floor(D.m()/N.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),q=h(C),M=q.j(N);k(M)||0<M.l(D);)C-=P,q=h(C),M=q.j(N);A(q)&&(q=E),j=j.add(q),D=U(D,M)}return new B(j,D)}n.A=function(D){return Q(this,D).h},n.and=function(D){for(var N=Math.max(this.g.length,D.g.length),C=[],P=0;P<N;P++)C[P]=this.i(P)&D.i(P);return new u(C,this.h&D.h)},n.or=function(D){for(var N=Math.max(this.g.length,D.g.length),C=[],P=0;P<N;P++)C[P]=this.i(P)|D.i(P);return new u(C,this.h|D.h)},n.xor=function(D){for(var N=Math.max(this.g.length,D.g.length),C=[],P=0;P<N;P++)C[P]=this.i(P)^D.i(P);return new u(C,this.h^D.h)};function H(D){for(var N=D.g.length+1,C=[],P=0;P<N;P++)C[P]=D.i(P)<<1|D.i(P-1)>>>31;return new u(C,D.h)}function X(D,N){var C=N>>5;N%=32;for(var P=D.g.length-C,j=[],q=0;q<P;q++)j[q]=0<N?D.i(q+C)>>>N|D.i(q+C+1)<<32-N:D.i(q+C);return new u(j,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,TP=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=h,u.fromString=g,Wa=u}).apply(typeof MC<"u"?MC:typeof self<"u"?self:typeof window<"u"?window:{});var Am=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bP,xf,SP,Ym,Dw,IP,AP,RP;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,_,w){return p==Array.prototype||p==Object.prototype||(p[_]=w.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Am=="object"&&Am];for(var _=0;_<p.length;++_){var w=p[_];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function i(p,_){if(_)e:{var w=r;p=p.split(".");for(var O=0;O<p.length-1;O++){var J=p[O];if(!(J in w))break e;w=w[J]}p=p[p.length-1],O=w[p],_=_(O),_!=O&&_!=null&&e(w,p,{configurable:!0,writable:!0,value:_})}}function o(p,_){p instanceof String&&(p+="");var w=0,O=!1,J={next:function(){if(!O&&w<p.length){var ie=w++;return{value:_(ie,p[ie]),done:!1}}return O=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}i("Array.prototype.values",function(p){return p||function(){return o(this,function(_,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function f(p){var _=typeof p;return _=_!="object"?_:p?Array.isArray(p)?"array":_:"null",_=="array"||_=="object"&&typeof p.length=="number"}function h(p){var _=typeof p;return _=="object"&&p!=null||_=="function"}function g(p,_,w){return p.call.apply(p.bind,arguments)}function v(p,_,w){if(!p)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,O),p.apply(_,J)}}return function(){return p.apply(_,arguments)}}function E(p,_,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,E.apply(null,arguments)}function S(p,_){var w=Array.prototype.slice.call(arguments,1);return function(){var O=w.slice();return O.push.apply(O,arguments),p.apply(this,O)}}function A(p,_){function w(){}w.prototype=_.prototype,p.aa=_.prototype,p.prototype=new w,p.prototype.constructor=p,p.Qb=function(O,J,ie){for(var ge=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)ge[rt-2]=arguments[rt];return _.prototype[J].apply(O,ge)}}function k(p){const _=p.length;if(0<_){const w=Array(_);for(let O=0;O<_;O++)w[O]=p[O];return w}return[]}function x(p,_){for(let w=1;w<arguments.length;w++){const O=arguments[w];if(f(O)){const J=p.length||0,ie=O.length||0;p.length=J+ie;for(let ge=0;ge<ie;ge++)p[J+ge]=O[ge]}else p.push(O)}}class U{constructor(_,w){this.i=_,this.j=w,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function $(p){return/^[\s\xa0]*$/.test(p)}function B(){var p=c.navigator;return p&&(p=p.userAgent)?p:""}function Q(p){return Q[" "](p),p}Q[" "]=function(){};var H=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function X(p,_,w){for(const O in p)_.call(w,p[O],O,p)}function D(p,_){for(const w in p)_.call(void 0,p[w],w,p)}function N(p){const _={};for(const w in p)_[w]=p[w];return _}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(p,_){let w,O;for(let J=1;J<arguments.length;J++){O=arguments[J];for(w in O)p[w]=O[w];for(let ie=0;ie<C.length;ie++)w=C[ie],Object.prototype.hasOwnProperty.call(O,w)&&(p[w]=O[w])}}function j(p){var _=1;p=p.split(":");const w=[];for(;0<_&&p.length;)w.push(p.shift()),_--;return p.length&&w.push(p.join(":")),w}function q(p){c.setTimeout(()=>{throw p},0)}function M(){var p=Pe;let _=null;return p.g&&(_=p.g,p.g=p.g.next,p.g||(p.h=null),_.next=null),_}class Me{constructor(){this.h=this.g=null}add(_,w){const O=xe.get();O.set(_,w),this.h?this.h.next=O:this.g=O,this.h=O}}var xe=new U(()=>new le,p=>p.reset());class le{constructor(){this.next=this.g=this.h=null}set(_,w){this.h=_,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,me=!1,Pe=new Me,F=()=>{const p=c.Promise.resolve(void 0);ye=()=>{p.then(V)}};var V=()=>{for(var p;p=M();){try{p.h.call(p.g)}catch(w){q(w)}var _=xe;_.j(p),100>_.h&&(_.h++,p.next=_.g,_.g=p)}me=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(p,_){this.type=p,this.g=this.target=_,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var Y=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,_=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const w=()=>{};c.addEventListener("test",w,_),c.removeEventListener("test",w,_)}catch{}return p}();function ue(p,_){if(z.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var w=this.type=p.type,O=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=_,_=p.relatedTarget){if(H){e:{try{Q(_.nodeName);var J=!0;break e}catch{}J=!1}J||(_=null)}}else w=="mouseover"?_=p.fromElement:w=="mouseout"&&(_=p.toElement);this.relatedTarget=_,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:pe[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&ue.aa.h.call(this)}}A(ue,z);var pe={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),ve=0;function Ve(p,_,w,O,J){this.listener=p,this.proxy=null,this.src=_,this.type=w,this.capture=!!O,this.ha=J,this.key=++ve,this.da=this.fa=!1}function ke(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function He(p){this.src=p,this.g={},this.h=0}He.prototype.add=function(p,_,w,O,J){var ie=p.toString();p=this.g[ie],p||(p=this.g[ie]=[],this.h++);var ge=Ge(p,_,O,J);return-1<ge?(_=p[ge],w||(_.fa=!1)):(_=new Ve(_,this.src,ie,!!O,J),_.fa=w,p.push(_)),_};function je(p,_){var w=_.type;if(w in p.g){var O=p.g[w],J=Array.prototype.indexOf.call(O,_,void 0),ie;(ie=0<=J)&&Array.prototype.splice.call(O,J,1),ie&&(ke(_),p.g[w].length==0&&(delete p.g[w],p.h--))}}function Ge(p,_,w,O){for(var J=0;J<p.length;++J){var ie=p[J];if(!ie.da&&ie.listener==_&&ie.capture==!!w&&ie.ha==O)return J}return-1}var Be="closure_lm_"+(1e6*Math.random()|0),ze={};function gt(p,_,w,O,J){if(Array.isArray(_)){for(var ie=0;ie<_.length;ie++)gt(p,_[ie],w,O,J);return null}return w=ti(w),p&&p[we]?p.K(_,w,h(O)?!!O.capture:!1,J):Xe(p,_,w,!1,O,J)}function Xe(p,_,w,O,J,ie){if(!_)throw Error("Invalid event type");var ge=h(J)?!!J.capture:!!J,rt=cr(p);if(rt||(p[Be]=rt=new He(p)),w=rt.add(_,w,O,ge,ie),w.proxy)return w;if(O=Tn(),w.proxy=O,O.src=p,O.listener=w,p.addEventListener)Y||(J=ge),J===void 0&&(J=!1),p.addEventListener(_.toString(),O,J);else if(p.attachEvent)p.attachEvent(bn(_.toString()),O);else if(p.addListener&&p.removeListener)p.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Tn(){function p(w){return _.call(p.src,p.listener,w)}const _=en;return p}function Pn(p,_,w,O,J){if(Array.isArray(_))for(var ie=0;ie<_.length;ie++)Pn(p,_[ie],w,O,J);else O=h(O)?!!O.capture:!!O,w=ti(w),p&&p[we]?(p=p.i,_=String(_).toString(),_ in p.g&&(ie=p.g[_],w=Ge(ie,w,O,J),-1<w&&(ke(ie[w]),Array.prototype.splice.call(ie,w,1),ie.length==0&&(delete p.g[_],p.h--)))):p&&(p=cr(p))&&(_=p.g[_.toString()],p=-1,_&&(p=Ge(_,w,O,J)),(w=-1<p?_[p]:null)&&wt(w))}function wt(p){if(typeof p!="number"&&p&&!p.da){var _=p.src;if(_&&_[we])je(_.i,p);else{var w=p.type,O=p.proxy;_.removeEventListener?_.removeEventListener(w,O,p.capture):_.detachEvent?_.detachEvent(bn(w),O):_.addListener&&_.removeListener&&_.removeListener(O),(w=cr(_))?(je(w,p),w.h==0&&(w.src=null,_[Be]=null)):ke(p)}}}function bn(p){return p in ze?ze[p]:ze[p]="on"+p}function en(p,_){if(p.da)p=!0;else{_=new ue(_,this);var w=p.listener,O=p.ha||p.src;p.fa&&wt(p),p=w.call(O,_)}return p}function cr(p){return p=p[Be],p instanceof He?p:null}var xt="__closure_events_fn_"+(1e9*Math.random()>>>0);function ti(p){return typeof p=="function"?p:(p[xt]||(p[xt]=function(_){return p.handleEvent(_)}),p[xt])}function Ae(){K.call(this),this.i=new He(this),this.M=this,this.F=null}A(Ae,K),Ae.prototype[we]=!0,Ae.prototype.removeEventListener=function(p,_,w,O){Pn(this,p,_,w,O)};function nt(p,_){var w,O=p.F;if(O)for(w=[];O;O=O.F)w.push(O);if(p=p.M,O=_.type||_,typeof _=="string")_=new z(_,p);else if(_ instanceof z)_.target=_.target||p;else{var J=_;_=new z(O,p),P(_,J)}if(J=!0,w)for(var ie=w.length-1;0<=ie;ie--){var ge=_.g=w[ie];J=tn(ge,O,!0,_)&&J}if(ge=_.g=p,J=tn(ge,O,!0,_)&&J,J=tn(ge,O,!1,_)&&J,w)for(ie=0;ie<w.length;ie++)ge=_.g=w[ie],J=tn(ge,O,!1,_)&&J}Ae.prototype.N=function(){if(Ae.aa.N.call(this),this.i){var p=this.i,_;for(_ in p.g){for(var w=p.g[_],O=0;O<w.length;O++)ke(w[O]);delete p.g[_],p.h--}}this.F=null},Ae.prototype.K=function(p,_,w,O){return this.i.add(String(p),_,!1,w,O)},Ae.prototype.L=function(p,_,w,O){return this.i.add(String(p),_,!0,w,O)};function tn(p,_,w,O){if(_=p.i.g[String(_)],!_)return!0;_=_.concat();for(var J=!0,ie=0;ie<_.length;++ie){var ge=_[ie];if(ge&&!ge.da&&ge.capture==w){var rt=ge.listener,rn=ge.ha||ge.src;ge.fa&&je(p.i,ge),J=rt.call(rn,O)!==!1&&J}}return J&&!O.defaultPrevented}function Zs(p,_,w){if(typeof p=="function")w&&(p=E(p,w));else if(p&&typeof p.handleEvent=="function")p=E(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:c.setTimeout(p,_||0)}function Wi(p){p.g=Zs(()=>{p.g=null,p.i&&(p.i=!1,Wi(p))},p.l);const _=p.h;p.h=null,p.m.apply(null,_)}class So extends K{constructor(_,w){super(),this.m=_,this.l=w,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Wi(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qi(p){K.call(this),this.h=p,this.g={}}A(Qi,K);var fi=[];function cn(p){X(p.g,function(_,w){this.g.hasOwnProperty(w)&&wt(_)},p),p.g={}}Qi.prototype.N=function(){Qi.aa.N.call(this),cn(this)},Qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Io=c.JSON.stringify,Rr=c.JSON.parse,zn=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function sd(){}sd.prototype.h=null;function rp(p){return p.h||(p.h=p.i())}function ip(){}var hi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Js(){z.call(this,"d")}A(Js,z);function ni(){z.call(this,"c")}A(ni,z);var Cr={},ea=null;function Zl(){return ea=ea||new Ae}Cr.La="serverreachability";function ad(p){z.call(this,Cr.La,p)}A(ad,z);function ta(p){const _=Zl();nt(_,new ad(_))}Cr.STAT_EVENT="statevent";function Jl(p,_){z.call(this,Cr.STAT_EVENT,p),this.stat=_}A(Jl,z);function qt(p){const _=Zl();nt(_,new Jl(_,p))}Cr.Ma="timingevent";function sp(p,_){z.call(this,Cr.Ma,p),this.size=_}A(sp,z);function na(p,_){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},_)}function ra(){this.g=!0}ra.prototype.xa=function(){this.g=!1};function ap(p,_,w,O,J,ie){p.info(function(){if(p.g)if(ie)for(var ge="",rt=ie.split("&"),rn=0;rn<rt.length;rn++){var it=rt[rn].split("=");if(1<it.length){var hn=it[0];it=it[1];var sn=hn.split("_");ge=2<=sn.length&&sn[1]=="type"?ge+(hn+"="+it+"&"):ge+(hn+"=redacted&")}}else ge=null;else ge=ie;return"XMLHTTP REQ ("+O+") [attempt "+J+"]: "+_+`
`+w+`
`+ge})}function op(p,_,w,O,J,ie,ge){p.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+J+"]: "+_+`
`+w+`
`+ie+" "+ge})}function ia(p,_,w,O){p.info(function(){return"XMLHTTP TEXT ("+_+"): "+dn(p,w)+(O?" "+O:"")})}function pi(p,_){p.info(function(){return"TIMEOUT: "+_})}ra.prototype.info=function(){};function dn(p,_){if(!p.g)return _;if(!_)return null;try{var w=JSON.parse(_);if(w){for(p=0;p<w.length;p++)if(Array.isArray(w[p])){var O=w[p];if(!(2>O.length)){var J=O[1];if(Array.isArray(J)&&!(1>J.length)){var ie=J[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var ge=1;ge<J.length;ge++)J[ge]=""}}}}return Io(w)}catch{return _}}var nn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ao;function eu(){}A(eu,sd),eu.prototype.g=function(){return new XMLHttpRequest},eu.prototype.i=function(){return{}},Ao=new eu;function mi(p,_,w,O){this.j=p,this.i=_,this.l=w,this.R=O||1,this.U=new Qi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new od}function od(){this.i=null,this.g="",this.h=!1}var sa={},Ro={};function ri(p,_,w){p.L=1,p.v=No(Lt(_)),p.m=w,p.P=!0,Xi(p,null)}function Xi(p,_){p.F=Date.now(),Nt(p),p.A=Lt(p.v);var w=p.A,O=p.R;Array.isArray(O)||(O=[String(O)]),es(w.i,"t",O),p.C=0,w=p.j.J,p.h=new od,p.g=wp(p.j,w?_:null,!p.m),0<p.O&&(p.M=new So(E(p.Y,p,p.g),p.O)),_=p.U,w=p.g,O=p.ca;var J="readystatechange";Array.isArray(J)||(J&&(fi[0]=J.toString()),J=fi);for(var ie=0;ie<J.length;ie++){var ge=gt(w,J[ie],O||_.handleEvent,!1,_.h||_);if(!ge)break;_.g[ge.key]=ge}_=p.H?N(p.H):{},p.m?(p.u||(p.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,_)):(p.u="GET",p.g.ea(p.A,p.u,null,_)),ta(),ap(p.i,p.u,p.A,p.l,p.R,p.m)}mi.prototype.ca=function(p){p=p.target;const _=this.M;_&&Pr(p)==3?_.j():this.Y(p)},mi.prototype.Y=function(p){try{if(p==this.g)e:{const sn=Pr(this.g);var _=this.g.Ba();const is=this.g.Z();if(!(3>sn)&&(sn!=3||this.g&&(this.h.h||this.g.oa()||hp(this.g)))){this.J||sn!=4||_==7||(_==8||0>=is?ta(3):ta(2)),tu(this);var w=this.g.Z();this.X=w;t:if(aa(this)){var O=hp(this.g);p="";var J=O.length,ie=Pr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jn(this),dr(this);var ge="";break t}this.h.i=new c.TextDecoder}for(_=0;_<J;_++)this.h.h=!0,p+=this.h.i.decode(O[_],{stream:!(ie&&_==J-1)});O.length=0,this.h.g+=p,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=w==200,op(this.i,this.u,this.A,this.l,this.R,sn,w),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,rn=this.g;if((rt=rn.g?rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(rt)){var it=rt;break t}}it=null}if(w=it)ia(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fr(this,w);else{this.o=!1,this.s=3,qt(12),Jn(this),dr(this);break e}}if(this.P){w=!0;let Sn;for(;!this.J&&this.C<ge.length;)if(Sn=oa(this,ge),Sn==Ro){sn==4&&(this.s=4,qt(14),w=!1),ia(this.i,this.l,null,"[Incomplete Response]");break}else if(Sn==sa){this.s=4,qt(15),ia(this.i,this.l,ge,"[Invalid Chunk]"),w=!1;break}else ia(this.i,this.l,Sn,null),fr(this,Sn);if(aa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),sn!=4||ge.length!=0||this.h.h||(this.s=1,qt(16),w=!1),this.o=this.o&&w,!w)ia(this.i,this.l,ge,"[Invalid Chunked Response]"),Jn(this),dr(this);else if(0<ge.length&&!this.W){this.W=!0;var hn=this.j;hn.g==this&&hn.ba&&!hn.M&&(hn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Lo(hn),hn.M=!0,qt(11))}}else ia(this.i,this.l,ge,null),fr(this,ge);sn==4&&Jn(this),this.o&&!this.J&&(sn==4?vp(this.j,this):(this.o=!1,Nt(this)))}else cv(this.g),w==400&&0<ge.indexOf("Unknown SID")?(this.s=3,qt(12)):(this.s=0,qt(13)),Jn(this),dr(this)}}}catch{}finally{}};function aa(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function oa(p,_){var w=p.C,O=_.indexOf(`
`,w);return O==-1?Ro:(w=Number(_.substring(w,O)),isNaN(w)?sa:(O+=1,O+w>_.length?Ro:(_=_.slice(O,O+w),p.C=O+w,_)))}mi.prototype.cancel=function(){this.J=!0,Jn(this)};function Nt(p){p.S=Date.now()+p.I,ld(p,p.I)}function ld(p,_){if(p.B!=null)throw Error("WatchDog timer not null");p.B=na(E(p.ba,p),_)}function tu(p){p.B&&(c.clearTimeout(p.B),p.B=null)}mi.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(pi(this.i,this.A),this.L!=2&&(ta(),qt(17)),Jn(this),this.s=2,dr(this)):ld(this,this.S-p)};function dr(p){p.j.G==0||p.J||vp(p.j,p)}function Jn(p){tu(p);var _=p.M;_&&typeof _.ma=="function"&&_.ma(),p.M=null,cn(p.U),p.g&&(_=p.g,p.g=null,_.abort(),_.ma())}function fr(p,_){try{var w=p.j;if(w.G!=0&&(w.g==p||la(w.h,p))){if(!p.K&&la(w.h,p)&&w.G==3){try{var O=w.Da.g.parse(_)}catch{O=null}if(Array.isArray(O)&&O.length==3){var J=O;if(J[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<p.F)du(w),uu(w);else break e;_d(w),qt(18)}}else w.za=J[1],0<w.za-w.T&&37500>J[2]&&w.F&&w.v==0&&!w.C&&(w.C=na(E(w.Za,w),6e3));if(1>=lp(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else rs(w,11)}else if((p.K||w.g==p)&&du(w),!$(_))for(J=w.Da.g.parse(_),_=0;_<J.length;_++){let it=J[_];if(w.T=it[0],it=it[1],w.G==2)if(it[0]=="c"){w.K=it[1],w.ia=it[2];const hn=it[3];hn!=null&&(w.la=hn,w.j.info("VER="+w.la));const sn=it[4];sn!=null&&(w.Aa=sn,w.j.info("SVER="+w.Aa));const is=it[5];is!=null&&typeof is=="number"&&0<is&&(O=1.5*is,w.L=O,w.j.info("backChannelRequestTimeoutMs_="+O)),O=w;const Sn=p.g;if(Sn){const Ti=Sn.g?Sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ti){var ie=O.h;ie.g||Ti.indexOf("spdy")==-1&&Ti.indexOf("quic")==-1&&Ti.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(ua(ie,ie.h),ie.h=null))}if(O.D){const wd=Sn.g?Sn.g.getResponseHeader("X-HTTP-Session-Id"):null;wd&&(O.ya=wd,ot(O.I,O.D,wd))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-p.F,w.j.info("Handshake RTT: "+w.R+"ms")),O=w;var ge=p;if(O.qa=Ep(O,O.J?O.ia:null,O.W),ge.K){xr(O.h,ge);var rt=ge,rn=O.L;rn&&(rt.I=rn),rt.B&&(tu(rt),Nt(rt)),O.g=ge}else gp(O);0<w.i.length&&cu(w)}else it[0]!="stop"&&it[0]!="close"||rs(w,7);else w.G==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?rs(w,7):yd(w):it[0]!="noop"&&w.l&&w.l.ta(it),w.v=0)}}ta(4)}catch{}}var sv=class{constructor(p,_){this.g=p,this.map=_}};function ud(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cd(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function lp(p){return p.h?1:p.g?p.g.size:0}function la(p,_){return p.h?p.h==_:p.g?p.g.has(_):!1}function ua(p,_){p.g?p.g.add(_):p.h=_}function xr(p,_){p.h&&p.h==_?p.h=null:p.g&&p.g.has(_)&&p.g.delete(_)}ud.prototype.cancel=function(){if(this.i=$n(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function $n(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let _=p.i;for(const w of p.g.values())_=_.concat(w.D);return _}return k(p.i)}function up(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(f(p)){for(var _=[],w=p.length,O=0;O<w;O++)_.push(p[O]);return _}_=[],w=0;for(O in p)_[w++]=p[O];return _}function av(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(f(p)||typeof p=="string"){var _=[];p=p.length;for(var w=0;w<p;w++)_.push(w);return _}_=[],w=0;for(const O in p)_[w++]=O;return _}}}function Co(p,_){if(p.forEach&&typeof p.forEach=="function")p.forEach(_,void 0);else if(f(p)||typeof p=="string")Array.prototype.forEach.call(p,_,void 0);else for(var w=av(p),O=up(p),J=O.length,ie=0;ie<J;ie++)_.call(void 0,O[ie],w&&w[ie],p)}var dd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nu(p,_){if(p){p=p.split("&");for(var w=0;w<p.length;w++){var O=p[w].indexOf("="),J=null;if(0<=O){var ie=p[w].substring(0,O);J=p[w].substring(O+1)}else ie=p[w];_(ie,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Zi(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Zi){this.h=p.h,ca(this,p.j),this.o=p.o,this.g=p.g,xo(this,p.s),this.l=p.l;var _=p.i,w=new gi;w.i=_.i,_.g&&(w.g=new Map(_.g),w.h=_.h),ru(this,w),this.m=p.m}else p&&(_=String(p).match(dd))?(this.h=!1,ca(this,_[1]||"",!0),this.o=da(_[2]||""),this.g=da(_[3]||"",!0),xo(this,_[4]),this.l=da(_[5]||"",!0),ru(this,_[6]||"",!0),this.m=da(_[7]||"")):(this.h=!1,this.i=new gi(null,this.h))}Zi.prototype.toString=function(){var p=[],_=this.j;_&&p.push(Nr(_,fd,!0),":");var w=this.g;return(w||_=="file")&&(p.push("//"),(_=this.o)&&p.push(Nr(_,fd,!0),"@"),p.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&p.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&p.push("/"),p.push(Nr(w,w.charAt(0)=="/"?hd:cp,!0))),(w=this.i.toString())&&p.push("?",w),(w=this.m)&&p.push("#",Nr(w,uv)),p.join("")};function Lt(p){return new Zi(p)}function ca(p,_,w){p.j=w?da(_,!0):_,p.j&&(p.j=p.j.replace(/:$/,""))}function xo(p,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);p.s=_}else p.s=null}function ru(p,_,w){_ instanceof gi?(p.i=_,pd(p.i,p.h)):(w||(_=Nr(_,lv)),p.i=new gi(_,p.h))}function ot(p,_,w){p.i.set(_,w)}function No(p){return ot(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function da(p,_){return p?_?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Nr(p,_,w){return typeof p=="string"?(p=encodeURI(p).replace(_,ov),w&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function ov(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var fd=/[#\/\?@]/g,cp=/[#\?:]/g,hd=/[#\?]/g,lv=/[#\?@]/g,uv=/#/g;function gi(p,_){this.h=this.g=null,this.i=p||null,this.j=!!_}function Or(p){p.g||(p.g=new Map,p.h=0,p.i&&nu(p.i,function(_,w){p.add(decodeURIComponent(_.replace(/\+/g," ")),w)}))}n=gi.prototype,n.add=function(p,_){Or(this),this.i=null,p=ts(this,p);var w=this.g.get(p);return w||this.g.set(p,w=[]),w.push(_),this.h+=1,this};function iu(p,_){Or(p),_=ts(p,_),p.g.has(_)&&(p.i=null,p.h-=p.g.get(_).length,p.g.delete(_))}function Ji(p,_){return Or(p),_=ts(p,_),p.g.has(_)}n.forEach=function(p,_){Or(this),this.g.forEach(function(w,O){w.forEach(function(J){p.call(_,J,O,this)},this)},this)},n.na=function(){Or(this);const p=Array.from(this.g.values()),_=Array.from(this.g.keys()),w=[];for(let O=0;O<_.length;O++){const J=p[O];for(let ie=0;ie<J.length;ie++)w.push(_[O])}return w},n.V=function(p){Or(this);let _=[];if(typeof p=="string")Ji(this,p)&&(_=_.concat(this.g.get(ts(this,p))));else{p=Array.from(this.g.values());for(let w=0;w<p.length;w++)_=_.concat(p[w])}return _},n.set=function(p,_){return Or(this),this.i=null,p=ts(this,p),Ji(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[_]),this.h+=1,this},n.get=function(p,_){return p?(p=this.V(p),0<p.length?String(p[0]):_):_};function es(p,_,w){iu(p,_),0<w.length&&(p.i=null,p.g.set(ts(p,_),k(w)),p.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],_=Array.from(this.g.keys());for(var w=0;w<_.length;w++){var O=_[w];const ie=encodeURIComponent(String(O)),ge=this.V(O);for(O=0;O<ge.length;O++){var J=ie;ge[O]!==""&&(J+="="+encodeURIComponent(String(ge[O]))),p.push(J)}}return this.i=p.join("&")};function ts(p,_){return _=String(_),p.j&&(_=_.toLowerCase()),_}function pd(p,_){_&&!p.j&&(Or(p),p.i=null,p.g.forEach(function(w,O){var J=O.toLowerCase();O!=J&&(iu(this,O),es(this,J,w))},p)),p.j=_}function dp(p,_){const w=new ra;if(c.Image){const O=new Image;O.onload=S(Dr,w,"TestLoadImage: loaded",!0,_,O),O.onerror=S(Dr,w,"TestLoadImage: error",!1,_,O),O.onabort=S(Dr,w,"TestLoadImage: abort",!1,_,O),O.ontimeout=S(Dr,w,"TestLoadImage: timeout",!1,_,O),c.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=p}else _(!1)}function Oo(p,_){const w=new ra,O=new AbortController,J=setTimeout(()=>{O.abort(),Dr(w,"TestPingServer: timeout",!1,_)},1e4);fetch(p,{signal:O.signal}).then(ie=>{clearTimeout(J),ie.ok?Dr(w,"TestPingServer: ok",!0,_):Dr(w,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(J),Dr(w,"TestPingServer: error",!1,_)})}function Dr(p,_,w,O,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),O(w)}catch{}}function Do(){this.g=new zn}function yi(p,_,w){const O=w||"";try{Co(p,function(J,ie){let ge=J;h(J)&&(ge=Io(J)),_.push(O+ie+"="+encodeURIComponent(ge))})}catch(J){throw _.push(O+"type="+encodeURIComponent("_badmap")),J}}function fa(p){this.l=p.Ub||null,this.j=p.eb||!1}A(fa,sd),fa.prototype.g=function(){return new ns(this.l,this.j)},fa.prototype.i=function(p){return function(){return p}}({});function ns(p,_){Ae.call(this),this.D=p,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(ns,Ae),n=ns.prototype,n.open=function(p,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=_,this.readyState=1,_i(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(_.body=p),(this.D||c).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vi(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,_i(this)),this.g&&(this.readyState=3,_i(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;md(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function md(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var _=p.value?p.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!p.done}))&&(this.response=this.responseText+=_)}p.done?vi(this):_i(this),this.readyState==3&&md(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,vi(this))},n.Qa=function(p){this.g&&(this.response=p,vi(this))},n.ga=function(){this.g&&vi(this)};function vi(p){p.readyState=4,p.l=null,p.j=null,p.v=null,_i(p)}n.setRequestHeader=function(p,_){this.u.append(p,_)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],_=this.h.entries();for(var w=_.next();!w.done;)w=w.value,p.push(w[0]+": "+w[1]),w=_.next();return p.join(`\r
`)};function _i(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(ns.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function gd(p){let _="";return X(p,function(w,O){_+=O,_+=":",_+=w,_+=`\r
`}),_}function fn(p,_,w){e:{for(O in w){var O=!1;break e}O=!0}O||(w=gd(w),typeof p=="string"?w!=null&&encodeURIComponent(String(w)):ot(p,_,w))}function dt(p){Ae.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(dt,Ae);var su=/^https?$/i,Po=["POST","PUT"];n=dt.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,_,w,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);_=_?_.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ao.g(),this.v=this.o?rp(this.o):rp(Ao),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(_,String(p),!0),this.B=!1}catch(ie){fp(this,ie);return}if(p=w||"",w=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var J in O)w.set(J,O[J]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const ie of O.keys())w.set(ie,O.get(ie));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(w.keys()).find(ie=>ie.toLowerCase()=="content-type"),J=c.FormData&&p instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Po,_,void 0))||O||J||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ge]of w)this.g.setRequestHeader(ie,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ko(this),this.u=!0,this.g.send(p),this.u=!1}catch(ie){fp(this,ie)}};function fp(p,_){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=_,p.m=5,au(p),Ei(p)}function au(p){p.A||(p.A=!0,nt(p,"complete"),nt(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,nt(this,"complete"),nt(this,"abort"),Ei(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ei(this,!0)),dt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ou(this):this.bb())},n.bb=function(){ou(this)};function ou(p){if(p.h&&typeof u<"u"&&(!p.v[1]||Pr(p)!=4||p.Z()!=2)){if(p.u&&Pr(p)==4)Zs(p.Ea,0,p);else if(nt(p,"readystatechange"),Pr(p)==4){p.h=!1;try{const ge=p.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var w;if(!(w=_)){var O;if(O=ge===0){var J=String(p.D).match(dd)[1]||null;!J&&c.self&&c.self.location&&(J=c.self.location.protocol.slice(0,-1)),O=!su.test(J?J.toLowerCase():"")}w=O}if(w)nt(p,"complete"),nt(p,"success");else{p.m=6;try{var ie=2<Pr(p)?p.g.statusText:""}catch{ie=""}p.l=ie+" ["+p.Z()+"]",au(p)}}finally{Ei(p)}}}}function Ei(p,_){if(p.g){ko(p);const w=p.g,O=p.v[0]?()=>{}:null;p.g=null,p.v=null,_||nt(p,"ready");try{w.onreadystatechange=O}catch{}}}function ko(p){p.I&&(c.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function Pr(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<Pr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var _=this.g.responseText;return p&&_.indexOf(p)==0&&(_=_.substring(p.length)),Rr(_)}};function hp(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function cv(p){const _={};p=(p.g&&2<=Pr(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<p.length;O++){if($(p[O]))continue;var w=j(p[O]);const J=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const ie=_[J]||[];_[J]=ie,ie.push(w)}D(_,function(O){return O.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mo(p,_,w){return w&&w.internalChannelParams&&w.internalChannelParams[p]||_}function lu(p){this.Aa=0,this.i=[],this.j=new ra,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mo("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mo("baseRetryDelayMs",5e3,p),this.cb=Mo("retryDelaySeedMs",1e4,p),this.Wa=Mo("forwardChannelMaxRetries",2,p),this.wa=Mo("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new ud(p&&p.concurrentRequestLimit),this.Da=new Do,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=lu.prototype,n.la=8,n.G=1,n.connect=function(p,_,w,O){qt(0),this.W=p,this.H=_||{},w&&O!==void 0&&(this.H.OSID=w,this.H.OAID=O),this.F=this.X,this.I=Ep(this,null,this.W),cu(this)};function yd(p){if(pp(p),p.G==3){var _=p.U++,w=Lt(p.I);if(ot(w,"SID",p.K),ot(w,"RID",_),ot(w,"TYPE","terminate"),Vo(p,w),_=new mi(p,p.j,_),_.L=2,_.v=No(Lt(w)),w=!1,c.navigator&&c.navigator.sendBeacon)try{w=c.navigator.sendBeacon(_.v.toString(),"")}catch{}!w&&c.Image&&(new Image().src=_.v,w=!0),w||(_.g=wp(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Nt(_)}_p(p)}function uu(p){p.g&&(Lo(p),p.g.cancel(),p.g=null)}function pp(p){uu(p),p.u&&(c.clearTimeout(p.u),p.u=null),du(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&c.clearTimeout(p.s),p.s=null)}function cu(p){if(!cd(p.h)&&!p.s){p.s=!0;var _=p.Ga;ye||F(),me||(ye(),me=!0),Pe.add(_,p),p.B=0}}function dv(p,_){return lp(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=_.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=na(E(p.Ga,p,_),Ed(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const J=new mi(this,this.j,p);let ie=this.o;if(this.S&&(ie?(ie=N(ie),P(ie,this.S)):ie=this.S),this.m!==null||this.O||(J.H=ie,ie=null),this.P)e:{for(var _=0,w=0;w<this.i.length;w++){t:{var O=this.i[w];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(_+=O,4096<_){_=w;break e}if(_===4096||w===this.i.length-1){_=w+1;break e}}_=1e3}else _=1e3;_=mp(this,J,_),w=Lt(this.I),ot(w,"RID",p),ot(w,"CVER",22),this.D&&ot(w,"X-HTTP-Session-Id",this.D),Vo(this,w),ie&&(this.O?_="headers="+encodeURIComponent(String(gd(ie)))+"&"+_:this.m&&fn(w,this.m,ie)),ua(this.h,J),this.Ua&&ot(w,"TYPE","init"),this.P?(ot(w,"$req",_),ot(w,"SID","null"),J.T=!0,ri(J,w,null)):ri(J,w,_),this.G=2}}else this.G==3&&(p?vd(this,p):this.i.length==0||cd(this.h)||vd(this))};function vd(p,_){var w;_?w=_.l:w=p.U++;const O=Lt(p.I);ot(O,"SID",p.K),ot(O,"RID",w),ot(O,"AID",p.T),Vo(p,O),p.m&&p.o&&fn(O,p.m,p.o),w=new mi(p,p.j,w,p.B+1),p.m===null&&(w.H=p.o),_&&(p.i=_.D.concat(p.i)),_=mp(p,w,1e3),w.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),ua(p.h,w),ri(w,O,_)}function Vo(p,_){p.H&&X(p.H,function(w,O){ot(_,O,w)}),p.l&&Co({},function(w,O){ot(_,O,w)})}function mp(p,_,w){w=Math.min(p.i.length,w);var O=p.l?E(p.l.Na,p.l,p):null;e:{var J=p.i;let ie=-1;for(;;){const ge=["count="+w];ie==-1?0<w?(ie=J[0].g,ge.push("ofs="+ie)):ie=0:ge.push("ofs="+ie);let rt=!0;for(let rn=0;rn<w;rn++){let it=J[rn].g;const hn=J[rn].map;if(it-=ie,0>it)ie=Math.max(0,J[rn].g-100),rt=!1;else try{yi(hn,ge,"req"+it+"_")}catch{O&&O(hn)}}if(rt){O=ge.join("&");break e}}}return p=p.i.splice(0,w),_.D=p,O}function gp(p){if(!p.g&&!p.u){p.Y=1;var _=p.Fa;ye||F(),me||(ye(),me=!0),Pe.add(_,p),p.v=0}}function _d(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=na(E(p.Fa,p),Ed(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,yp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=na(E(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qt(10),uu(this),yp(this))};function Lo(p){p.A!=null&&(c.clearTimeout(p.A),p.A=null)}function yp(p){p.g=new mi(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var _=Lt(p.qa);ot(_,"RID","rpc"),ot(_,"SID",p.K),ot(_,"AID",p.T),ot(_,"CI",p.F?"0":"1"),!p.F&&p.ja&&ot(_,"TO",p.ja),ot(_,"TYPE","xmlhttp"),Vo(p,_),p.m&&p.o&&fn(_,p.m,p.o),p.L&&(p.g.I=p.L);var w=p.g;p=p.ia,w.L=1,w.v=No(Lt(_)),w.m=null,w.P=!0,Xi(w,p)}n.Za=function(){this.C!=null&&(this.C=null,uu(this),_d(this),qt(19))};function du(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function vp(p,_){var w=null;if(p.g==_){du(p),Lo(p),p.g=null;var O=2}else if(la(p.h,_))w=_.D,xr(p.h,_),O=1;else return;if(p.G!=0){if(_.o)if(O==1){w=_.m?_.m.length:0,_=Date.now()-_.F;var J=p.B;O=Zl(),nt(O,new sp(O,w)),cu(p)}else gp(p);else if(J=_.s,J==3||J==0&&0<_.X||!(O==1&&dv(p,_)||O==2&&_d(p)))switch(w&&0<w.length&&(_=p.h,_.i=_.i.concat(w)),J){case 1:rs(p,5);break;case 4:rs(p,10);break;case 3:rs(p,6);break;default:rs(p,2)}}}function Ed(p,_){let w=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(w*=2),w*_}function rs(p,_){if(p.j.info("Error code "+_),_==2){var w=E(p.fb,p),O=p.Xa;const J=!O;O=new Zi(O||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ca(O,"https"),No(O),J?dp(O.toString(),w):Oo(O.toString(),w)}else qt(2);p.G=0,p.l&&p.l.sa(_),_p(p),pp(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function _p(p){if(p.G=0,p.ka=[],p.l){const _=$n(p.h);(_.length!=0||p.i.length!=0)&&(x(p.ka,_),x(p.ka,p.i),p.h.i.length=0,k(p.i),p.i.length=0),p.l.ra()}}function Ep(p,_,w){var O=w instanceof Zi?Lt(w):new Zi(w);if(O.g!="")_&&(O.g=_+"."+O.g),xo(O,O.s);else{var J=c.location;O=J.protocol,_=_?_+"."+J.hostname:J.hostname,J=+J.port;var ie=new Zi(null);O&&ca(ie,O),_&&(ie.g=_),J&&xo(ie,J),w&&(ie.l=w),O=ie}return w=p.D,_=p.ya,w&&_&&ot(O,w,_),ot(O,"VER",p.la),Vo(p,O),O}function wp(p,_,w){if(_&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=p.Ca&&!p.pa?new dt(new fa({eb:w})):new dt(p.pa),_.Ha(p.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tp(){}n=Tp.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function fu(){}fu.prototype.g=function(p,_){return new qn(p,_)};function qn(p,_){Ae.call(this),this.g=new lu(_),this.l=p,this.h=_&&_.messageUrlParams||null,p=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(p?p["X-WebChannel-Content-Type"]=_.messageContentType:p={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(p?p["X-WebChannel-Client-Profile"]=_.va:p={"X-WebChannel-Client-Profile":_.va}),this.g.S=p,(p=_&&_.Sb)&&!$(p)&&(this.g.m=p),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!$(_)&&(this.g.D=_,p=this.h,p!==null&&_ in p&&(p=this.h,_ in p&&delete p[_])),this.j=new wi(this)}A(qn,Ae),qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qn.prototype.close=function(){yd(this.g)},qn.prototype.o=function(p){var _=this.g;if(typeof p=="string"){var w={};w.__data__=p,p=w}else this.u&&(w={},w.__data__=Io(p),p=w);_.i.push(new sv(_.Ya++,p)),_.G==3&&cu(_)},qn.prototype.N=function(){this.g.l=null,delete this.j,yd(this.g),delete this.g,qn.aa.N.call(this)};function bp(p){Js.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var _=p.__sm__;if(_){e:{for(const w in _){p=w;break e}p=void 0}(this.i=p)&&(p=this.i,_=_!==null&&p in _?_[p]:void 0),this.data=_}else this.data=p}A(bp,Js);function Sp(){ni.call(this),this.status=1}A(Sp,ni);function wi(p){this.g=p}A(wi,Tp),wi.prototype.ua=function(){nt(this.g,"a")},wi.prototype.ta=function(p){nt(this.g,new bp(p))},wi.prototype.sa=function(p){nt(this.g,new Sp)},wi.prototype.ra=function(){nt(this.g,"b")},fu.prototype.createWebChannel=fu.prototype.g,qn.prototype.send=qn.prototype.o,qn.prototype.open=qn.prototype.m,qn.prototype.close=qn.prototype.close,RP=function(){return new fu},AP=function(){return Zl()},IP=Cr,Dw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nn.NO_ERROR=0,nn.TIMEOUT=8,nn.HTTP_ERROR=6,Ym=nn,Yi.COMPLETE="complete",SP=Yi,ip.EventType=hi,hi.OPEN="a",hi.CLOSE="b",hi.ERROR="c",hi.MESSAGE="d",Ae.prototype.listen=Ae.prototype.K,xf=ip,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,bP=dt}).apply(typeof Am<"u"?Am:typeof self<"u"?self:typeof window<"u"?window:{});const VC="@firebase/firestore",LC="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qc="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=new kh("@firebase/firestore");function Qu(){return io.logLevel}function DH(n){io.setLogLevel(n)}function fe(n,...e){if(io.logLevel<=Ye.DEBUG){const t=e.map(bb);io.debug(`Firestore (${Qc}): ${n}`,...t)}}function Gt(n,...e){if(io.logLevel<=Ye.ERROR){const t=e.map(bb);io.error(`Firestore (${Qc}): ${n}`,...t)}}function $i(n,...e){if(io.logLevel<=Ye.WARN){const t=e.map(bb);io.warn(`Firestore (${Qc}): ${n}`,...t)}}function bb(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n="Unexpected state"){const e=`FIRESTORE (${Qc}) INTERNAL ASSERTION FAILED: `+n;throw Gt(e),new Error(e)}function Ie(n,e){n||Te()}function PH(n,e){n||Te()}function Ee(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends On{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(_n.UNAUTHENTICATED))}shutdown(){}}class MH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class VH{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ie(this.o===void 0);let r=this.i;const i=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Dn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Dn,e.enqueueRetryable(()=>i(this.currentUser))};const u=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},c=f=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Dn)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string"),new CP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string"),new _n(e)}}class LH{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class jH{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new LH(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(_n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UH{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,St(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ie(this.o===void 0);const r=o=>{o.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.R;return this.R=o.token,fe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new jC(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ie(typeof t.token=="string"),this.R=t.token,new jC(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BH(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=BH(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function Ue(n,e){return n<e?-1:n>e?1:0}function Ec(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function NP(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=-62135596800,BC=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*BC);return new Ct(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<UC)throw new ce(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BC}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-UC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Ct(0,0))}static max(){return new Ce(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="__name__";class xi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Te(),r===void 0?r=e.length-t:r>e.length-t&&Te(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=xi.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=xi.isNumericId(e),i=xi.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?xi.extractNumericId(e).compare(xi.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wa.fromString(e.substring(4,e.length-2))}}class Je extends xi{construct(e,t,r){return new Je(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Je(t)}static emptyPath(){return new Je([])}}const FH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class It extends xi{construct(e,t,r){return new It(e,t,r)}static isValidIdentifier(e){return FH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),It.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===FC}static keyField(){return new It([FC])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ce(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new ce(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ce(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else c==="`"?(u=!u,i++):c!=="."||u?(r+=c,i++):(o(),i++)}if(o(),u)throw new ce(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new It(t)}static emptyPath(){return new It([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(Je.fromString(e))}static fromName(e){return new _e(Je.fromString(e).popFirst(5))}static empty(){return new _e(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new Je(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=-1;class Og{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Pw(n){return n.fields.find(e=>e.kind===2)}function sl(n){return n.fields.filter(e=>e.kind!==2)}Og.UNKNOWN_ID=-1;class Xm{constructor(e,t){this.fieldPath=e,this.kind=t}}class lh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new lh(0,Ir.min())}}function OP(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ce.fromTimestamp(r===1e9?new Ct(t+1,0):new Ct(t,r));return new Ir(i,_e.empty(),e)}function DP(n){return new Ir(n.readTime,n.key,wc)}class Ir{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ir(Ce.min(),_e.empty(),wc)}static max(){return new Ir(Ce.max(),_e.empty(),wc)}}function Sb(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:Ue(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==PP)throw n;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,r)=>{t(e)})}static reject(e){return new ee((t,r)=>{r(e)})}static waitFor(e){return new ee((t,r)=>{let i=0,o=0,u=!1;e.forEach(c=>{++i,c.next(()=>{++o,u&&o===i&&t()},f=>r(f))}),u=!0,o===i&&t()})}static or(e){let t=ee.resolve(!1);for(const r of e)t=t.next(i=>i?ee.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new ee((r,i)=>{const o=e.length,u=new Array(o);let c=0;for(let f=0;f<o;f++){const h=f;t(e[h]).next(g=>{u[h]=g,++c,c===o&&r(u)},g=>i(g))}})}static doWhile(e,t){return new ee((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="SimpleDb";class Ny{static open(e,t,r,i){try{return new Ny(t,e.transaction(i,r))}catch(o){throw new qf(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.m=new Dn,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{t.error?this.m.reject(new qf(e,t.error)):this.m.resolve()},this.transaction.onerror=r=>{const i=Ib(r.target.error);this.m.reject(new qf(e,i))}}get p(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(fe(vr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}S(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new $H(t)}}class Ui{static delete(e){return fe(vr,"Removing database:",e),ol(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!pc())return!1;if(Ui.v())return!0;const e=Mt(),t=Ui.C(e),r=0<t&&t<10,i=MP(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,t){return e.store(t)}static C(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.O=r,Ui.C(Mt())===12.2&&Gt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async N(e){return this.db||(fe(vr,"Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const u=o.target.result;t(u)},i.onblocked=()=>{r(new qf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const u=o.target.error;u.name==="VersionError"?r(new ce(re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?r(new ce(re.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):r(new qf(e,u))},i.onupgradeneeded=o=>{fe(vr,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const u=o.target.result;this.O.B(u,i.transaction,o.oldVersion,this.version).next(()=>{fe(vr,"Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=t=>this.L(t)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const o=t==="readonly";let u=0;for(;;){++u;try{this.db=await this.N(e);const c=Ny.open(this.db,e,o?"readonly":"readwrite",r),f=i(c).next(h=>(c.S(),h)).catch(h=>(c.abort(h),ee.reject(h))).toPromise();return f.catch(()=>{}),await c.p,f}catch(c){const f=c,h=f.name!=="FirebaseError"&&u<3;if(fe(vr,"Transaction failed with error:",f.message,"Retrying:",h),this.close(),!h)return Promise.reject(f)}}}close(){this.db&&this.db.close(),this.db=void 0}}function MP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class zH{constructor(e){this.q=e,this.$=!1,this.K=null}get isDone(){return this.$}get U(){return this.K}set cursor(e){this.q=e}done(){this.$=!0}W(e){this.K=e}delete(){return ol(this.q.delete())}}class qf extends ce{constructor(e,t){super(re.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Eo(n){return n.name==="IndexedDbTransactionError"}class $H{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(fe(vr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(fe(vr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ol(r)}add(e){return fe(vr,"ADD",this.store.name,e,e),ol(this.store.add(e))}get(e){return ol(this.store.get(e)).next(t=>(t===void 0&&(t=null),fe(vr,"GET",this.store.name,e,t),t))}delete(e){return fe(vr,"DELETE",this.store.name,e),ol(this.store.delete(e))}count(){return fe(vr,"COUNT",this.store.name),ol(this.store.count())}G(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new ee((u,c)=>{o.onerror=f=>{c(f.target.error)},o.onsuccess=f=>{u(f.target.result)}})}{const o=this.cursor(r),u=[];return this.j(o,(c,f)=>{u.push(f)}).next(()=>u)}}H(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new ee((i,o)=>{r.onerror=u=>{o(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}J(e,t){fe(vr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.j(i,(o,u,c)=>c.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.j(i,t)}X(e){const t=this.cursor({});return new ee((r,i)=>{t.onerror=o=>{const u=Ib(o.target.error);i(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next(c=>{c?u.continue():r()}):r()}})}j(e,t){const r=[];return new ee((i,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const c=u.target.result;if(!c)return void i();const f=new zH(c),h=t(c.primaryKey,c.value,f);if(h instanceof ee){const g=h.catch(v=>(f.done(),ee.reject(v)));r.push(g)}f.isDone?i():f.U===null?c.continue():c.continue(f.U)}}).next(()=>ee.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ol(n){return new ee((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=Ib(r.target.error);t(i)}})}let zC=!1;function Ib(n){const e=Ui.C(Mt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ce("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return zC||(zC=!0,setTimeout(()=>{throw r},0)),r}}return n}const Hf="IndexBackfiller";class qH{constructor(e,t){this.asyncQueue=e,this.ee=t,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}te(e){fe(Hf,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.ee.ne();fe(Hf,`Documents written: ${t}`)}catch(t){Eo(t)?fe(Hf,"Ignoring IndexedDB error during index backfill: ",t):await _o(t)}await this.te(6e4)})}}class HH{constructor(e,t){this.localStore=e,this.persistence=t}async ne(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.re(t,e))}re(e,t){const r=new Set;let i=t,o=!0;return ee.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(u!==null&&!r.has(u))return fe(Hf,`Processing collection: ${u}`),this.ie(e,u,i).next(c=>{i-=c,r.add(u)});o=!1})).next(()=>t-i)}ie(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.se(i,o)).next(c=>(fe(Hf,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,t,c))).next(()=>u.size)}))}se(e,t){let r=e;return t.changes.forEach((i,o)=>{const u=DP(o);Sb(u,r)>0&&(r=u)}),new Ir(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}rr.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=-1;function zh(n){return n==null}function uh(n){return n===0&&1/n==-1/0}function VP(n){return typeof n=="number"&&Number.isInteger(n)&&!uh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="";function Bn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=$C(e)),e=GH(n.get(t),e);return $C(e)}function GH(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case Dg:t+="";break;default:t+=o}}return t}function $C(n){return n+Dg+""}function Mi(n){const e=n.length;if(Ie(e>=2),e===2)return Ie(n.charAt(0)===Dg&&n.charAt(1)===""),Je.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const u=n.indexOf(Dg,o);switch((u<0||u>t)&&Te(),n.charAt(u+1)){case"":const c=n.substring(o,u);let f;i.length===0?f=c:(i+=c,f=i,i=""),r.push(f);break;case"":i+=n.substring(o,u),i+="\0";break;case"":i+=n.substring(o,u+1);break;default:Te()}o=u+2}return new Je(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al="remoteDocuments",$h="owner",Fu="owner",ch="mutationQueues",KH="userId",li="mutations",qC="batchId",ml="userMutationsIndex",HC=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(n,e){return[n,Bn(e)]}function LP(n,e,t){return[n,Bn(e),t]}const WH={},Tc="documentMutations",Pg="remoteDocumentsV14",QH=["prefixPath","collectionGroup","readTime","documentId"],Jm="documentKeyIndex",YH=["prefixPath","collectionGroup","documentId"],jP="collectionGroupIndex",XH=["collectionGroup","readTime","prefixPath","documentId"],dh="remoteDocumentGlobal",kw="remoteDocumentGlobalKey",bc="targets",UP="queryTargetsIndex",ZH=["canonicalId","targetId"],Sc="targetDocuments",JH=["targetId","path"],Ab="documentTargetsIndex",e8=["path","targetId"],kg="targetGlobalKey",wl="targetGlobal",fh="collectionParents",t8=["collectionId","parent"],Ic="clientMetadata",n8="clientId",Oy="bundles",r8="bundleId",Dy="namedQueries",i8="name",Rb="indexConfiguration",s8="indexId",Mw="collectionGroupIndex",a8="collectionGroup",Mg="indexState",o8=["indexId","uid"],BP="sequenceNumberIndex",l8=["uid","sequenceNumber"],Vg="indexEntries",u8=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],FP="documentKeyIndex",c8=["indexId","uid","orderedDocumentKey"],Py="documentOverlays",d8=["userId","collectionPath","documentId"],Vw="collectionPathOverlayIndex",f8=["userId","collectionPath","largestBatchId"],zP="collectionGroupOverlayIndex",h8=["userId","collectionGroup","largestBatchId"],Cb="globals",p8="name",$P=[ch,li,Tc,al,bc,$h,wl,Sc,Ic,dh,fh,Oy,Dy],m8=[...$P,Py],qP=[ch,li,Tc,Pg,bc,$h,wl,Sc,Ic,dh,fh,Oy,Dy,Py],HP=qP,xb=[...HP,Rb,Mg,Vg],g8=xb,y8=[...xb,Cb];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw extends kP{constructor(e,t){super(),this.ue=e,this.currentSequenceNumber=t}}function un(n,e){const t=Ee(n);return Ui.M(t.ue,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function wo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function GP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,t){this.comparator=e,this.root=t||xn.EMPTY}insert(e,t){return new Et(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rm(this.root,e,this.comparator,!0)}}class Rm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xn{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??xn.RED,this.left=i??xn.EMPTY,this.right=o??xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new xn(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return xn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1;xn.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,t,r,i,o){return this}insert(e,t,r){return new xn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new KC(this.data.getIterator())}getIteratorFrom(e){return new KC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ht)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ht(this.comparator);return t.data=e,t}}class KC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function zu(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.fields=e,e.sort(It.comparator)}static empty(){return new ir([])}unionWith(e){let t=new ht(It.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ir(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ec(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v8(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new KP("Invalid base64 string: "+o):o}}(e);return new Ft(t)}static fromUint8Array(e){const t=function(i){let o="";for(let u=0;u<i.length;++u)o+=String.fromCharCode(i[u]);return o}(e);return new Ft(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const _8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(n){if(Ie(!!n),typeof n=="string"){let e=0;const t=_8.exec(n);if(Ie(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bt(n.seconds),nanos:bt(n.nanos)}}function bt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ls(n){return typeof n=="string"?Ft.fromBase64String(n):Ft.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP="server_timestamp",QP="__type__",YP="__previous_value__",XP="__local_write_time__";function ky(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[QP])===null||t===void 0?void 0:t.stringValue)===WP}function My(n){const e=n.mapValue.fields[YP];return ky(e)?My(e):e}function hh(n){const e=Vs(n.mapValue.fields[XP].timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(e,t,r,i,o,u,c,f,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=h}}const jw="(default)";class so{constructor(e,t){this.projectId=e,this.database=t||jw}static empty(){return new so("","")}get isDefaultDatabase(){return this.database===jw}isEqual(e){return e instanceof so&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="__type__",ZP="__max__",qa={mapValue:{fields:{__type__:{stringValue:ZP}}}},Ob="__vector__",Ac="value",eg={nullValue:"NULL_VALUE"};function ao(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ky(n)?4:JP(n)?9007199254740991:Vy(n)?10:11:Te()}function qi(n,e){if(n===e)return!0;const t=ao(n);if(t!==ao(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hh(n).isEqual(hh(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const u=Vs(i.timestampValue),c=Vs(o.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Ls(i.bytesValue).isEqual(Ls(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return bt(i.geoPointValue.latitude)===bt(o.geoPointValue.latitude)&&bt(i.geoPointValue.longitude)===bt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return bt(i.integerValue)===bt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const u=bt(i.doubleValue),c=bt(o.doubleValue);return u===c?uh(u)===uh(c):isNaN(u)&&isNaN(c)}return!1}(n,e);case 9:return Ec(n.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return function(i,o){const u=i.mapValue.fields||{},c=o.mapValue.fields||{};if(GC(u)!==GC(c))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(c[f]===void 0||!qi(u[f],c[f])))return!1;return!0}(n,e);default:return Te()}}function ph(n,e){return(n.values||[]).find(t=>qi(t,e))!==void 0}function oo(n,e){if(n===e)return 0;const t=ao(n),r=ao(e);if(t!==r)return Ue(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(n.booleanValue,e.booleanValue);case 2:return function(o,u){const c=bt(o.integerValue||o.doubleValue),f=bt(u.integerValue||u.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return WC(n.timestampValue,e.timestampValue);case 4:return WC(hh(n),hh(e));case 5:return Ue(n.stringValue,e.stringValue);case 6:return function(o,u){const c=Ls(o),f=Ls(u);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const c=o.split("/"),f=u.split("/");for(let h=0;h<c.length&&h<f.length;h++){const g=Ue(c[h],f[h]);if(g!==0)return g}return Ue(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const c=Ue(bt(o.latitude),bt(u.latitude));return c!==0?c:Ue(bt(o.longitude),bt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return QC(n.arrayValue,e.arrayValue);case 10:return function(o,u){var c,f,h,g;const v=o.fields||{},E=u.fields||{},S=(c=v[Ac])===null||c===void 0?void 0:c.arrayValue,A=(f=E[Ac])===null||f===void 0?void 0:f.arrayValue,k=Ue(((h=S==null?void 0:S.values)===null||h===void 0?void 0:h.length)||0,((g=A==null?void 0:A.values)===null||g===void 0?void 0:g.length)||0);return k!==0?k:QC(S,A)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===qa.mapValue&&u===qa.mapValue)return 0;if(o===qa.mapValue)return 1;if(u===qa.mapValue)return-1;const c=o.fields||{},f=Object.keys(c),h=u.fields||{},g=Object.keys(h);f.sort(),g.sort();for(let v=0;v<f.length&&v<g.length;++v){const E=Ue(f[v],g[v]);if(E!==0)return E;const S=oo(c[f[v]],h[g[v]]);if(S!==0)return S}return Ue(f.length,g.length)}(n.mapValue,e.mapValue);default:throw Te()}}function WC(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ue(n,e);const t=Vs(n),r=Vs(e),i=Ue(t.seconds,r.seconds);return i!==0?i:Ue(t.nanos,r.nanos)}function QC(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=oo(t[i],r[i]);if(o)return o}return Ue(t.length,r.length)}function Rc(n){return Uw(n)}function Uw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Vs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ls(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=Uw(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const u of r)o?o=!1:i+=",",i+=`${u}:${Uw(t.fields[u])}`;return i+"}"}(n.mapValue):Te()}function tg(n){switch(ao(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=My(n);return e?16+tg(e):16;case 5:return 2*n.stringValue.length;case 6:return Ls(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+tg(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return wo(r.fields,(o,u)=>{i+=o.length+tg(u)}),i}(n.mapValue);default:throw Te()}}function Pl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Bw(n){return!!n&&"integerValue"in n}function mh(n){return!!n&&"arrayValue"in n}function YC(n){return!!n&&"nullValue"in n}function XC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ng(n){return!!n&&"mapValue"in n}function Vy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Nb])===null||t===void 0?void 0:t.stringValue)===Ob}function Gf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return wo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Gf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Gf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function JP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===ZP}const ek={mapValue:{fields:{[Nb]:{stringValue:Ob},[Ac]:{arrayValue:{}}}}};function w8(n){return"nullValue"in n?eg:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Pl(so.empty(),_e.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Vy(n)?ek:{mapValue:{}}:Te()}function T8(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Pl(so.empty(),_e.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?ek:"mapValue"in n?Vy(n)?{mapValue:{}}:qa:Te()}function ZC(n,e){const t=oo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function JC(n,e){const t=oo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ng(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gf(t)}setAll(e){let t=It.emptyPath(),r={},i=[];e.forEach((u,c)=>{if(!t.isImmediateParentOf(c)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=c.popLast()}u?r[c.lastSegment()]=Gf(u):i.push(c.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());ng(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];ng(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){wo(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Nn(Gf(this.value))}}function tk(n){const e=[];return wo(n.fields,(t,r)=>{const i=new It([t]);if(ng(r)){const o=tk(r.mapValue).fields;if(o.length===0)e.push(i);else for(const u of o)e.push(i.child(u))}else e.push(i)}),new ir(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,t,r,i,o,u,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=u,this.documentState=c}static newInvalidDocument(e){return new Tt(e,0,Ce.min(),Ce.min(),Ce.min(),Nn.empty(),0)}static newFoundDocument(e,t,r,i){return new Tt(e,1,t,Ce.min(),r,i,0)}static newNoDocument(e,t){return new Tt(e,2,t,Ce.min(),Ce.min(),Nn.empty(),0)}static newUnknownDocument(e,t){return new Tt(e,3,t,Ce.min(),Ce.min(),Nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,t){this.position=e,this.inclusive=t}}function e1(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],u=n.position[i];if(o.field.isKeyField()?r=_e.comparator(_e.fromName(u.referenceValue),t.key):r=oo(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function t1(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!qi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,t="asc"){this.field=e,this.dir=t}}function b8(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{}class et extends nk{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new S8(e,t,r):t==="array-contains"?new R8(e,r):t==="in"?new lk(e,r):t==="not-in"?new C8(e,r):t==="array-contains-any"?new x8(e,r):new et(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new I8(e,r):new A8(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(oo(t,this.value)):t!==null&&ao(this.value)===ao(t)&&this.matchesComparison(oo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ft extends nk{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ft(e,t)}matches(e){return Cc(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Cc(n){return n.op==="and"}function Fw(n){return n.op==="or"}function Db(n){return rk(n)&&Cc(n)}function rk(n){for(const e of n.filters)if(e instanceof ft)return!1;return!0}function zw(n){if(n instanceof et)return n.field.canonicalString()+n.op.toString()+Rc(n.value);if(Db(n))return n.filters.map(e=>zw(e)).join(",");{const e=n.filters.map(t=>zw(t)).join(",");return`${n.op}(${e})`}}function ik(n,e){return n instanceof et?function(r,i){return i instanceof et&&r.op===i.op&&r.field.isEqual(i.field)&&qi(r.value,i.value)}(n,e):n instanceof ft?function(r,i){return i instanceof ft&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,u,c)=>o&&ik(u,i.filters[c]),!0):!1}(n,e):void Te()}function sk(n,e){const t=n.filters.concat(e);return ft.create(t,n.op)}function ak(n){return n instanceof et?function(t){return`${t.field.canonicalString()} ${t.op} ${Rc(t.value)}`}(n):n instanceof ft?function(t){return t.op.toString()+" {"+t.getFilters().map(ak).join(" ,")+"}"}(n):"Filter"}class S8 extends et{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class I8 extends et{constructor(e,t){super(e,"in",t),this.keys=ok("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class A8 extends et{constructor(e,t){super(e,"not-in",t),this.keys=ok("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ok(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>_e.fromName(r.referenceValue))}class R8 extends et{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return mh(t)&&ph(t.arrayValue,this.value)}}class lk extends et{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ph(this.value.arrayValue,t)}}class C8 extends et{constructor(e,t){super(e,"not-in",t)}matches(e){if(ph(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!ph(this.value.arrayValue,t)}}class x8 extends et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!mh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ph(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(e,t=null,r=[],i=[],o=null,u=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=u,this.endAt=c,this.le=null}}function $w(n,e=null,t=[],r=[],i=null,o=null,u=null){return new N8(n,e,t,r,i,o,u)}function kl(n){const e=Ee(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>zw(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),zh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Rc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Rc(r)).join(",")),e.le=t}return e.le}function qh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!b8(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ik(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!t1(n.startAt,e.startAt)&&t1(n.endAt,e.endAt)}function Lg(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function jg(n,e){return n.filters.filter(t=>t instanceof et&&t.field.isEqual(e))}function n1(n,e,t){let r=eg,i=!0;for(const o of jg(n,e)){let u=eg,c=!0;switch(o.op){case"<":case"<=":u=w8(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,c=!1;break;case"!=":case"not-in":u=eg}ZC({value:r,inclusive:i},{value:u,inclusive:c})<0&&(r=u,i=c)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];ZC({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}}return{value:r,inclusive:i}}function r1(n,e,t){let r=qa,i=!0;for(const o of jg(n,e)){let u=qa,c=!0;switch(o.op){case">=":case">":u=T8(o.value),c=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,c=!1;break;case"!=":case"not-in":u=qa}JC({value:r,inclusive:i},{value:u,inclusive:c})>0&&(r=u,i=c)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];JC({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,t=null,r=[],i=[],o=null,u="F",c=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=u,this.startAt=c,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function uk(n,e,t,r,i,o,u,c){return new Gs(n,e,t,r,i,o,u,c)}function Yc(n){return new Gs(n)}function i1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Pb(n){return n.collectionGroup!==null}function ac(n){const e=Ee(n);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let c=new ht(It.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new gh(o,r))}),t.has(It.keyField().canonicalString())||e.he.push(new gh(It.keyField(),r))}return e.he}function Yn(n){const e=Ee(n);return e.Pe||(e.Pe=O8(e,ac(n))),e.Pe}function O8(n,e){if(n.limitType==="F")return $w(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new gh(i.field,o)});const t=n.endAt?new lo(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new lo(n.startAt.position,n.startAt.inclusive):null;return $w(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function qw(n,e){const t=n.filters.concat([e]);return new Gs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ug(n,e,t){return new Gs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Hh(n,e){return qh(Yn(n),Yn(e))&&n.limitType===e.limitType}function ck(n){return`${kl(Yn(n))}|lt:${n.limitType}`}function Yu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>ak(i)).join(", ")}]`),zh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Rc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Rc(i)).join(",")),`Target(${r})`}(Yn(n))}; limitType=${n.limitType})`}function Gh(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):_e.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of ac(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(u,c,f){const h=e1(u,c,f);return u.inclusive?h<=0:h<0}(r.startAt,ac(r),i)||r.endAt&&!function(u,c,f){const h=e1(u,c,f);return u.inclusive?h>=0:h>0}(r.endAt,ac(r),i))}(n,e)}function dk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function fk(n){return(e,t)=>{let r=!1;for(const i of ac(n)){const o=D8(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function D8(n,e,t){const r=n.field.isKeyField()?_e.comparator(e.key,t.key):function(o,u,c){const f=u.data.field(o),h=c.data.field(o);return f!==null&&h!==null?oo(f,h):Te()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){wo(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return GP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P8=new Et(_e.comparator);function sr(){return P8}const hk=new Et(_e.comparator);function Nf(...n){let e=hk;for(const t of n)e=e.insert(t.key,t);return e}function pk(n){let e=hk;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Vi(){return Kf()}function mk(){return Kf()}function Kf(){return new Ks(n=>n.toString(),(n,e)=>n.isEqual(e))}const k8=new Et(_e.comparator),M8=new ht(_e.comparator);function $e(...n){let e=M8;for(const t of n)e=e.add(t);return e}const V8=new ht(Ue);function kb(){return V8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(e)?"-0":e}}function gk(n){return{integerValue:""+n}}function yk(n,e){return VP(e)?gk(e):Mb(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(){this._=void 0}}function L8(n,e,t){return n instanceof xc?function(i,o){const u={fields:{[QP]:{stringValue:WP},[XP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ky(o)&&(o=My(o)),o&&(u.fields[YP]=o),{mapValue:u}}(t,e):n instanceof Ml?_k(n,e):n instanceof Vl?Ek(n,e):function(i,o){const u=vk(i,o),c=s1(u)+s1(i.Ie);return Bw(u)&&Bw(i.Ie)?gk(c):Mb(i.serializer,c)}(n,e)}function j8(n,e,t){return n instanceof Ml?_k(n,e):n instanceof Vl?Ek(n,e):t}function vk(n,e){return n instanceof Nc?function(r){return Bw(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class xc extends Ly{}class Ml extends Ly{constructor(e){super(),this.elements=e}}function _k(n,e){const t=wk(e);for(const r of n.elements)t.some(i=>qi(i,r))||t.push(r);return{arrayValue:{values:t}}}class Vl extends Ly{constructor(e){super(),this.elements=e}}function Ek(n,e){let t=wk(e);for(const r of n.elements)t=t.filter(i=>!qi(i,r));return{arrayValue:{values:t}}}class Nc extends Ly{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function s1(n){return bt(n.integerValue||n.doubleValue)}function wk(n){return mh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,t){this.field=e,this.transform=t}}function U8(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ml&&i instanceof Ml||r instanceof Vl&&i instanceof Vl?Ec(r.elements,i.elements,qi):r instanceof Nc&&i instanceof Nc?qi(r.Ie,i.Ie):r instanceof xc&&i instanceof xc}(n.transform,e.transform)}class B8{constructor(e,t){this.version=e,this.transformResults=t}}class At{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new At}static exists(e){return new At(void 0,e)}static updateTime(e){return new At(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class jy{}function Tk(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Zc(n.key,At.none()):new Xc(n.key,n.data,At.none());{const t=n.data,r=Nn.empty();let i=new ht(It.comparator);for(let o of e.fields)if(!i.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),i=i.add(o)}return new Ws(n.key,r,new ir(i.toArray()),At.none())}}function F8(n,e,t){n instanceof Xc?function(i,o,u){const c=i.value.clone(),f=o1(i.fieldTransforms,o,u.transformResults);c.setAll(f),o.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Ws?function(i,o,u){if(!rg(i.precondition,o))return void o.convertToUnknownDocument(u.version);const c=o1(i.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(bk(i)),f.setAll(c),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Wf(n,e,t,r){return n instanceof Xc?function(o,u,c,f){if(!rg(o.precondition,u))return c;const h=o.value.clone(),g=l1(o.fieldTransforms,f,u);return h.setAll(g),u.convertToFoundDocument(u.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ws?function(o,u,c,f){if(!rg(o.precondition,u))return c;const h=l1(o.fieldTransforms,f,u),g=u.data;return g.setAll(bk(o)),g.setAll(h),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(o,u,c){return rg(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c}(n,e,t)}function z8(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=vk(r.transform,i||null);o!=null&&(t===null&&(t=Nn.empty()),t.set(r.field,o))}return t||null}function a1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ec(r,i,(o,u)=>U8(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Xc extends jy{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ws extends jy{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function bk(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function o1(n,e,t){const r=new Map;Ie(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],u=o.transform,c=e.data.field(o.field);r.set(o.field,j8(u,c,t[i]))}return r}function l1(n,e,t){const r=new Map;for(const i of n){const o=i.transform,u=t.data.field(i.field);r.set(i.field,L8(o,u,e))}return r}class Zc extends jy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vb extends jy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&F8(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Wf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Wf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=mk();return this.mutations.forEach(i=>{const o=e.get(i.key),u=o.overlayedDocument;let c=this.applyToLocalView(u,o.mutatedFields);c=t.has(i.key)?null:c;const f=Tk(u,c);f!==null&&r.set(i.key,f),u.isValidDocument()||u.convertToNoDocument(Ce.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),$e())}isEqual(e){return this.batchId===e.batchId&&Ec(this.mutations,e.mutations,(t,r)=>a1(t,r))&&Ec(this.baseMutations,e.baseMutations,(t,r)=>a1(t,r))}}class jb{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ie(e.mutations.length===r.length);let i=function(){return k8}();const o=e.mutations;for(let u=0;u<o.length;u++)i=i.insert(o[u].key,r[u].version);return new jb(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt,at;function Sk(n){switch(n){case re.OK:return Te();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Te()}}function Ik(n){if(n===void 0)return Gt("GRPC error has no .code"),re.UNKNOWN;switch(n){case Zt.OK:return re.OK;case Zt.CANCELLED:return re.CANCELLED;case Zt.UNKNOWN:return re.UNKNOWN;case Zt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Zt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Zt.INTERNAL:return re.INTERNAL;case Zt.UNAVAILABLE:return re.UNAVAILABLE;case Zt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Zt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Zt.NOT_FOUND:return re.NOT_FOUND;case Zt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Zt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Zt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Zt.ABORTED:return re.ABORTED;case Zt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Zt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Zt.DATA_LOSS:return re.DATA_LOSS;default:return Te()}}(at=Zt||(Zt={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8=new Wa([4294967295,4294967295],0);function u1(n){const e=Ak().encode(n),t=new TP;return t.update(e),new Uint8Array(t.digest())}function c1(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Wa([t,r],0),new Wa([i,o],0)]}class Bb{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Of(`Invalid padding: ${t}`);if(r<0)throw new Of(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Of(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Of(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Wa.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(Wa.fromNumber(r)));return i.compare(q8)===1&&(i=new Wa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=u1(e),[r,i]=c1(t);for(let o=0;o<this.hashCount;o++){const u=this.Ae(r,i,o);if(!this.Re(u))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Bb(o,i,t);return r.forEach(c=>u.insert(c)),u}insert(e){if(this.Ee===0)return;const t=u1(e),[r,i]=c1(t);for(let o=0;o<this.hashCount;o++){const u=this.Ae(r,i,o);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Of extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Qh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Wh(Ce.min(),i,new Et(Ue),sr(),$e())}}class Qh{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Qh(r,t,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class Rk{constructor(e,t){this.targetId=e,this.ge=t}}class Ck{constructor(e,t,r=Ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class d1{constructor(){this.pe=0,this.ye=f1(),this.we=Ft.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=$e(),t=$e(),r=$e();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Te()}}),new Qh(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=f1()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ie(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class H8{constructor(e){this.ke=e,this.qe=new Map,this.Qe=sr(),this.$e=Cm(),this.Ke=Cm(),this.Ue=new Et(Ue)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const o=i.target;if(Lg(o))if(r===0){const u=new _e(o.path);this.ze(t,u,Tt.newNoDocument(u,Ce.min()))}else Ie(r===1);else{const u=this.et(t);if(u!==r){const c=this.tt(e),f=c?this.nt(c,e,u):1;if(f!==0){this.Ye(t);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,h)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let u,c;try{u=Ls(r).toUint8Array()}catch(f){if(f instanceof KP)return $i("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new Bb(u,i,o)}catch(f){return $i(f instanceof Of?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.Ee===0?null:c}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const u=this.ke.it(),c=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.ze(t,o,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((o,u)=>{const c=this.Xe(u);if(c){if(o.current&&Lg(c.target)){const f=new _e(c.target.path);this._t(f).has(u)||this.ut(u,f)||this.ze(u,f,Tt.newNoDocument(f,e))}o.ve&&(t.set(u,o.Fe()),o.Me())}});let r=$e();this.Ke.forEach((o,u)=>{let c=!0;u.forEachWhile(f=>{const h=this.Xe(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.Qe.forEach((o,u)=>u.setReadTime(e));const i=new Wh(e,t,this.Ue,this.Qe,r);return this.Qe=sr(),this.$e=Cm(),this.Ke=Cm(),this.Ue=new Et(Ue),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new d1,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new ht(Ue),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new ht(Ue),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new d1),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Cm(){return new Et(_e.comparator)}function f1(){return new Et(_e.comparator)}const G8={asc:"ASCENDING",desc:"DESCENDING"},K8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},W8={and:"AND",or:"OR"};class Q8{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Hw(n,e){return n.useProto3Json||zh(e)?e:{value:e}}function Oc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xk(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Y8(n,e){return Oc(n,e.toTimestamp())}function Kt(n){return Ie(!!n),Ce.fromTimestamp(function(t){const r=Vs(t);return new Ct(r.seconds,r.nanos)}(n))}function Fb(n,e){return Gw(n,e).canonicalString()}function Gw(n,e){const t=function(i){return new Je(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Nk(n){const e=Je.fromString(n);return Ie(Bk(e)),e}function yh(n,e){return Fb(n.databaseId,e.path)}function Bi(n,e){const t=Nk(e);if(t.get(1)!==n.databaseId.projectId)throw new ce(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ce(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(Pk(t))}function Ok(n,e){return Fb(n.databaseId,e)}function Dk(n){const e=Nk(n);return e.length===4?Je.emptyPath():Pk(e)}function Kw(n){return new Je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Pk(n){return Ie(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function h1(n,e,t){return{name:yh(n,e),fields:t.value.mapValue.fields}}function kk(n,e,t){const r=Bi(n,e.name),i=Kt(e.updateTime),o=e.createTime?Kt(e.createTime):Ce.min(),u=new Nn({mapValue:{fields:e.fields}}),c=Tt.newFoundDocument(r,i,o,u);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function X8(n,e){return"found"in e?function(r,i){Ie(!!i.found),i.found.name,i.found.updateTime;const o=Bi(r,i.found.name),u=Kt(i.found.updateTime),c=i.found.createTime?Kt(i.found.createTime):Ce.min(),f=new Nn({mapValue:{fields:i.found.fields}});return Tt.newFoundDocument(o,u,c,f)}(n,e):"missing"in e?function(r,i){Ie(!!i.missing),Ie(!!i.readTime);const o=Bi(r,i.missing),u=Kt(i.readTime);return Tt.newNoDocument(o,u)}(n,e):Te()}function Z8(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(h,g){return h.useProto3Json?(Ie(g===void 0||typeof g=="string"),Ft.fromBase64String(g||"")):(Ie(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Ft.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,c=u&&function(h){const g=h.code===void 0?re.UNKNOWN:Ik(h.code);return new ce(g,h.message||"")}(u);t=new Ck(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Bi(n,r.document.name),o=Kt(r.document.updateTime),u=r.document.createTime?Kt(r.document.createTime):Ce.min(),c=new Nn({mapValue:{fields:r.document.fields}}),f=Tt.newFoundDocument(i,o,u,c),h=r.targetIds||[],g=r.removedTargetIds||[];t=new ig(h,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Bi(n,r.document),o=r.readTime?Kt(r.readTime):Ce.min(),u=Tt.newNoDocument(i,o),c=r.removedTargetIds||[];t=new ig([],c,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Bi(n,r.document),o=r.removedTargetIds||[];t=new ig([],o,i,null)}else{if(!("filter"in e))return Te();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,u=new $8(i,o),c=r.targetId;t=new Rk(c,u)}}return t}function vh(n,e){let t;if(e instanceof Xc)t={update:h1(n,e.key,e.value)};else if(e instanceof Zc)t={delete:yh(n,e.key)};else if(e instanceof Ws)t={update:h1(n,e.key,e.data),updateMask:i7(e.fieldMask)};else{if(!(e instanceof Vb))return Te();t={verify:yh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const c=u.transform;if(c instanceof xc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ml)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Vl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Nc)return{fieldPath:u.field.canonicalString(),increment:c.Ie};throw Te()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Y8(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Te()}(n,e.precondition)),t}function Ww(n,e){const t=e.currentDocument?function(o){return o.updateTime!==void 0?At.updateTime(Kt(o.updateTime)):o.exists!==void 0?At.exists(o.exists):At.none()}(e.currentDocument):At.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,c){let f=null;if("setToServerValue"in c)Ie(c.setToServerValue==="REQUEST_TIME"),f=new xc;else if("appendMissingElements"in c){const g=c.appendMissingElements.values||[];f=new Ml(g)}else if("removeAllFromArray"in c){const g=c.removeAllFromArray.values||[];f=new Vl(g)}else"increment"in c?f=new Nc(u,c.increment):Te();const h=It.fromServerFormat(c.fieldPath);return new Kh(h,f)}(n,i)):[];if(e.update){e.update.name;const i=Bi(n,e.update.name),o=new Nn({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=function(f){const h=f.fieldPaths||[];return new ir(h.map(g=>It.fromServerFormat(g)))}(e.updateMask);return new Ws(i,o,u,t,r)}return new Xc(i,o,t,r)}if(e.delete){const i=Bi(n,e.delete);return new Zc(i,t)}if(e.verify){const i=Bi(n,e.verify);return new Vb(i,t)}return Te()}function J8(n,e){return n&&n.length>0?(Ie(e!==void 0),n.map(t=>function(i,o){let u=i.updateTime?Kt(i.updateTime):Kt(o);return u.isEqual(Ce.min())&&(u=Kt(o)),new B8(u,i.transformResults||[])}(t,e))):[]}function Mk(n,e){return{documents:[Ok(n,e.path)]}}function Vk(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Ok(n,i);const o=function(h){if(h.length!==0)return Uk(ft.create(h,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(h){if(h.length!==0)return h.map(g=>function(E){return{field:Xu(E.field),direction:t7(E.dir)}}(g))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=Hw(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ht:t,parent:i}}function Lk(n){let e=Dk(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ie(r===1);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(v){const E=jk(v);return E instanceof ft&&Db(E)?E.getFilters():[E]}(t.where));let u=[];t.orderBy&&(u=function(v){return v.map(E=>function(A){return new gh(Zu(A.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(E))}(t.orderBy));let c=null;t.limit&&(c=function(v){let E;return E=typeof v=="object"?v.value:v,zh(E)?null:E}(t.limit));let f=null;t.startAt&&(f=function(v){const E=!!v.before,S=v.values||[];return new lo(S,E)}(t.startAt));let h=null;return t.endAt&&(h=function(v){const E=!v.before,S=v.values||[];return new lo(S,E)}(t.endAt)),uk(e,i,u,o,c,"F",f,h)}function e7(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function jk(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Zu(t.unaryFilter.field);return et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Zu(t.unaryFilter.field);return et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Zu(t.unaryFilter.field);return et.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Zu(t.unaryFilter.field);return et.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(n):n.fieldFilter!==void 0?function(t){return et.create(Zu(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ft.create(t.compositeFilter.filters.map(r=>jk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Te()}}(t.compositeFilter.op))}(n):Te()}function t7(n){return G8[n]}function n7(n){return K8[n]}function r7(n){return W8[n]}function Xu(n){return{fieldPath:n.canonicalString()}}function Zu(n){return It.fromServerFormat(n.fieldPath)}function Uk(n){return n instanceof et?function(t){if(t.op==="=="){if(XC(t.value))return{unaryFilter:{field:Xu(t.field),op:"IS_NAN"}};if(YC(t.value))return{unaryFilter:{field:Xu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(XC(t.value))return{unaryFilter:{field:Xu(t.field),op:"IS_NOT_NAN"}};if(YC(t.value))return{unaryFilter:{field:Xu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xu(t.field),op:n7(t.op),value:t.value}}}(n):n instanceof ft?function(t){const r=t.getFilters().map(i=>Uk(i));return r.length===1?r[0]:{compositeFilter:{op:r7(t.op),filters:r}}}(n):Te()}function i7(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Bk(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,t,r,i,o=Ce.min(),u=Ce.min(),c=Ft.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new As(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e){this.Tt=e}}function s7(n,e){let t;if(e.document)t=kk(n.Tt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=_e.fromSegments(e.noDocument.path),i=jl(e.noDocument.readTime);t=Tt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Te();{const r=_e.fromSegments(e.unknownDocument.path),i=jl(e.unknownDocument.version);t=Tt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const o=new Ct(i[0],i[1]);return Ce.fromTimestamp(o)}(e.readTime)),t}function p1(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Bg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,u){return{name:yh(o,u.key),fields:u.data.value.mapValue.fields,updateTime:Oc(o,u.version.toTimestamp()),createTime:Oc(o,u.createTime.toTimestamp())}}(n.Tt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Ll(e.version)};else{if(!e.isUnknownDocument())return Te();r.unknownDocument={path:t.path.toArray(),version:Ll(e.version)}}return r}function Bg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ll(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function jl(n){const e=new Ct(n.seconds,n.nanoseconds);return Ce.fromTimestamp(e)}function ll(n,e){const t=(e.baseMutations||[]).map(o=>Ww(n.Tt,o));for(let o=0;o<e.mutations.length-1;++o){const u=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const c=e.mutations[o+1];u.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>Ww(n.Tt,o)),i=Ct.fromMillis(e.localWriteTimeMs);return new Lb(e.batchId,i,t,r)}function Df(n){const e=jl(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?jl(n.lastLimboFreeSnapshotVersion):Ce.min();let r;return r=function(o){return o.documents!==void 0}(n.query)?function(o){return Ie(o.documents.length===1),Yn(Yc(Dk(o.documents[0])))}(n.query):function(o){return Yn(Lk(o))}(n.query),new As(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ft.fromBase64String(n.resumeToken))}function zk(n,e){const t=Ll(e.snapshotVersion),r=Ll(e.lastLimboFreeSnapshotVersion);let i;i=Lg(e.target)?Mk(n.Tt,e.target):Vk(n.Tt,e.target).ht;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:kl(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function zb(n){const e=Lk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ug(e,e.limit,"L"):e}function UE(n,e){return new Ub(e.largestBatchId,Ww(n.Tt,e.overlayMutation))}function m1(n,e){const t=e.path.lastSegment();return[n,Bn(e.path.popLast()),t]}function g1(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Ll(r.readTime),documentKey:Bn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{getBundleMetadata(e,t){return y1(e).get(t).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:jl(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,t){return y1(e).put(function(i){return{bundleId:i.id,createTime:Ll(Kt(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return v1(e).get(t).next(r=>{if(r)return function(o){return{name:o.name,query:zb(o.bundledQuery),readTime:jl(o.readTime)}}(r)})}saveNamedQuery(e,t){return v1(e).put(function(i){return{name:i.name,readTime:Ll(Kt(i.readTime)),bundledQuery:i.bundledQuery}}(t))}}function y1(n){return un(n,Oy)}function v1(n){return un(n,Dy)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,t){this.serializer=e,this.userId=t}static It(e,t){const r=t.uid||"";return new Uy(e,r)}getOverlay(e,t){return gf(e).get(m1(this.userId,t)).next(r=>r?UE(this.serializer,r):null)}getOverlays(e,t){const r=Vi();return ee.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,u)=>{const c=new Ub(t,u);i.push(this.Et(e,c))}),ee.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(Bn(u.getCollectionPath())));const o=[];return i.forEach(u=>{const c=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);o.push(gf(e).J(Vw,c))}),ee.waitFor(o)}getOverlaysForCollection(e,t,r){const i=Vi(),o=Bn(t),u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return gf(e).G(Vw,u).next(c=>{for(const f of c){const h=UE(this.serializer,f);i.set(h.getKey(),h)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=Vi();let u;const c=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return gf(e).Z({index:zP,range:c},(f,h,g)=>{const v=UE(this.serializer,h);o.size()<i||v.largestBatchId===u?(o.set(v.getKey(),v),u=v.largestBatchId):g.done()}).next(()=>o)}Et(e,t){return gf(e).put(function(i,o,u){const[c,f,h]=m1(o,u.mutation.key);return{userId:o,collectionPath:f,documentId:h,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:vh(i.Tt,u.mutation)}}(this.serializer,this.userId,t))}}function gf(n){return un(n,Py)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{dt(e){return un(e,Cb)}getSessionToken(e){return this.dt(e).get("sessionToken").next(t=>{const r=t==null?void 0:t.value;return r?Ft.fromUint8Array(r):Ft.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(bt(e.integerValue));else if("doubleValue"in e){const r=bt(e.doubleValue);isNaN(r)?this.ft(t,13):(this.ft(t,15),uh(r)?t.gt(0):t.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(t,20),typeof r=="string"&&(r=Vs(r)),t.yt(`${r.seconds||""}`),t.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt(Ls(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ft(t,45),t.gt(r.latitude||0),t.gt(r.longitude||0)}else"mapValue"in e?JP(e)?this.ft(t,Number.MAX_SAFE_INTEGER):Vy(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):Te()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const r=e.fields||{};this.ft(t,55);for(const i of Object.keys(r))this.wt(i,t),this.Rt(r[i],t)}vt(e,t){var r,i;const o=e.fields||{};this.ft(t,53);const u=Ac,c=((i=(r=o[u].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(t,15),t.gt(bt(c)),this.wt(u,t),this.Rt(o[u],t)}Ft(e,t){const r=e.values||[];this.ft(t,50);for(const i of r)this.Rt(i,t)}Dt(e,t){this.ft(t,37),_e.fromName(e).path.forEach(r=>{this.ft(t,60),this.Mt(r,t)})}ft(e,t){e.gt(t)}St(e){e.gt(2)}}ul.xt=new ul;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=255;function l7(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function _1(n){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const u=l7(255&r[o]);if(i+=u,u!==8)break}return i}(n);return Math.ceil(e/8)}class u7{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ot(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Nt(r.value),r=t.next();this.Bt()}Lt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.kt(r.value),r=t.next();this.qt()}Qt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Nt(r);else if(r<2048)this.Nt(960|r>>>6),this.Nt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Nt(480|r>>>12),this.Nt(128|63&r>>>6),this.Nt(128|63&r);else{const i=t.codePointAt(0);this.Nt(240|i>>>18),this.Nt(128|63&i>>>12),this.Nt(128|63&i>>>6),this.Nt(128|63&i)}}this.Bt()}$t(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.kt(r);else if(r<2048)this.kt(960|r>>>6),this.kt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.kt(480|r>>>12),this.kt(128|63&r>>>6),this.kt(128|63&r);else{const i=t.codePointAt(0);this.kt(240|i>>>18),this.kt(128|63&i>>>12),this.kt(128|63&i>>>6),this.kt(128|63&i)}}this.qt()}Kt(e){const t=this.Ut(e),r=_1(t);this.Wt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Gt(e){const t=this.Ut(e),r=_1(t);this.Wt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}zt(){this.jt($u),this.jt(255)}Ht(){this.Jt($u),this.Jt(255)}reset(){this.position=0}seed(e){this.Wt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Yt(){return this.buffer.slice(0,this.position)}Ut(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Nt(e){const t=255&e;t===0?(this.jt(0),this.jt(255)):t===$u?(this.jt($u),this.jt(0)):this.jt(t)}kt(e){const t=255&e;t===0?(this.Jt(0),this.Jt(255)):t===$u?(this.Jt($u),this.Jt(0)):this.Jt(e)}Bt(){this.jt(0),this.jt(1)}qt(){this.Jt(0),this.Jt(1)}jt(e){this.Wt(1),this.buffer[this.position++]=e}Jt(e){this.Wt(1),this.buffer[this.position++]=~e}Wt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class c7{constructor(e){this.Zt=e}bt(e){this.Zt.Ot(e)}yt(e){this.Zt.Qt(e)}gt(e){this.Zt.Kt(e)}Vt(){this.Zt.zt()}}class d7{constructor(e){this.Zt=e}bt(e){this.Zt.Lt(e)}yt(e){this.Zt.$t(e)}gt(e){this.Zt.Gt(e)}Vt(){this.Zt.Ht()}}class yf{constructor(){this.Zt=new u7,this.Xt=new c7(this.Zt),this.en=new d7(this.Zt)}seed(e){this.Zt.seed(e)}tn(e){return e===0?this.Xt:this.en}Yt(){return this.Zt.Yt()}reset(){this.Zt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}nn(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new cl(this.indexId,this.documentKey,this.arrayValue,r)}}function Ma(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=E1(n.arrayValue,e.arrayValue),t!==0?t:(t=E1(n.directionalValue,e.directionalValue),t!==0?t:_e.comparator(n.documentKey,e.documentKey)))}function E1(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e){this.rn=new ht((t,r)=>It.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.sn=e.orderBy,this._n=[];for(const t of e.filters){const r=t;r.isInequality()?this.rn=this.rn.add(r):this._n.push(r)}}get an(){return this.rn.size>1}un(e){if(Ie(e.collectionGroup===this.collectionId),this.an)return!1;const t=Pw(e);if(t!==void 0&&!this.cn(t))return!1;const r=sl(e);let i=new Set,o=0,u=0;for(;o<r.length&&this.cn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.rn.size>0){const c=this.rn.getIterator().getNext();if(!i.has(c.field.canonicalString())){const f=r[o];if(!this.ln(c,f)||!this.hn(this.sn[u++],f))return!1}++o}for(;o<r.length;++o){const c=r[o];if(u>=this.sn.length||!this.hn(this.sn[u++],c))return!1}return!0}Pn(){if(this.an)return null;let e=new ht(It.comparator);const t=[];for(const r of this._n)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new Xm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Xm(r.field,0))}for(const r of this.sn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Xm(r.field,r.dir==="asc"?0:1)));return new Og(Og.UNKNOWN_ID,this.collectionId,t,lh.empty())}cn(e){for(const t of this._n)if(this.ln(t,e))return!0;return!1}ln(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}hn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(n){var e,t;if(Ie(n instanceof et||n instanceof ft),n instanceof et){if(n instanceof lk){const i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>et.create(n.field,"==",o)))||[];return ft.create(i,"or")}return n}const r=n.filters.map(i=>$k(i));return ft.create(r,n.op)}function f7(n){if(n.getFilters().length===0)return[];const e=Xw($k(n));return Ie(qk(e)),Qw(e)||Yw(e)?[e]:e.getFilters()}function Qw(n){return n instanceof et}function Yw(n){return n instanceof ft&&Db(n)}function qk(n){return Qw(n)||Yw(n)||function(t){if(t instanceof ft&&Fw(t)){for(const r of t.getFilters())if(!Qw(r)&&!Yw(r))return!1;return!0}return!1}(n)}function Xw(n){if(Ie(n instanceof et||n instanceof ft),n instanceof et)return n;if(n.filters.length===1)return Xw(n.filters[0]);const e=n.filters.map(r=>Xw(r));let t=ft.create(e,n.op);return t=Fg(t),qk(t)?t:(Ie(t instanceof ft),Ie(Cc(t)),Ie(t.filters.length>1),t.filters.reduce((r,i)=>$b(r,i)))}function $b(n,e){let t;return Ie(n instanceof et||n instanceof ft),Ie(e instanceof et||e instanceof ft),t=n instanceof et?e instanceof et?function(i,o){return ft.create([i,o],"and")}(n,e):T1(n,e):e instanceof et?T1(e,n):function(i,o){if(Ie(i.filters.length>0&&o.filters.length>0),Cc(i)&&Cc(o))return sk(i,o.getFilters());const u=Fw(i)?i:o,c=Fw(i)?o:i,f=u.filters.map(h=>$b(h,c));return ft.create(f,"or")}(n,e),Fg(t)}function T1(n,e){if(Cc(e))return sk(e,n.getFilters());{const t=e.filters.map(r=>$b(n,r));return ft.create(t,"or")}}function Fg(n){if(Ie(n instanceof et||n instanceof ft),n instanceof et)return n;const e=n.getFilters();if(e.length===1)return Fg(e[0]);if(rk(n))return n;const t=e.map(i=>Fg(i)),r=[];return t.forEach(i=>{i instanceof et?r.push(i):i instanceof ft&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:ft.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(){this.Tn=new qb}addToCollectionParentIndex(e,t){return this.Tn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(Ir.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(Ir.min())}updateCollectionGroup(e,t,r){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class qb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ht(Je.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ht(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="IndexedDbIndexManager",xm=new Uint8Array(0);class p7{constructor(e,t){this.databaseId=t,this.In=new qb,this.En=new Ks(r=>kl(r),(r,i)=>qh(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.In.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.In.add(t)});const o={collectionId:r,parent:Bn(i)};return S1(e).put(o)}return ee.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[NP(t),""],!1,!0);return S1(e).G(i).next(o=>{for(const u of o){if(u.collectionId!==t)break;r.push(Mi(u.parent))}return r})}addFieldIndex(e,t){const r=vf(e),i=function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])}}(t);delete i.indexId;const o=r.add(i);if(t.indexState){const u=Hu(e);return o.next(c=>{u.put(g1(c,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=vf(e),i=Hu(e),o=qu(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=vf(e),r=qu(e),i=Hu(e);return t.J().next(()=>r.J()).next(()=>i.J())}createTargetIndexes(e,t){return ee.forEach(this.dn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new w1(r).Pn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const r=qu(e);let i=!0;const o=new Map;return ee.forEach(this.dn(t),u=>this.An(e,u).next(c=>{i&&(i=!!c),o.set(u,c)})).next(()=>{if(i){let u=$e();const c=[];return ee.forEach(o,(f,h)=>{fe(b1,`Using index ${function(B){return`id=${B.indexId}|cg=${B.collectionGroup}|f=${B.fields.map(Q=>`${Q.fieldPath}:${Q.kind}`).join(",")}`}(f)} to execute ${kl(t)}`);const g=function(B,Q){const H=Pw(Q);if(H===void 0)return null;for(const X of jg(B,H.fieldPath))switch(X.op){case"array-contains-any":return X.value.arrayValue.values||[];case"array-contains":return[X.value]}return null}(h,f),v=function(B,Q){const H=new Map;for(const X of sl(Q))for(const D of jg(B,X.fieldPath))switch(D.op){case"==":case"in":H.set(X.fieldPath.canonicalString(),D.value);break;case"not-in":case"!=":return H.set(X.fieldPath.canonicalString(),D.value),Array.from(H.values())}return null}(h,f),E=function(B,Q){const H=[];let X=!0;for(const D of sl(Q)){const N=D.kind===0?n1(B,D.fieldPath,B.startAt):r1(B,D.fieldPath,B.startAt);H.push(N.value),X&&(X=N.inclusive)}return new lo(H,X)}(h,f),S=function(B,Q){const H=[];let X=!0;for(const D of sl(Q)){const N=D.kind===0?r1(B,D.fieldPath,B.endAt):n1(B,D.fieldPath,B.endAt);H.push(N.value),X&&(X=N.inclusive)}return new lo(H,X)}(h,f),A=this.Rn(f,h,E),k=this.Rn(f,h,S),x=this.Vn(f,h,v),U=this.mn(f.indexId,g,A,E.inclusive,k,S.inclusive,x);return ee.forEach(U,$=>r.H($,t.limit).next(B=>{B.forEach(Q=>{const H=_e.fromSegments(Q.documentKey);u.has(H)||(u=u.add(H),c.push(H))})}))}).next(()=>c)}return ee.resolve(null)})}dn(e){let t=this.En.get(e);return t||(e.filters.length===0?t=[e]:t=f7(ft.create(e.filters,"and")).map(r=>$w(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.En.set(e,t),t)}mn(e,t,r,i,o,u,c){const f=(t!=null?t.length:1)*Math.max(r.length,o.length),h=f/(t!=null?t.length:1),g=[];for(let v=0;v<f;++v){const E=t?this.fn(t[v/h]):xm,S=this.gn(e,E,r[v%h],i),A=this.pn(e,E,o[v%h],u),k=c.map(x=>this.gn(e,E,x,!0));g.push(...this.createRange(S,A,k))}return g}gn(e,t,r,i){const o=new cl(e,_e.empty(),t,r);return i?o:o.nn()}pn(e,t,r,i){const o=new cl(e,_e.empty(),t,r);return i?o.nn():o}An(e,t){const r=new w1(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let u=null;for(const c of o)r.un(c)&&(!u||c.fields.length>u.fields.length)&&(u=c);return u})}getIndexType(e,t){let r=2;const i=this.dn(t);return ee.forEach(i,o=>this.An(e,o).next(u=>{u?r!==0&&u.fields.length<function(f){let h=new ht(It.comparator),g=!1;for(const v of f.filters)for(const E of v.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?g=!0:h=h.add(E.field));for(const v of f.orderBy)v.field.isKeyField()||(h=h.add(v.field));return h.size+(g?1:0)}(o)&&(r=1):r=0})).next(()=>function(u){return u.limit!==null}(t)&&i.length>1&&r===2?1:r)}yn(e,t){const r=new yf;for(const i of sl(e)){const o=t.data.field(i.fieldPath);if(o==null)return null;const u=r.tn(i.kind);ul.xt.At(o,u)}return r.Yt()}fn(e){const t=new yf;return ul.xt.At(e,t.tn(0)),t.Yt()}wn(e,t){const r=new yf;return ul.xt.At(Pl(this.databaseId,t),r.tn(function(o){const u=sl(o);return u.length===0?0:u[u.length-1].kind}(e))),r.Yt()}Vn(e,t,r){if(r===null)return[];let i=[];i.push(new yf);let o=0;for(const u of sl(e)){const c=r[o++];for(const f of i)if(this.Sn(t,u.fieldPath)&&mh(c))i=this.bn(i,u,c);else{const h=f.tn(u.kind);ul.xt.At(c,h)}}return this.Dn(i)}Rn(e,t,r){return this.Vn(e,t,r.position)}Dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Yt();return t}bn(e,t,r){const i=[...e],o=[];for(const u of r.arrayValue.values||[])for(const c of i){const f=new yf;f.seed(c.Yt()),ul.xt.At(u,f.tn(t.kind)),o.push(f)}return o}Sn(e,t){return!!e.filters.find(r=>r instanceof et&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=vf(e),i=Hu(e);return(t?r.G(Mw,IDBKeyRange.bound(t,t)):r.G()).next(o=>{const u=[];return ee.forEach(o,c=>i.get([c.indexId,this.uid]).next(f=>{u.push(function(g,v){const E=v?new lh(v.sequenceNumber,new Ir(jl(v.readTime),new _e(Mi(v.documentKey)),v.largestBatchId)):lh.empty(),S=g.fields.map(([A,k])=>new Xm(It.fromServerFormat(A),k));return new Og(g.indexId,g.collectionGroup,S,E)}(c,f))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:Ue(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=vf(e),o=Hu(e);return this.vn(e).next(u=>i.G(Mw,IDBKeyRange.bound(t,t)).next(c=>ee.forEach(c,f=>o.put(g1(f.indexId,this.uid,u,r)))))}updateIndexEntries(e,t){const r=new Map;return ee.forEach(t,(i,o)=>{const u=r.get(i.collectionGroup);return(u?ee.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(c=>(r.set(i.collectionGroup,c),ee.forEach(c,f=>this.Cn(e,i,f).next(h=>{const g=this.Fn(o,f);return h.isEqual(g)?ee.resolve():this.Mn(e,o,f,h,g)}))))})}xn(e,t,r,i){return qu(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.wn(r,t.key),documentKey:t.key.path.toArray()})}On(e,t,r,i){return qu(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.wn(r,t.key),t.key.path.toArray()])}Cn(e,t,r){const i=qu(e);let o=new ht(Ma);return i.Z({index:FP,range:IDBKeyRange.only([r.indexId,this.uid,this.wn(r,t)])},(u,c)=>{o=o.add(new cl(r.indexId,t,c.arrayValue,c.directionalValue))}).next(()=>o)}Fn(e,t){let r=new ht(Ma);const i=this.yn(t,e);if(i==null)return r;const o=Pw(t);if(o!=null){const u=e.data.field(o.fieldPath);if(mh(u))for(const c of u.arrayValue.values||[])r=r.add(new cl(t.indexId,e.key,this.fn(c),i))}else r=r.add(new cl(t.indexId,e.key,xm,i));return r}Mn(e,t,r,i,o){fe(b1,"Updating index entries for document '%s'",t.key);const u=[];return function(f,h,g,v,E){const S=f.getIterator(),A=h.getIterator();let k=zu(S),x=zu(A);for(;k||x;){let U=!1,$=!1;if(k&&x){const B=g(k,x);B<0?$=!0:B>0&&(U=!0)}else k!=null?$=!0:U=!0;U?(v(x),x=zu(A)):$?(E(k),k=zu(S)):(k=zu(S),x=zu(A))}}(i,o,Ma,c=>{u.push(this.xn(e,t,r,c))},c=>{u.push(this.On(e,t,r,c))}),ee.waitFor(u)}vn(e){let t=1;return Hu(e).Z({index:BP,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,c)=>Ma(u,c)).filter((u,c,f)=>!c||Ma(u,f[c-1])!==0);const i=[];i.push(e);for(const u of r){const c=Ma(u,e),f=Ma(u,t);if(c===0)i[0]=e.nn();else if(c>0&&f<0)i.push(u),i.push(u.nn());else if(f>0)break}i.push(t);const o=[];for(let u=0;u<i.length;u+=2){if(this.Nn(i[u],i[u+1]))return[];const c=[i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,xm,[]],f=[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,xm,[]];o.push(IDBKeyRange.bound(c,f))}return o}Nn(e,t){return Ma(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(I1)}getMinOffset(e,t){return ee.mapArray(this.dn(t),r=>this.An(e,r).next(i=>i||Te())).next(I1)}}function S1(n){return un(n,fh)}function qu(n){return un(n,Vg)}function vf(n){return un(n,Rb)}function Hu(n){return un(n,Mg)}function I1(n){Ie(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;Sb(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Ir(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Hk=41943040;class jn{static withCacheSize(e){return new jn(e,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(n,e,t){const r=n.store(li),i=n.store(Tc),o=[],u=IDBKeyRange.only(t.batchId);let c=0;const f=r.Z({range:u},(g,v,E)=>(c++,E.delete()));o.push(f.next(()=>{Ie(c===1)}));const h=[];for(const g of t.mutations){const v=LP(e,g.key.path,t.batchId);o.push(i.delete(v)),h.push(g.key)}return ee.waitFor(o).next(()=>h)}function zg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Te();e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(Hk,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);class By{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Bn={}}static It(e,t,r,i){Ie(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new By(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Va(e).Z({index:ml,range:r},(i,o,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=Ju(e),u=Va(e);return u.add({}).next(c=>{Ie(typeof c=="number");const f=new Lb(c,t,r,i),h=function(S,A,k){const x=k.baseMutations.map($=>vh(S.Tt,$)),U=k.mutations.map($=>vh(S.Tt,$));return{userId:A,batchId:k.batchId,localWriteTimeMs:k.localWriteTime.toMillis(),baseMutations:x,mutations:U}}(this.serializer,this.userId,f),g=[];let v=new ht((E,S)=>Ue(E.canonicalString(),S.canonicalString()));for(const E of i){const S=LP(this.userId,E.key.path,c);v=v.add(E.key.path.popLast()),g.push(u.put(h)),g.push(o.put(S,WH))}return v.forEach(E=>{g.push(this.indexManager.addToCollectionParentIndex(e,E))}),e.addOnCommittedListener(()=>{this.Bn[c]=f.keys()}),ee.waitFor(g).next(()=>f)})}lookupMutationBatch(e,t){return Va(e).get(t).next(r=>r?(Ie(r.userId===this.userId),ll(this.serializer,r)):null)}Ln(e,t){return this.Bn[t]?ee.resolve(this.Bn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Bn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Va(e).Z({index:ml,range:i},(u,c,f)=>{c.userId===this.userId&&(Ie(c.batchId>=r),o=ll(this.serializer,c)),f.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Qa;return Va(e).Z({index:ml,range:t,reverse:!0},(i,o,u)=>{r=o.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Qa],[this.userId,Number.POSITIVE_INFINITY]);return Va(e).G(ml,t).next(r=>r.map(i=>ll(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Zm(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Ju(e).Z({range:i},(u,c,f)=>{const[h,g,v]=u,E=Mi(g);if(h===this.userId&&t.path.isEqual(E))return Va(e).get(v).next(S=>{if(!S)throw Te();Ie(S.userId===this.userId),o.push(ll(this.serializer,S))});f.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ht(Ue);const i=[];return t.forEach(o=>{const u=Zm(this.userId,o.path),c=IDBKeyRange.lowerBound(u),f=Ju(e).Z({range:c},(h,g,v)=>{const[E,S,A]=h,k=Mi(S);E===this.userId&&o.path.isEqual(k)?r=r.add(A):v.done()});i.push(f)}),ee.waitFor(i).next(()=>this.kn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=Zm(this.userId,r),u=IDBKeyRange.lowerBound(o);let c=new ht(Ue);return Ju(e).Z({range:u},(f,h,g)=>{const[v,E,S]=f,A=Mi(E);v===this.userId&&r.isPrefixOf(A)?A.length===i&&(c=c.add(S)):g.done()}).next(()=>this.kn(e,c))}kn(e,t){const r=[],i=[];return t.forEach(o=>{i.push(Va(e).get(o).next(u=>{if(u===null)throw Te();Ie(u.userId===this.userId),r.push(ll(this.serializer,u))}))}),ee.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return Gk(e.ue,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.qn(t.batchId)}),ee.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}qn(e){delete this.Bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ee.resolve();const r=IDBKeyRange.lowerBound(function(u){return[u]}(this.userId)),i=[];return Ju(e).Z({range:r},(o,u,c)=>{if(o[0]===this.userId){const f=Mi(o[1]);i.push(f)}else c.done()}).next(()=>{Ie(i.length===0)})})}containsKey(e,t){return Kk(e,this.userId,t)}Qn(e){return Wk(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:Qa,lastStreamToken:""})}}function Kk(n,e,t){const r=Zm(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let u=!1;return Ju(n).Z({range:o,Y:!0},(c,f,h)=>{const[g,v,E]=c;g===e&&v===i&&(u=!0),h.done()}).next(()=>u)}function Va(n){return un(n,li)}function Ju(n){return un(n,Tc)}function Wk(n){return un(n,ch)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Ul(0)}static Un(){return new Ul(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Wn(e).next(t=>{const r=new Ul(t.highestTargetId);return t.highestTargetId=r.next(),this.Gn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Wn(e).next(t=>Ce.fromTimestamp(new Ct(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Wn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Wn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Gn(e,i)))}addTargetData(e,t){return this.zn(e,t).next(()=>this.Wn(e).next(r=>(r.targetCount+=1,this.jn(t,r),this.Gn(e,r))))}updateTargetData(e,t){return this.zn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Gu(e).delete(t.targetId)).next(()=>this.Wn(e)).next(r=>(Ie(r.targetCount>0),r.targetCount-=1,this.Gn(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return Gu(e).Z((u,c)=>{const f=Df(c);f.sequenceNumber<=t&&r.get(f.targetId)===null&&(i++,o.push(this.removeTargetData(e,f)))}).next(()=>ee.waitFor(o)).next(()=>i)}forEachTarget(e,t){return Gu(e).Z((r,i)=>{const o=Df(i);t(o)})}Wn(e){return R1(e).get(kg).next(t=>(Ie(t!==null),t))}Gn(e,t){return R1(e).put(kg,t)}zn(e,t){return Gu(e).put(zk(this.serializer,t))}jn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Wn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=kl(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Gu(e).Z({range:i,index:UP},(u,c,f)=>{const h=Df(c);qh(t,h.target)&&(o=h,f.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=Fa(e);return t.forEach(u=>{const c=Bn(u.path);i.push(o.put({targetId:r,path:c})),i.push(this.referenceDelegate.addReference(e,r,u))}),ee.waitFor(i)}removeMatchingKeys(e,t,r){const i=Fa(e);return ee.forEach(t,o=>{const u=Bn(o.path);return ee.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=Fa(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Fa(e);let o=$e();return i.Z({range:r,Y:!0},(u,c,f)=>{const h=Mi(u[1]),g=new _e(h);o=o.add(g)}).next(()=>o)}containsKey(e,t){const r=Bn(t.path),i=IDBKeyRange.bound([r],[NP(r)],!1,!0);let o=0;return Fa(e).Z({index:Ab,Y:!0,range:i},([u,c],f,h)=>{u!==0&&(o++,h.done())}).next(()=>o>0)}lt(e,t){return Gu(e).get(t).next(r=>r?Df(r):null)}}function Gu(n){return un(n,bc)}function R1(n){return un(n,wl)}function Fa(n){return un(n,Sc)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="LruGarbageCollector",g7=1048576;function x1([n,e],[t,r]){const i=Ue(n,t);return i===0?Ue(e,r):i}class y7{constructor(e){this.Hn=e,this.buffer=new ht(x1),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();x1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Qk{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){fe(C1,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Eo(t)?fe(C1,"Ignoring IndexedDB error during garbage collection: ",t):await _o(t)}await this.er(3e5)})}}class v7{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(rr.ae);const r=new y7(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(A1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),A1):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,o,u,c,f,h;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,u=Date.now(),this.nthSequenceNumber(e,i))).next(v=>(r=v,c=Date.now(),this.removeTargets(e,r,t))).next(v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(h=Date.now(),Qu()<=Ye.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${i} in `+(c-u)+`ms
	Removed ${o} targets in `+(f-c)+`ms
	Removed ${v} documents in `+(h-f)+`ms
Total Duration: ${h-g}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:v})))}}function Yk(n,e){return new v7(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(e,t){this.db=e,this.garbageCollector=Yk(this,t)}nr(e){const t=this.sr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}rr(e,t){return this._r(e,(r,i)=>t(i))}addReference(e,t,r){return Nm(e,r)}removeReference(e,t,r){return Nm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Nm(e,t)}ar(e,t){return function(i,o){let u=!1;return Wk(i).X(c=>Kk(i,c,o).next(f=>(f&&(u=!0),ee.resolve(!f)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this._r(e,(u,c)=>{if(c<=t){const f=this.ar(e,u).next(h=>{if(!h)return o++,r.getEntry(e,u).next(()=>(r.removeEntry(u,Ce.min()),Fa(e).delete(function(v){return[0,Bn(v.path)]}(u))))});i.push(f)}}).next(()=>ee.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Nm(e,t)}_r(e,t){const r=Fa(e);let i,o=rr.ae;return r.Z({index:Ab},([u,c],{path:f,sequenceNumber:h})=>{u===0?(o!==rr.ae&&t(new _e(Mi(i)),o),o=h,i=f):o=rr.ae}).next(()=>{o!==rr.ae&&t(new _e(Mi(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Nm(n,e){return Fa(n).put(function(r,i){return{targetId:0,path:Bn(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.changes=new Ks(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Tt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ee.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return nl(e).put(r)}removeEntry(e,t,r){return nl(e).delete(function(o,u){const c=o.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Bg(u),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.ur(e,r)))}getEntry(e,t){let r=Tt.newInvalidDocument(t);return nl(e).Z({index:Jm,range:IDBKeyRange.only(_f(t))},(i,o)=>{r=this.cr(t,o)}).next(()=>r)}lr(e,t){let r={size:0,document:Tt.newInvalidDocument(t)};return nl(e).Z({index:Jm,range:IDBKeyRange.only(_f(t))},(i,o)=>{r={document:this.cr(t,o),size:zg(o)}}).next(()=>r)}getEntries(e,t){let r=sr();return this.hr(e,t,(i,o)=>{const u=this.cr(i,o);r=r.insert(i,u)}).next(()=>r)}Pr(e,t){let r=sr(),i=new Et(_e.comparator);return this.hr(e,t,(o,u)=>{const c=this.cr(o,u);r=r.insert(o,c),i=i.insert(o,zg(u))}).next(()=>({documents:r,Tr:i}))}hr(e,t,r){if(t.isEmpty())return ee.resolve();let i=new ht(D1);t.forEach(f=>i=i.add(f));const o=IDBKeyRange.bound(_f(i.first()),_f(i.last())),u=i.getIterator();let c=u.getNext();return nl(e).Z({index:Jm,range:o},(f,h,g)=>{const v=_e.fromSegments([...h.prefixPath,h.collectionGroup,h.documentId]);for(;c&&D1(c,v)<0;)r(c,null),c=u.getNext();c&&c.isEqual(v)&&(r(c,h),c=u.hasNext()?u.getNext():null),c?g.W(_f(c)):g.done()}).next(()=>{for(;c;)r(c,null),c=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,o){const u=t.path,c=[u.popLast().toArray(),u.lastSegment(),Bg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return nl(e).G(IDBKeyRange.bound(c,f,!0)).next(h=>{o==null||o.incrementDocumentReadCount(h.length);let g=sr();for(const v of h){const E=this.cr(_e.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);E.isFoundDocument()&&(Gh(t,E)||i.has(E.key))&&(g=g.insert(E.key,E))}return g})}getAllFromCollectionGroup(e,t,r,i){let o=sr();const u=O1(t,r),c=O1(t,Ir.max());return nl(e).Z({index:jP,range:IDBKeyRange.bound(u,c,!0)},(f,h,g)=>{const v=this.cr(_e.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);o=o.insert(v.key,v),o.size===i&&g.done()}).next(()=>o)}newChangeBuffer(e){return new w7(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return N1(e).get(kw).next(t=>(Ie(!!t),t))}ur(e,t){return N1(e).put(kw,t)}cr(e,t){if(t){const r=s7(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Ce.min())))return r}return Tt.newInvalidDocument(e)}}function Zk(n){return new E7(n)}class w7 extends Xk{constructor(e,t){super(),this.Ir=e,this.trackRemovals=t,this.Er=new Ks(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new ht((o,u)=>Ue(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const c=this.Er.get(o);if(t.push(this.Ir.removeEntry(e,o,c.readTime)),u.isValidDocument()){const f=p1(this.Ir.serializer,u);i=i.add(o.path.popLast());const h=zg(f);r+=h-c.size,t.push(this.Ir.addEntry(e,o,f))}else if(r-=c.size,this.trackRemovals){const f=p1(this.Ir.serializer,u.convertToNoDocument(Ce.min()));t.push(this.Ir.addEntry(e,o,f))}}),i.forEach(o=>{t.push(this.Ir.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.Ir.updateMetadata(e,r)),ee.waitFor(t)}getFromCache(e,t){return this.Ir.lr(e,t).next(r=>(this.Er.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Ir.Pr(e,t).next(({documents:r,Tr:i})=>(i.forEach((o,u)=>{this.Er.set(o,{size:u,readTime:r.get(o).readTime})}),r))}}function N1(n){return un(n,dh)}function nl(n){return un(n,Pg)}function _f(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function O1(n,e){const t=e.documentKey.path.toArray();return[n,Bg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function D1(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=Ue(t[o],r[o]),i)return i;return i=Ue(t.length,r.length),i||(i=Ue(t[t.length-2],r[r.length-2]),i||Ue(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Wf(r.mutation,i,ir.empty(),Ct.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,$e()).next(()=>r))}getLocalViewOfDocuments(e,t,r=$e()){const i=Vi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let u=Nf();return o.forEach((c,f)=>{u=u.insert(c,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Vi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,$e()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((u,c)=>{t.set(u,c)})})}computeViews(e,t,r,i){let o=sr();const u=Kf(),c=function(){return Kf()}();return t.forEach((f,h)=>{const g=r.get(h.key);i.has(h.key)&&(g===void 0||g.mutation instanceof Ws)?o=o.insert(h.key,h):g!==void 0?(u.set(h.key,g.mutation.getFieldMask()),Wf(g.mutation,h,g.mutation.getFieldMask(),Ct.now())):u.set(h.key,ir.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((h,g)=>u.set(h,g)),t.forEach((h,g)=>{var v;return c.set(h,new T7(g,(v=u.get(h))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,t){const r=Kf();let i=new Et((u,c)=>u-c),o=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const c of u)c.keys().forEach(f=>{const h=t.get(f);if(h===null)return;let g=r.get(f)||ir.empty();g=c.applyToLocalView(h,g),r.set(f,g);const v=(i.get(c.batchId)||$e()).add(f);i=i.insert(c.batchId,v)})}).next(()=>{const u=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),h=f.key,g=f.value,v=mk();g.forEach(E=>{if(!o.has(E)){const S=Tk(t.get(E),r.get(E));S!==null&&v.set(E,S),o=o.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,h,v))}return ee.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(u){return _e.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Pb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const u=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):ee.resolve(Vi());let c=wc,f=o;return u.next(h=>ee.forEach(h,(g,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),o.get(g)?ee.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{f=f.insert(g,E)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,f,h,$e())).next(g=>({batchId:c,changes:pk(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(r=>{let i=Nf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let u=Nf();return this.indexManager.getCollectionParents(e,o).next(c=>ee.forEach(c,f=>{const h=function(v,E){return new Gs(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(g=>{g.forEach((v,E)=>{u=u.insert(v,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(u=>{o.forEach((f,h)=>{const g=h.getKey();u.get(g)===null&&(u=u.insert(g,Tt.newInvalidDocument(g)))});let c=Nf();return u.forEach((f,h)=>{const g=o.get(f);g!==void 0&&Wf(g.mutation,h,ir.empty(),Ct.now()),Gh(t,h)&&(c=c.insert(f,h))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ee.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Kt(i.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:zb(i.bundledQuery),readTime:Kt(i.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(){this.overlays=new Et(_e.comparator),this.Rr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Vi();return ee.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Et(e,t,o)}),ee.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),ee.resolve()}getOverlaysForCollection(e,t,r){const i=Vi(),o=t.length+1,u=new _e(t.child("")),c=this.overlays.getIteratorFrom(u);for(;c.hasNext();){const f=c.getNext().value,h=f.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===o&&f.largestBatchId>r&&i.set(f.getKey(),f)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Et((h,g)=>h-g);const u=this.overlays.getIterator();for(;u.hasNext();){const h=u.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let g=o.get(h.largestBatchId);g===null&&(g=Vi(),o=o.insert(h.largestBatchId,g)),g.set(h.getKey(),h)}}const c=Vi(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((h,g)=>c.set(h,g)),!(c.size()>=i)););return ee.resolve(c)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Ub(t,r));let o=this.Rr.get(t);o===void 0&&(o=$e(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(){this.Vr=new ht(vn.mr),this.gr=new ht(vn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new vn(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new vn(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new _e(new Je([])),r=new vn(t,e),i=new vn(t,e+1),o=[];return this.gr.forEachInRange([r,i],u=>{this.wr(u),o.push(u.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new _e(new Je([])),r=new vn(t,e),i=new vn(t,e+1);let o=$e();return this.gr.forEachInRange([r,i],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new vn(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class vn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return _e.comparator(e.key,t.key)||Ue(e.Cr,t.Cr)}static pr(e,t){return Ue(e.Cr,t.Cr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new ht(vn.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Lb(o,t,r,i);this.mutationQueue.push(u);for(const c of i)this.Mr=this.Mr.add(new vn(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ee.resolve(u)}lookupMutationBatch(e,t){return ee.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),o=i<0?0:i;return ee.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Qa:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new vn(t,0),i=new vn(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],u=>{const c=this.Or(u.Cr);o.push(c)}),ee.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ht(Ue);return t.forEach(i=>{const o=new vn(i,0),u=new vn(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,u],c=>{r=r.add(c.Cr)})}),ee.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;_e.isDocumentKey(o)||(o=o.child(""));const u=new vn(new _e(o),0);let c=new ht(Ue);return this.Mr.forEachWhile(f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(f.Cr)),!0)},u),ee.resolve(this.Br(c))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ie(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ee.forEach(t.mutations,i=>{const o=new vn(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new vn(t,0),i=this.Mr.firstAfterOrEqual(r);return ee.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(e){this.kr=e,this.docs=function(){return new Et(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,u=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ee.resolve(r?r.document.mutableCopy():Tt.newInvalidDocument(t))}getEntries(e,t){let r=sr();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Tt.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=sr();const u=t.path,c=new _e(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:h,value:{document:g}}=f.getNext();if(!u.isPrefixOf(h.path))break;h.path.length>u.length+1||Sb(DP(g),r)<=0||(i.has(g.key)||Gh(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return ee.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Te()}qr(e,t){return ee.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new C7(this)}getSize(e){return ee.resolve(this.size)}}class C7 extends Xk{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),ee.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e){this.persistence=e,this.Qr=new Ks(t=>kl(t),qh),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Hb,this.targetCount=0,this.Ur=Ul.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),ee.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Ul(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.zn(t),ee.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Qr.forEach((u,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Qr.delete(u),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),ee.waitFor(o).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return ee.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),ee.resolve()}removeMatchingKeys(e,t,r){this.Kr.Sr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(u=>{o.push(i.markPotentiallyOrphaned(e,u))}),ee.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return ee.resolve(r)}containsKey(e,t){return ee.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new rr(0),this.zr=!1,this.zr=!0,this.jr=new I7,this.referenceDelegate=e(this),this.Hr=new x7(this),this.indexManager=new h7,this.remoteDocumentCache=function(i){return new R7(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new Fk(t),this.Yr=new b7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new S7,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new A7(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){fe("MemoryPersistence","Starting transaction:",e);const i=new N7(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,t){return ee.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class N7 extends kP{constructor(e){super(),this.currentSequenceNumber=e}}class Fy{constructor(e){this.persistence=e,this.ti=new Hb,this.ni=null}static ri(e){return new Fy(e)}get ii(){if(this.ni)return this.ni;throw Te()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),ee.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ee.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,r=>{const i=_e.fromPath(r);return this.si(e,i).next(o=>{o||t.removeEntry(i,Ce.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ee.or([()=>ee.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class $g{constructor(e,t){this.persistence=e,this.oi=new Ks(r=>Bn(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Yk(this,t)}static ri(e,t){return new $g(e,t)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return ee.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?ee.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,u=>this.ar(e,u,t).next(c=>{c||(r++,o.removeEntry(u,Ce.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ee.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=tg(e.data.value)),t}ar(e,t,r){return ee.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return ee.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e){this.serializer=e}B(e,t,r,i){const o=new Ny("createOrUpgrade",t);r<1&&i>=1&&(function(f){f.createObjectStore($h)}(e),function(f){f.createObjectStore(ch,{keyPath:KH}),f.createObjectStore(li,{keyPath:qC,autoIncrement:!0}).createIndex(ml,HC,{unique:!0}),f.createObjectStore(Tc)}(e),P1(e),function(f){f.createObjectStore(al)}(e));let u=ee.resolve();return r<3&&i>=3&&(r!==0&&(function(f){f.deleteObjectStore(Sc),f.deleteObjectStore(bc),f.deleteObjectStore(wl)}(e),P1(e)),u=u.next(()=>function(f){const h=f.store(wl),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ce.min().toTimestamp(),targetCount:0};return h.put(kg,g)}(o))),r<4&&i>=4&&(r!==0&&(u=u.next(()=>function(f,h){return h.store(li).G().next(v=>{f.deleteObjectStore(li),f.createObjectStore(li,{keyPath:qC,autoIncrement:!0}).createIndex(ml,HC,{unique:!0});const E=h.store(li),S=v.map(A=>E.put(A));return ee.waitFor(S)})}(e,o))),u=u.next(()=>{(function(f){f.createObjectStore(Ic,{keyPath:n8})})(e)})),r<5&&i>=5&&(u=u.next(()=>this._i(o))),r<6&&i>=6&&(u=u.next(()=>(function(f){f.createObjectStore(dh)}(e),this.ai(o)))),r<7&&i>=7&&(u=u.next(()=>this.ui(o))),r<8&&i>=8&&(u=u.next(()=>this.ci(e,o))),r<9&&i>=9&&(u=u.next(()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(u=u.next(()=>this.li(o))),r<11&&i>=11&&(u=u.next(()=>{(function(f){f.createObjectStore(Oy,{keyPath:r8})})(e),function(f){f.createObjectStore(Dy,{keyPath:i8})}(e)})),r<12&&i>=12&&(u=u.next(()=>{(function(f){const h=f.createObjectStore(Py,{keyPath:d8});h.createIndex(Vw,f8,{unique:!1}),h.createIndex(zP,h8,{unique:!1})})(e)})),r<13&&i>=13&&(u=u.next(()=>function(f){const h=f.createObjectStore(Pg,{keyPath:QH});h.createIndex(Jm,YH),h.createIndex(jP,XH)}(e)).next(()=>this.hi(e,o)).next(()=>e.deleteObjectStore(al))),r<14&&i>=14&&(u=u.next(()=>this.Pi(e,o))),r<15&&i>=15&&(u=u.next(()=>function(f){f.createObjectStore(Rb,{keyPath:s8,autoIncrement:!0}).createIndex(Mw,a8,{unique:!1}),f.createObjectStore(Mg,{keyPath:o8}).createIndex(BP,l8,{unique:!1}),f.createObjectStore(Vg,{keyPath:u8}).createIndex(FP,c8,{unique:!1})}(e))),r<16&&i>=16&&(u=u.next(()=>{t.objectStore(Mg).clear()}).next(()=>{t.objectStore(Vg).clear()})),r<17&&i>=17&&(u=u.next(()=>{(function(f){f.createObjectStore(Cb,{keyPath:p8})})(e)})),u}ai(e){let t=0;return e.store(al).Z((r,i)=>{t+=zg(i)}).next(()=>{const r={byteSize:t};return e.store(dh).put(kw,r)})}_i(e){const t=e.store(ch),r=e.store(li);return t.G().next(i=>ee.forEach(i,o=>{const u=IDBKeyRange.bound([o.userId,Qa],[o.userId,o.lastAcknowledgedBatchId]);return r.G(ml,u).next(c=>ee.forEach(c,f=>{Ie(f.userId===o.userId);const h=ll(this.serializer,f);return Gk(e,o.userId,h).next(()=>{})}))}))}ui(e){const t=e.store(Sc),r=e.store(al);return e.store(wl).get(kg).next(i=>{const o=[];return r.Z((u,c)=>{const f=new Je(u),h=function(v){return[0,Bn(v)]}(f);o.push(t.get(h).next(g=>g?ee.resolve():(v=>t.put({targetId:0,path:Bn(v),sequenceNumber:i.highestListenSequenceNumber}))(f)))}).next(()=>ee.waitFor(o))})}ci(e,t){e.createObjectStore(fh,{keyPath:t8});const r=t.store(fh),i=new qb,o=u=>{if(i.add(u)){const c=u.lastSegment(),f=u.popLast();return r.put({collectionId:c,parent:Bn(f)})}};return t.store(al).Z({Y:!0},(u,c)=>{const f=new Je(u);return o(f.popLast())}).next(()=>t.store(Tc).Z({Y:!0},([u,c,f],h)=>{const g=Mi(c);return o(g.popLast())}))}li(e){const t=e.store(bc);return t.Z((r,i)=>{const o=Df(i),u=zk(this.serializer,o);return t.put(u)})}hi(e,t){const r=t.store(al),i=[];return r.Z((o,u)=>{const c=t.store(Pg),f=function(v){return v.document?new _e(Je.fromString(v.document.name).popFirst(5)):v.noDocument?_e.fromSegments(v.noDocument.path):v.unknownDocument?_e.fromSegments(v.unknownDocument.path):Te()}(u).path.toArray(),h={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(c.put(h))}).next(()=>ee.waitFor(i))}Pi(e,t){const r=t.store(li),i=Zk(this.serializer),o=new Gb(Fy.ri,this.serializer.Tt);return r.G().next(u=>{const c=new Map;return u.forEach(f=>{var h;let g=(h=c.get(f.userId))!==null&&h!==void 0?h:$e();ll(this.serializer,f).keys().forEach(v=>g=g.add(v)),c.set(f.userId,g)}),ee.forEach(c,(f,h)=>{const g=new _n(h),v=Uy.It(this.serializer,g),E=o.getIndexManager(g),S=By.It(g,this.serializer,E,o.referenceDelegate);return new Jk(i,S,v,E).recalculateAndSaveOverlaysForDocumentKeys(new Lw(t,rr.ae),f).next()})})}}function P1(n){n.createObjectStore(Sc,{keyPath:JH}).createIndex(Ab,e8,{unique:!0}),n.createObjectStore(bc,{keyPath:"targetId"}).createIndex(UP,ZH,{unique:!0}),n.createObjectStore(wl)}const La="IndexedDbPersistence",BE=18e5,FE=5e3,zE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",eM="main";class Kb{constructor(e,t,r,i,o,u,c,f,h,g,v=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ti=o,this.window=u,this.document=c,this.Ii=h,this.Ei=g,this.di=v,this.Gr=null,this.zr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ai=null,this.inForeground=!1,this.Ri=null,this.Vi=null,this.mi=Number.NEGATIVE_INFINITY,this.fi=E=>Promise.resolve(),!Kb.D())throw new ce(re.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _7(this,i),this.gi=t+eM,this.serializer=new Fk(f),this.pi=new Ui(this.gi,this.di,new O7(this.serializer)),this.jr=new o7,this.Hr=new m7(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Zk(this.serializer),this.Yr=new a7,this.window&&this.window.localStorage?this.yi=this.window.localStorage:(this.yi=null,g===!1&&Gt(La,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ce(re.FAILED_PRECONDITION,zE);return this.Si(),this.bi(),this.Di(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Hr.getHighestSequenceNumber(e))}).then(e=>{this.Gr=new rr(e,this.Ii)}).then(()=>{this.zr=!0}).catch(e=>(this.pi&&this.pi.close(),Promise.reject(e)))}Ci(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.pi.k(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ti.enqueueAndForget(async()=>{this.started&&await this.wi()}))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Om(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Fi(e).next(t=>{t||(this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Mi(e)).next(t=>this.isPrimary&&!t?this.xi(e).next(()=>!1):!!t&&this.Oi(e).next(()=>!0))).catch(e=>{if(Eo(e))return fe(La,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return fe(La,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ti.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Fi(e){return Ef(e).get(Fu).next(t=>ee.resolve(this.Ni(t)))}Bi(e){return Om(e).delete(this.clientId)}async Li(){if(this.isPrimary&&!this.ki(this.mi,BE)){this.mi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=un(t,Ic);return r.G().next(i=>{const o=this.qi(i,BE),u=i.filter(c=>o.indexOf(c)===-1);return ee.forEach(u,c=>r.delete(c.clientId)).next(()=>u)})}).catch(()=>[]);if(this.yi)for(const t of e)this.yi.removeItem(this.Qi(t.clientId))}}Di(){this.Vi=this.Ti.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Li()).then(()=>this.Di()))}Ni(e){return!!e&&e.ownerId===this.clientId}Mi(e){return this.Ei?ee.resolve(!0):Ef(e).get(Fu).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,FE)&&!this.$i(t.ownerId)){if(this.Ni(t)&&this.networkEnabled)return!0;if(!this.Ni(t)){if(!t.allowTabSynchronization)throw new ce(re.FAILED_PRECONDITION,zE);return!1}}return!(!this.networkEnabled||!this.inForeground)||Om(e).G().next(r=>this.qi(r,FE).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,u=!this.inForeground&&i.inForeground,c=this.networkEnabled===i.networkEnabled;if(o||u&&c)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&fe(La,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.zr=!1,this.Ki(),this.Vi&&(this.Vi.cancel(),this.Vi=null),this.Ui(),this.Wi(),await this.pi.runTransaction("shutdown","readwrite",[$h,Ic],e=>{const t=new Lw(e,rr.ae);return this.xi(t).next(()=>this.Bi(t))}),this.pi.close(),this.Gi()}qi(e,t){return e.filter(r=>this.ki(r.updateTimeMs,t)&&!this.$i(r.clientId))}zi(){return this.runTransaction("getActiveClients","readonly",e=>Om(e).G().next(t=>this.qi(t,BE).map(r=>r.clientId)))}get started(){return this.zr}getGlobalsCache(){return this.jr}getMutationQueue(e,t){return By.It(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new p7(e,this.serializer.Tt.databaseId)}getDocumentOverlayCache(e){return Uy.It(this.serializer,e)}getBundleCache(){return this.Yr}runTransaction(e,t,r){fe(La,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",o=function(f){return f===17?y8:f===16?g8:f===15?xb:f===14?HP:f===13?qP:f===12?m8:f===11?$P:void Te()}(this.di);let u;return this.pi.runTransaction(e,i,o,c=>(u=new Lw(c,this.Gr?this.Gr.next():rr.ae),t==="readwrite-primary"?this.Fi(u).next(f=>!!f||this.Mi(u)).next(f=>{if(!f)throw Gt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)),new ce(re.FAILED_PRECONDITION,PP);return r(u)}).next(f=>this.Oi(u).next(()=>f)):this.ji(u).next(()=>r(u)))).then(c=>(u.raiseOnCommittedEvent(),c))}ji(e){return Ef(e).get(Fu).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,FE)&&!this.$i(t.ownerId)&&!this.Ni(t)&&!(this.Ei||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ce(re.FAILED_PRECONDITION,zE)})}Oi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ef(e).put(Fu,t)}static D(){return Ui.D()}xi(e){const t=Ef(e);return t.get(Fu).next(r=>this.Ni(r)?(fe(La,"Releasing primary lease."),t.delete(Fu)):ee.resolve())}ki(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Gt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Si(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ri=()=>{this.Ti.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.wi()))},this.document.addEventListener("visibilitychange",this.Ri),this.inForeground=this.document.visibilityState==="visible")}Ui(){this.Ri&&(this.document.removeEventListener("visibilitychange",this.Ri),this.Ri=null)}bi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ai=()=>{this.Ki();const t=/(?:Version|Mobile)\/1[456]/;PO()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ti.enterRestrictedMode(!0),this.Ti.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ai))}Wi(){this.Ai&&(this.window.removeEventListener("pagehide",this.Ai),this.Ai=null)}$i(e){var t;try{const r=((t=this.yi)===null||t===void 0?void 0:t.getItem(this.Qi(e)))!==null;return fe(La,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Gt(La,"Failed to get zombied client id.",r),!1}}Ki(){if(this.yi)try{this.yi.setItem(this.Qi(this.clientId),String(Date.now()))}catch(e){Gt("Failed to set zombie client id.",e)}}Gi(){if(this.yi)try{this.yi.removeItem(this.Qi(this.clientId))}catch{}}Qi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ef(n){return un(n,$h)}function Om(n){return un(n,Ic)}function Wb(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=$e(),i=$e();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Qb(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return PO()?8:MP(Mt())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.rs(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.ss(e,t,i,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new D7;return this._s(e,t,u).next(c=>{if(o.result=c,this.Xi)return this.us(e,t,u,c.size)})}).next(()=>o.result)}us(e,t,r,i){return r.documentReadCount<this.es?(Qu()<=Ye.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Yu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(Qu()<=Ye.DEBUG&&fe("QueryEngine","Query:",Yu(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Qu()<=Ye.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Yu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yn(t))):ee.resolve())}rs(e,t){if(i1(t))return ee.resolve(null);let r=Yn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Ug(t,null,"F"),r=Yn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=$e(...o);return this.ns.getDocuments(e,u).next(c=>this.indexManager.getMinOffset(e,r).next(f=>{const h=this.cs(t,c);return this.ls(t,h,u,f.readTime)?this.rs(e,Ug(t,null,"F")):this.hs(e,h,t,f)}))})))}ss(e,t,r,i){return i1(t)||i.isEqual(Ce.min())?ee.resolve(null):this.ns.getDocuments(e,r).next(o=>{const u=this.cs(t,o);return this.ls(t,u,r,i)?ee.resolve(null):(Qu()<=Ye.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Yu(t)),this.hs(e,u,t,OP(i,wc)).next(c=>c))})}cs(e,t){let r=new ht(fk(e));return t.forEach((i,o)=>{Gh(e,o)&&(r=r.add(o))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,t,r){return Qu()<=Ye.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Yu(t)),this.ns.getDocumentsMatchingQuery(e,t,Ir.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="LocalStore",P7=3e8;class k7{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new Et(Ue),this.Is=new Ks(o=>kl(o),qh),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jk(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function nM(n,e,t,r){return new k7(n,e,t,r)}async function rM(n,e){const t=Ee(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],c=[];let f=$e();for(const h of i){u.push(h.batchId);for(const g of h.mutations)f=f.add(g.key)}for(const h of o){c.push(h.batchId);for(const g of h.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next(h=>({Rs:h,removedBatchIds:u,addedBatchIds:c}))})})}function M7(n,e){const t=Ee(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(c,f,h,g){const v=h.batch,E=v.keys();let S=ee.resolve();return E.forEach(A=>{S=S.next(()=>g.getEntry(f,A)).next(k=>{const x=h.docVersions.get(A);Ie(x!==null),k.version.compareTo(x)<0&&(v.applyToRemoteDocument(k,h),k.isValidDocument()&&(k.setReadTime(h.commitVersion),g.addEntry(k)))})}),S.next(()=>c.mutationQueue.removeMutationBatch(f,v))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=$e();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(f=f.add(c.batch.mutations[h].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function iM(n){const e=Ee(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function V7(n,e){const t=Ee(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const c=[];e.targetChanges.forEach((g,v)=>{const E=i.get(v);if(!E)return;c.push(t.Hr.removeMatchingKeys(o,g.removedDocuments,v).next(()=>t.Hr.addMatchingKeys(o,g.addedDocuments,v)));let S=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?S=S.withResumeToken(Ft.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,r)),i=i.insert(v,S),function(k,x,U){return k.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=P7?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(E,S,g)&&c.push(t.Hr.updateTargetData(o,S))});let f=sr(),h=$e();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),c.push(sM(o,u,e.documentUpdates).next(g=>{f=g.Vs,h=g.fs})),!r.isEqual(Ce.min())){const g=t.Hr.getLastRemoteSnapshotVersion(o).next(v=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(g)}return ee.waitFor(c).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,f,h)).next(()=>f)}).then(o=>(t.Ts=i,o))}function sM(n,e,t){let r=$e(),i=$e();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=sr();return t.forEach((c,f)=>{const h=o.get(c);f.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),f.isNoDocument()&&f.version.isEqual(Ce.min())?(e.removeEntry(c,f.readTime),u=u.insert(c,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),u=u.insert(c,f)):fe(Yb,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",f.version)}),{Vs:u,fs:i}})}function L7(n,e){const t=Ee(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Qa),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Dc(n,e){const t=Ee(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(o=>o?(i=o,ee.resolve(i)):t.Hr.allocateTargetId(r).next(u=>(i=new As(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Pc(n,e,t){const r=Ee(n),i=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,i))}catch(u){if(!Eo(u))throw u;fe(Yb,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function qg(n,e,t){const r=Ee(n);let i=Ce.min(),o=$e();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,h,g){const v=Ee(f),E=v.Is.get(g);return E!==void 0?ee.resolve(v.Ts.get(E)):v.Hr.getTargetData(h,g)}(r,u,Yn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(u,c.targetId).next(f=>{o=f})}).next(()=>r.Ps.getDocumentsMatchingQuery(u,e,t?i:Ce.min(),t?o:$e())).next(c=>(lM(r,dk(e),c),{documents:c,gs:o})))}function aM(n,e){const t=Ee(n),r=Ee(t.Hr),i=t.Ts.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.lt(o,e).next(u=>u?u.target:null))}function oM(n,e){const t=Ee(n),r=t.Es.get(e)||Ce.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ds.getAllFromCollectionGroup(i,e,OP(r,wc),Number.MAX_SAFE_INTEGER)).then(i=>(lM(t,e,i),i))}function lM(n,e,t){let r=n.Es.get(e)||Ce.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}async function j7(n,e,t,r){const i=Ee(n);let o=$e(),u=sr();for(const h of t){const g=e.ps(h.metadata.name);h.document&&(o=o.add(g));const v=e.ys(h);v.setReadTime(e.ws(h.metadata.readTime)),u=u.insert(g,v)}const c=i.ds.newChangeBuffer({trackRemovals:!0}),f=await Dc(i,function(g){return Yn(Yc(Je.fromString(`__bundle__/docs/${g}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",h=>sM(h,c,u).next(g=>(c.apply(h),g)).next(g=>i.Hr.removeMatchingKeysForTargetId(h,f.targetId).next(()=>i.Hr.addMatchingKeys(h,o,f.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,g.Vs,g.fs)).next(()=>g.Vs)))}async function U7(n,e,t=$e()){const r=await Dc(n,Yn(zb(e.bundledQuery))),i=Ee(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const u=Kt(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Yr.saveNamedQuery(o,e);const c=r.withResumeToken(Ft.EMPTY_BYTE_STRING,u);return i.Ts=i.Ts.insert(c.targetId,c),i.Hr.updateTargetData(o,c).next(()=>i.Hr.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Hr.addMatchingKeys(o,t,r.targetId)).next(()=>i.Yr.saveNamedQuery(o,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM="firestore_clients";function k1(n,e){return`${uM}_${n}_${e}`}const cM="firestore_mutations";function M1(n,e,t){let r=`${cM}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const dM="firestore_targets";function $E(n,e){return`${dM}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="SharedClientState";class Hg{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ss(e,t,r){const i=JSON.parse(r);let o,u=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return u&&i.error&&(u=typeof i.error.message=="string"&&typeof i.error.code=="string",u&&(o=new ce(i.error.code,i.error.message))),u?new Hg(e,t,i.state,o):(Gt(Ni,`Failed to parse mutation state for ID '${t}': ${r}`),null)}bs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qf{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ss(e,t){const r=JSON.parse(t);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new ce(r.error.code,r.error.message))),o?new Qf(e,r.state,i):(Gt(Ni,`Failed to parse target state for ID '${e}': ${t}`),null)}bs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ss(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=kb();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=VP(r.activeTargetIds[u]),o=o.add(r.activeTargetIds[u]);return i?new Gg(e,o):(Gt(Ni,`Failed to parse client data for instance '${e}': ${t}`),null)}}class Xb{constructor(e,t){this.clientId=e,this.onlineState=t}static Ss(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new Xb(t.clientId,t.onlineState):(Gt(Ni,`Failed to parse online state: ${e}`),null)}}class Zw{constructor(){this.activeTargetIds=kb()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qE{constructor(e,t,r,i,o){this.window=e,this.Ti=t,this.persistenceKey=r,this.Cs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Fs=this.Ms.bind(this),this.xs=new Et(Ue),this.started=!1,this.Os=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Ns=k1(this.persistenceKey,this.Cs),this.Bs=function(f){return`firestore_sequence_number_${f}`}(this.persistenceKey),this.xs=this.xs.insert(this.Cs,new Zw),this.Ls=new RegExp(`^${uM}_${u}_([^_]*)$`),this.ks=new RegExp(`^${cM}_${u}_(\\d+)(?:_(.*))?$`),this.qs=new RegExp(`^${dM}_${u}_(\\d+)$`),this.Qs=function(f){return`firestore_online_state_${f}`}(this.persistenceKey),this.$s=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.Fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.zi();for(const r of e){if(r===this.Cs)continue;const i=this.getItem(k1(this.persistenceKey,r));if(i){const o=Gg.Ss(r,i);o&&(this.xs=this.xs.insert(o.clientId,o))}}this.Ks();const t=this.storage.getItem(this.Qs);if(t){const r=this.Us(t);r&&this.Ws(r)}for(const r of this.Os)this.Ms(r);this.Os=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Bs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Gs(this.xs)}isActiveQueryTarget(e){let t=!1;return this.xs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.zs(e,"pending")}updateMutationState(e,t,r){this.zs(e,t,r),this.js(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem($E(this.persistenceKey,e));if(i){const o=Qf.Ss(e,i);o&&(r=o.state)}}return t&&this.Hs.Ds(e),this.Ks(),r}removeLocalQueryTarget(e){this.Hs.vs(e),this.Ks()}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem($E(this.persistenceKey,e))}updateQueryState(e,t,r){this.Js(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.js(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ys(e)}notifyBundleLoaded(e){this.Zs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Fs),this.removeItem(this.Ns),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return fe(Ni,"READ",e,t),t}setItem(e,t){fe(Ni,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){fe(Ni,"REMOVE",e),this.storage.removeItem(e)}Ms(e){const t=e;if(t.storageArea===this.storage){if(fe(Ni,"EVENT",t.key,t.newValue),t.key===this.Ns)return void Gt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ti.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.Ls.test(t.key)){if(t.newValue==null){const r=this.Xs(t.key);return this.eo(r,null)}{const r=this.no(t.key,t.newValue);if(r)return this.eo(r.clientId,r)}}else if(this.ks.test(t.key)){if(t.newValue!==null){const r=this.ro(t.key,t.newValue);if(r)return this.io(r)}}else if(this.qs.test(t.key)){if(t.newValue!==null){const r=this.so(t.key,t.newValue);if(r)return this.oo(r)}}else if(t.key===this.Qs){if(t.newValue!==null){const r=this.Us(t.newValue);if(r)return this.Ws(r)}}else if(t.key===this.Bs){const r=function(o){let u=rr.ae;if(o!=null)try{const c=JSON.parse(o);Ie(typeof c=="number"),u=c}catch(c){Gt(Ni,"Failed to read sequence number from WebStorage",c)}return u}(t.newValue);r!==rr.ae&&this.sequenceNumberHandler(r)}else if(t.key===this.$s){const r=this._o(t.newValue);await Promise.all(r.map(i=>this.syncEngine.ao(i)))}}}else this.Os.push(t)})}}get Hs(){return this.xs.get(this.Cs)}Ks(){this.setItem(this.Ns,this.Hs.bs())}zs(e,t,r){const i=new Hg(this.currentUser,e,t,r),o=M1(this.persistenceKey,this.currentUser,e);this.setItem(o,i.bs())}js(e){const t=M1(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ys(e){const t={clientId:this.Cs,onlineState:e};this.storage.setItem(this.Qs,JSON.stringify(t))}Js(e,t,r){const i=$E(this.persistenceKey,e),o=new Qf(e,t,r);this.setItem(i,o.bs())}Zs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.$s,t)}Xs(e){const t=this.Ls.exec(e);return t?t[1]:null}no(e,t){const r=this.Xs(e);return Gg.Ss(r,t)}ro(e,t){const r=this.ks.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Hg.Ss(new _n(o),i,t)}so(e,t){const r=this.qs.exec(e),i=Number(r[1]);return Qf.Ss(i,t)}Us(e){return Xb.Ss(e)}_o(e){return JSON.parse(e)}async io(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.uo(e.batchId,e.state,e.error);fe(Ni,`Ignoring mutation for non-active user ${e.user.uid}`)}oo(e){return this.syncEngine.co(e.targetId,e.state,e.error)}eo(e,t){const r=t?this.xs.insert(e,t):this.xs.remove(e),i=this.Gs(this.xs),o=this.Gs(r),u=[],c=[];return o.forEach(f=>{i.has(f)||u.push(f)}),i.forEach(f=>{o.has(f)||c.push(f)}),this.syncEngine.lo(u,c).then(()=>{this.xs=r})}Ws(e){this.xs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Gs(e){let t=kb();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class fM{constructor(){this.ho=new Zw,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Zw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="ConnectivityMonitor";class L1{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){fe(V1,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){fe(V1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dm=null;function Jw(){return Dm===null?Dm=function(){return 268435456+Math.round(2147483648*Math.random())}():Dm++,"0x"+Dm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="RestConnection",F7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class z7{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===jw?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,t,r,i,o){const u=Jw(),c=this.bo(e,t.toUriEncodedString());fe(HE,`Sending RPC '${e}' ${u}:`,c,r);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,i,o),this.vo(e,c,f,r).then(h=>(fe(HE,`Received RPC '${e}' ${u}: `,h),h),h=>{throw $i(HE,`RPC '${e}' ${u} failed with error: `,h,"url: ",c,"request:",r),h})}Co(e,t,r,i,o,u){return this.So(e,t,r,i,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,t){const r=F7[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn="WebChannelConnection";class q7 extends z7{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const o=Jw();return new Promise((u,c)=>{const f=new bP;f.setWithCredentials(!0),f.listenOnce(SP.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Ym.NO_ERROR:const g=f.getResponseJson();fe(Vn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),u(g);break;case Ym.TIMEOUT:fe(Vn,`RPC '${e}' ${o} timed out`),c(new ce(re.DEADLINE_EXCEEDED,"Request time out"));break;case Ym.HTTP_ERROR:const v=f.getStatus();if(fe(Vn,`RPC '${e}' ${o} failed with status:`,v,"response text:",f.getResponseText()),v>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E==null?void 0:E.error;if(S&&S.status&&S.message){const A=function(x){const U=x.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(U)>=0?U:re.UNKNOWN}(S.status);c(new ce(A,S.message))}else c(new ce(re.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new ce(re.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{fe(Vn,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);fe(Vn,`RPC '${e}' ${o} sending request:`,i),f.send(t,"POST",h,r,15)})}Wo(e,t,r){const i=Jw(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=RP(),c=AP(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=o.join("");fe(Vn,`Creating RPC '${e}' stream ${i}: ${g}`,f);const v=u.createWebChannel(g,f);let E=!1,S=!1;const A=new $7({Fo:x=>{S?fe(Vn,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(E||(fe(Vn,`Opening RPC '${e}' stream ${i} transport.`),v.open(),E=!0),fe(Vn,`RPC '${e}' stream ${i} sending:`,x),v.send(x))},Mo:()=>v.close()}),k=(x,U,$)=>{x.listen(U,B=>{try{$(B)}catch(Q){setTimeout(()=>{throw Q},0)}})};return k(v,xf.EventType.OPEN,()=>{S||(fe(Vn,`RPC '${e}' stream ${i} transport opened.`),A.Qo())}),k(v,xf.EventType.CLOSE,()=>{S||(S=!0,fe(Vn,`RPC '${e}' stream ${i} transport closed`),A.Ko())}),k(v,xf.EventType.ERROR,x=>{S||(S=!0,$i(Vn,`RPC '${e}' stream ${i} transport errored:`,x),A.Ko(new ce(re.UNAVAILABLE,"The operation could not be completed")))}),k(v,xf.EventType.MESSAGE,x=>{var U;if(!S){const $=x.data[0];Ie(!!$);const B=$,Q=(B==null?void 0:B.error)||((U=B[0])===null||U===void 0?void 0:U.error);if(Q){fe(Vn,`RPC '${e}' stream ${i} received error:`,Q);const H=Q.status;let X=function(C){const P=Zt[C];if(P!==void 0)return Ik(P)}(H),D=Q.message;X===void 0&&(X=re.INTERNAL,D="Unknown error status: "+H+" with message "+Q.message),S=!0,A.Ko(new ce(X,D)),v.close()}else fe(Vn,`RPC '${e}' stream ${i} received:`,$),A.Uo($)}}),k(c,IP.STAT_EVENT,x=>{x.stat===Dw.PROXY?fe(Vn,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Dw.NOPROXY&&fe(Vn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.$o()},0),A}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(){return typeof window<"u"?window:null}function sg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(n){return new Q8(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="PersistentStream";class pM{constructor(e,t,r,i,o,u,c,f){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Zb(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(Gt(t.toString()),Gt("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new ce(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return fe(j1,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(fe(j1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class H7 extends pM{constructor(e,t,r,i,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=Z8(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ce.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ce.min():u.readTime?Kt(u.readTime):Ce.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=Kw(this.serializer),t.addTarget=function(o,u){let c;const f=u.target;if(c=Lg(f)?{documents:Mk(o,f)}:{query:Vk(o,f).ht},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=xk(o,u.resumeToken);const h=Hw(o,u.expectedCount);h!==null&&(c.expectedCount=h)}else if(u.snapshotVersion.compareTo(Ce.min())>0){c.readTime=Oc(o,u.snapshotVersion.toTimestamp());const h=Hw(o,u.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);const r=e7(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=Kw(this.serializer),t.removeTarget=e,this.I_(t)}}class G7 extends pM{constructor(e,t,r,i,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=J8(e.writeResults,e.commitTime),r=Kt(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=Kw(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>vh(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{}class W7 extends K7{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new ce(re.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.So(e,Gw(t,r),i,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(re.UNKNOWN,o.toString())})}Co(e,t,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.Co(e,Gw(t,r),i,u,c,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(re.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Q7{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Gt(t),this.N_=!1):fe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl="RemoteStore";class Y7{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(u=>{r.enqueueAndForget(async()=>{To(this)&&(fe(Bl,"Restarting streams for network reachability change."),await async function(f){const h=Ee(f);h.W_.add(4),await Jc(h),h.j_.set("Unknown"),h.W_.delete(4),await Xh(h)}(this))})}),this.j_=new Q7(r,i)}}async function Xh(n){if(To(n))for(const e of n.G_)await e(!0)}async function Jc(n){for(const e of n.G_)await e(!1)}function zy(n,e){const t=Ee(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),t0(t)?e0(t):td(t).c_()&&Jb(t,e))}function kc(n,e){const t=Ee(n),r=td(t);t.U_.delete(e),r.c_()&&mM(t,e),t.U_.size===0&&(r.c_()?r.P_():To(t)&&t.j_.set("Unknown"))}function Jb(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}td(n).y_(e)}function mM(n,e){n.H_.Ne(e),td(n).w_(e)}function e0(n){n.H_=new H8({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),td(n).start(),n.j_.B_()}function t0(n){return To(n)&&!td(n).u_()&&n.U_.size>0}function To(n){return Ee(n).W_.size===0}function gM(n){n.H_=void 0}async function X7(n){n.j_.set("Online")}async function Z7(n){n.U_.forEach((e,t)=>{Jb(n,e)})}async function J7(n,e){gM(n),t0(n)?(n.j_.q_(e),e0(n)):n.j_.set("Unknown")}async function eG(n,e,t){if(n.j_.set("Online"),e instanceof Ck&&e.state===2&&e.cause)try{await async function(i,o){const u=o.cause;for(const c of o.targetIds)i.U_.has(c)&&(await i.remoteSyncer.rejectListen(c,u),i.U_.delete(c),i.H_.removeTarget(c))}(n,e)}catch(r){fe(Bl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Kg(n,r)}else if(e instanceof ig?n.H_.We(e):e instanceof Rk?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ce.min()))try{const r=await iM(n.localStore);t.compareTo(r)>=0&&await function(o,u){const c=o.H_.ot(u);return c.targetChanges.forEach((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const g=o.U_.get(h);g&&o.U_.set(h,g.withResumeToken(f.resumeToken,u))}}),c.targetMismatches.forEach((f,h)=>{const g=o.U_.get(f);if(!g)return;o.U_.set(f,g.withResumeToken(Ft.EMPTY_BYTE_STRING,g.snapshotVersion)),mM(o,f);const v=new As(g.target,f,h,g.sequenceNumber);Jb(o,v)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){fe(Bl,"Failed to raise snapshot:",r),await Kg(n,r)}}async function Kg(n,e,t){if(!Eo(e))throw e;n.W_.add(1),await Jc(n),n.j_.set("Offline"),t||(t=()=>iM(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{fe(Bl,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Xh(n)})}function yM(n,e){return e().catch(t=>Kg(n,t,e))}async function ed(n){const e=Ee(n),t=uo(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:Qa;for(;tG(e);)try{const i=await L7(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,nG(e,i)}catch(i){await Kg(e,i)}vM(e)&&_M(e)}function tG(n){return To(n)&&n.K_.length<10}function nG(n,e){n.K_.push(e);const t=uo(n);t.c_()&&t.S_&&t.b_(e.mutations)}function vM(n){return To(n)&&!uo(n).u_()&&n.K_.length>0}function _M(n){uo(n).start()}async function rG(n){uo(n).C_()}async function iG(n){const e=uo(n);for(const t of n.K_)e.b_(t.mutations)}async function sG(n,e,t){const r=n.K_.shift(),i=jb.from(r,e,t);await yM(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await ed(n)}async function aG(n,e){e&&uo(n).S_&&await async function(r,i){if(function(u){return Sk(u)&&u!==re.ABORTED}(i.code)){const o=r.K_.shift();uo(r).h_(),await yM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await ed(r)}}(n,e),vM(n)&&_M(n)}async function U1(n,e){const t=Ee(n);t.asyncQueue.verifyOperationInProgress(),fe(Bl,"RemoteStore received new credentials");const r=To(t);t.W_.add(3),await Jc(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Xh(t)}async function eT(n,e){const t=Ee(n);e?(t.W_.delete(2),await Xh(t)):e||(t.W_.add(2),await Jc(t),t.j_.set("Unknown"))}function td(n){return n.J_||(n.J_=function(t,r,i){const o=Ee(t);return o.M_(),new H7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:X7.bind(null,n),No:Z7.bind(null,n),Lo:J7.bind(null,n),p_:eG.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),t0(n)?e0(n):n.j_.set("Unknown")):(await n.J_.stop(),gM(n))})),n.J_}function uo(n){return n.Y_||(n.Y_=function(t,r,i){const o=Ee(t);return o.M_(),new G7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:rG.bind(null,n),Lo:aG.bind(null,n),D_:iG.bind(null,n),v_:sG.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await ed(n)):(await n.Y_.stop(),n.K_.length>0&&(fe(Bl,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Dn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const u=Date.now()+r,c=new n0(e,t,u,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nd(n,e){if(Gt("AsyncQueue",`${e}: ${n}`),Eo(n))return new ce(re.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{static emptySet(e){return new oc(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=Nf(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof oc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new oc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(){this.Z_=new Et(_e.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Te():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Mc{constructor(e,t,r,i,o,u,c,f,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,o){const u=[];return t.forEach(c=>{u.push({type:0,doc:c})}),new Mc(e,t,oc.emptySet(t),u,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oG{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class lG{constructor(){this.queries=F1(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=Ee(t),o=i.queries;i.queries=F1(),o.forEach((u,c)=>{for(const f of c.ta)f.onError(r)})})(this,new ce(re.ABORTED,"Firestore shutting down"))}}function F1(){return new Ks(n=>ck(n),Hh)}async function r0(n,e){const t=Ee(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new oG,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await t.onListen(i,!0);break;case 1:o.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(u){const c=nd(u,`Initialization of query '${Yu(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&s0(t)}async function i0(n,e){const t=Ee(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const u=o.ta.indexOf(e);u>=0&&(o.ta.splice(u,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function uG(n,e){const t=Ee(n);let r=!1;for(const i of e){const o=i.query,u=t.queries.get(o);if(u){for(const c of u.ta)c.oa(i)&&(r=!0);u.ea=i}}r&&s0(t)}function cG(n,e,t){const r=Ee(n),i=r.queries.get(e);if(i)for(const o of i.ta)o.onError(t);r.queries.delete(e)}function s0(n){n.ia.forEach(e=>{e.next()})}var tT,z1;(z1=tT||(tT={}))._a="default",z1.Cache="cache";class a0{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Mc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Mc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==tT.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dG{constructor(e,t){this.Ia=e,this.byteLength=t}Ea(){return"metadata"in this.Ia}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e){this.serializer=e}ps(e){return Bi(this.serializer,e)}ys(e){return e.metadata.exists?kk(this.serializer,e.document,!1):Tt.newNoDocument(this.ps(e.metadata.name),this.ws(e.metadata.readTime))}ws(e){return Kt(e)}}class fG{constructor(e,t,r){this.da=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=EM(e)}Aa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ia.namedQuery)this.queries.push(e.Ia.namedQuery);else if(e.Ia.documentMetadata){this.documents.push({metadata:e.Ia.documentMetadata}),e.Ia.documentMetadata.exists||++t;const r=Je.fromString(e.Ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Ia.document&&(this.documents[this.documents.length-1].document=e.Ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ra(e){const t=new Map,r=new $1(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.ps(i.metadata.name);for(const u of i.metadata.queries){const c=(t.get(u)||$e()).add(o);t.set(u,c)}}return t}async complete(){const e=await j7(this.localStore,new $1(this.serializer),this.documents,this.da.id),t=this.Ra(this.documents);for(const r of this.queries)await U7(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Va:this.collectionGroups,ma:e}}}function EM(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e){this.key=e}}class TM{constructor(e){this.key=e}}class bM{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=$e(),this.mutatedKeys=$e(),this.ya=fk(e),this.wa=new oc(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new B1,i=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,u=i,c=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,v)=>{const E=i.get(g),S=Gh(this.query,v)?v:null,A=!!E&&this.mutatedKeys.has(E.key),k=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let x=!1;E&&S?E.data.isEqual(S.data)?A!==k&&(r.track({type:3,doc:S}),x=!0):this.va(E,S)||(r.track({type:2,doc:S}),x=!0,(f&&this.ya(S,f)>0||h&&this.ya(S,h)<0)&&(c=!0)):!E&&S?(r.track({type:0,doc:S}),x=!0):E&&!S&&(r.track({type:1,doc:E}),x=!0,(f||h)&&(c=!0)),x&&(S?(u=u.add(S),o=k?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{wa:u,Da:r,ls:c,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((g,v)=>function(S,A){const k=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return k(S)-k(A)}(g.type,v.type)||this.ya(g.doc,v.doc)),this.Ca(r),i=i!=null&&i;const c=t&&!i?this.Fa():[],f=this.pa.size===0&&this.current&&!i?1:0,h=f!==this.ga;return this.ga=f,u.length!==0||h?{snapshot:new Mc(this.query,e.wa,o,u,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new B1,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=$e(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new TM(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new wM(r))}),t}Oa(e){this.fa=e.gs,this.pa=$e();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Mc.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const bo="SyncEngine";class hG{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class pG{constructor(e){this.key=e,this.Ba=!1}}class mG{constructor(e,t,r,i,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new Ks(c=>ck(c),Hh),this.qa=new Map,this.Qa=new Set,this.$a=new Et(_e.comparator),this.Ka=new Map,this.Ua=new Hb,this.Wa={},this.Ga=new Map,this.za=Ul.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function gG(n,e,t=!0){const r=$y(n);let i;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await SM(r,e,t,!0),i}async function yG(n,e){const t=$y(n);await SM(t,e,!0,!1)}async function SM(n,e,t,r){const i=await Dc(n.localStore,Yn(e)),o=i.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let c;return r&&(c=await o0(n,e,o,u==="current",i.resumeToken)),n.isPrimaryClient&&t&&zy(n.remoteStore,i),c}async function o0(n,e,t,r,i){n.Ha=(v,E,S)=>async function(k,x,U,$){let B=x.view.ba(U);B.ls&&(B=await qg(k.localStore,x.query,!1).then(({documents:D})=>x.view.ba(D,B)));const Q=$&&$.targetChanges.get(x.targetId),H=$&&$.targetMismatches.get(x.targetId)!=null,X=x.view.applyChanges(B,k.isPrimaryClient,Q,H);return nT(k,x.targetId,X.Ma),X.snapshot}(n,v,E,S);const o=await qg(n.localStore,e,!0),u=new bM(e,o.gs),c=u.ba(o.documents),f=Qh.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),h=u.applyChanges(c,n.isPrimaryClient,f);nT(n,t,h.Ma);const g=new hG(e,t,u);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),h.snapshot}async function vG(n,e,t){const r=Ee(n),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(u=>!Hh(u,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Pc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&kc(r.remoteStore,i.targetId),Vc(r,i.targetId)}).catch(_o)):(Vc(r,i.targetId),await Pc(r.localStore,i.targetId,!0))}async function _G(n,e){const t=Ee(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),kc(t.remoteStore,r.targetId))}async function EG(n,e,t){const r=d0(n);try{const i=await function(u,c){const f=Ee(u),h=Ct.now(),g=c.reduce((S,A)=>S.add(A.key),$e());let v,E;return f.persistence.runTransaction("Locally write mutations","readwrite",S=>{let A=sr(),k=$e();return f.ds.getEntries(S,g).next(x=>{A=x,A.forEach((U,$)=>{$.isValidDocument()||(k=k.add(U))})}).next(()=>f.localDocuments.getOverlayedDocuments(S,A)).next(x=>{v=x;const U=[];for(const $ of c){const B=z8($,v.get($.key).overlayedDocument);B!=null&&U.push(new Ws($.key,B,tk(B.value.mapValue),At.exists(!0)))}return f.mutationQueue.addMutationBatch(S,h,U,c)}).next(x=>{E=x;const U=x.applyToLocalDocumentSet(v,k);return f.documentOverlayCache.saveOverlays(S,x.batchId,U)})}).then(()=>({batchId:E.batchId,changes:pk(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,c,f){let h=u.Wa[u.currentUser.toKey()];h||(h=new Et(Ue)),h=h.insert(c,f),u.Wa[u.currentUser.toKey()]=h}(r,i.batchId,t),await Qs(r,i.changes),await ed(r.remoteStore)}catch(i){const o=nd(i,"Failed to persist write");t.reject(o)}}async function IM(n,e){const t=Ee(n);try{const r=await V7(t.localStore,e);e.targetChanges.forEach((i,o)=>{const u=t.Ka.get(o);u&&(Ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.Ba=!0:i.modifiedDocuments.size>0?Ie(u.Ba):i.removedDocuments.size>0&&(Ie(u.Ba),u.Ba=!1))}),await Qs(t,r,e)}catch(r){await _o(r)}}function q1(n,e,t){const r=Ee(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((o,u)=>{const c=u.view.sa(e);c.snapshot&&i.push(c.snapshot)}),function(u,c){const f=Ee(u);f.onlineState=c;let h=!1;f.queries.forEach((g,v)=>{for(const E of v.ta)E.sa(c)&&(h=!0)}),h&&s0(f)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function wG(n,e,t){const r=Ee(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),o=i&&i.key;if(o){let u=new Et(_e.comparator);u=u.insert(o,Tt.newNoDocument(o,Ce.min()));const c=$e().add(o),f=new Wh(Ce.min(),new Map,new Et(Ue),u,c);await IM(r,f),r.$a=r.$a.remove(o),r.Ka.delete(e),c0(r)}else await Pc(r.localStore,e,!1).then(()=>Vc(r,e,t)).catch(_o)}async function TG(n,e){const t=Ee(n),r=e.batch.batchId;try{const i=await M7(t.localStore,e);u0(t,r,null),l0(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Qs(t,i)}catch(i){await _o(i)}}async function bG(n,e,t){const r=Ee(n);try{const i=await function(u,c){const f=Ee(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let g;return f.mutationQueue.lookupMutationBatch(h,c).next(v=>(Ie(v!==null),g=v.keys(),f.mutationQueue.removeMutationBatch(h,v))).next(()=>f.mutationQueue.performConsistencyCheck(h)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(h,g,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,g)).next(()=>f.localDocuments.getDocuments(h,g))})}(r.localStore,e);u0(r,e,t),l0(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Qs(r,i)}catch(i){await _o(i)}}async function SG(n,e){const t=Ee(n);To(t.remoteStore)||fe(bo,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(u){const c=Ee(u);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>c.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(r===Qa)return void e.resolve();const i=t.Ga.get(r)||[];i.push(e),t.Ga.set(r,i)}catch(r){const i=nd(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function l0(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function u0(n,e,t){const r=Ee(n);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function Vc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(r=>{n.Ua.containsKey(r)||AM(n,r)})}function AM(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(kc(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),c0(n))}function nT(n,e,t){for(const r of t)r instanceof wM?(n.Ua.addReference(r.key,e),IG(n,r)):r instanceof TM?(fe(bo,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||AM(n,r.key)):Te()}function IG(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(fe(bo,"New document in limbo: "+t),n.Qa.add(r),c0(n))}function c0(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new _e(Je.fromString(e)),r=n.za.next();n.Ka.set(r,new pG(t)),n.$a=n.$a.insert(t,r),zy(n.remoteStore,new As(Yn(Yc(t.path)),r,"TargetPurposeLimboResolution",rr.ae))}}async function Qs(n,e,t){const r=Ee(n),i=[],o=[],u=[];r.ka.isEmpty()||(r.ka.forEach((c,f)=>{u.push(r.Ha(f,e,t).then(h=>{var g;if((h||t)&&r.isPrimaryClient){const v=h?!h.fromCache:(g=t==null?void 0:t.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(h){i.push(h);const v=Qb.Yi(f.targetId,h);o.push(v)}}))}),await Promise.all(u),r.La.p_(i),await async function(f,h){const g=Ee(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ee.forEach(h,E=>ee.forEach(E.Hi,S=>g.persistence.referenceDelegate.addReference(v,E.targetId,S)).next(()=>ee.forEach(E.Ji,S=>g.persistence.referenceDelegate.removeReference(v,E.targetId,S)))))}catch(v){if(!Eo(v))throw v;fe(Yb,"Failed to update sequence numbers: "+v)}for(const v of h){const E=v.targetId;if(!v.fromCache){const S=g.Ts.get(E),A=S.snapshotVersion,k=S.withLastLimboFreeSnapshotVersion(A);g.Ts=g.Ts.insert(E,k)}}}(r.localStore,o))}async function AG(n,e){const t=Ee(n);if(!t.currentUser.isEqual(e)){fe(bo,"User change. New user:",e.toKey());const r=await rM(t.localStore,e);t.currentUser=e,function(o,u){o.Ga.forEach(c=>{c.forEach(f=>{f.reject(new ce(re.CANCELLED,u))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Qs(t,r.Rs)}}function RG(n,e){const t=Ee(n),r=t.Ka.get(e);if(r&&r.Ba)return $e().add(r.key);{let i=$e();const o=t.qa.get(e);if(!o)return i;for(const u of o){const c=t.ka.get(u);i=i.unionWith(c.view.Sa)}return i}}async function CG(n,e){const t=Ee(n),r=await qg(t.localStore,e.query,!0),i=e.view.Oa(r);return t.isPrimaryClient&&nT(t,e.targetId,i.Ma),i}async function xG(n,e){const t=Ee(n);return oM(t.localStore,e).then(r=>Qs(t,r))}async function NG(n,e,t,r){const i=Ee(n),o=await function(c,f){const h=Ee(c),g=Ee(h.mutationQueue);return h.persistence.runTransaction("Lookup mutation documents","readonly",v=>g.Ln(v,f).next(E=>E?h.localDocuments.getDocuments(v,E):ee.resolve(null)))}(i.localStore,e);o!==null?(t==="pending"?await ed(i.remoteStore):t==="acknowledged"||t==="rejected"?(u0(i,e,r||null),l0(i,e),function(c,f){Ee(Ee(c).mutationQueue).qn(f)}(i.localStore,e)):Te(),await Qs(i,o)):fe(bo,"Cannot apply mutation batch with id: "+e)}async function OG(n,e){const t=Ee(n);if($y(t),d0(t),e===!0&&t.ja!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await H1(t,r.toArray());t.ja=!0,await eT(t.remoteStore,!0);for(const o of i)zy(t.remoteStore,o)}else if(e===!1&&t.ja!==!1){const r=[];let i=Promise.resolve();t.qa.forEach((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(Vc(t,u),Pc(t.localStore,u,!0))),kc(t.remoteStore,u)}),await i,await H1(t,r),function(u){const c=Ee(u);c.Ka.forEach((f,h)=>{kc(c.remoteStore,h)}),c.Ua.Dr(),c.Ka=new Map,c.$a=new Et(_e.comparator)}(t),t.ja=!1,await eT(t.remoteStore,!1)}}async function H1(n,e,t){const r=Ee(n),i=[],o=[];for(const u of e){let c;const f=r.qa.get(u);if(f&&f.length!==0){c=await Dc(r.localStore,Yn(f[0]));for(const h of f){const g=r.ka.get(h),v=await CG(r,g);v.snapshot&&o.push(v.snapshot)}}else{const h=await aM(r.localStore,u);c=await Dc(r.localStore,h),await o0(r,RM(h),u,!1,c.resumeToken)}i.push(c)}return r.La.p_(o),i}function RM(n){return uk(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function DG(n){return function(t){return Ee(Ee(t).persistence).zi()}(Ee(n).localStore)}async function PG(n,e,t,r){const i=Ee(n);if(i.ja)return void fe(bo,"Ignoring unexpected query state notification.");const o=i.qa.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=await oM(i.localStore,dk(o[0])),c=Wh.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Ft.EMPTY_BYTE_STRING);await Qs(i,u,c);break}case"rejected":await Pc(i.localStore,e,!0),Vc(i,e,r);break;default:Te()}}async function kG(n,e,t){const r=$y(n);if(r.ja){for(const i of e){if(r.qa.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){fe(bo,"Adding an already active target "+i);continue}const o=await aM(r.localStore,i),u=await Dc(r.localStore,o);await o0(r,RM(o),u.targetId,!1,u.resumeToken),zy(r.remoteStore,u)}for(const i of t)r.qa.has(i)&&await Pc(r.localStore,i,!1).then(()=>{kc(r.remoteStore,i),Vc(r,i)}).catch(_o)}}function $y(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=IM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wG.bind(null,e),e.La.p_=uG.bind(null,e.eventManager),e.La.Ja=cG.bind(null,e.eventManager),e}function d0(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bG.bind(null,e),e}function MG(n,e,t){const r=Ee(n);(async function(o,u,c){try{const f=await u.getMetadata();if(await function(S,A){const k=Ee(S),x=Kt(A.createTime);return k.persistence.runTransaction("hasNewerBundle","readonly",U=>k.Yr.getBundleMetadata(U,A.id)).then(U=>!!U&&U.createTime.compareTo(x)>=0)}(o.localStore,f))return await u.close(),c._completeWith(function(S){return{taskState:"Success",documentsLoaded:S.totalDocuments,bytesLoaded:S.totalBytes,totalDocuments:S.totalDocuments,totalBytes:S.totalBytes}}(f)),Promise.resolve(new Set);c._updateProgress(EM(f));const h=new fG(f,o.localStore,u.serializer);let g=await u.Ya();for(;g;){const E=await h.Aa(g);E&&c._updateProgress(E),g=await u.Ya()}const v=await h.complete();return await Qs(o,v.ma,void 0),await function(S,A){const k=Ee(S);return k.persistence.runTransaction("Save bundle","readwrite",x=>k.Yr.saveBundleMetadata(x,A))}(o.localStore,f),c._completeWith(v.progress),Promise.resolve(v.Va)}catch(f){return $i(bo,`Loading bundle failed with ${f}`),c._failWith(f),Promise.resolve(new Set)}})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return nM(this.persistence,new tM,e.initialUser,this.serializer)}Xa(e){return new Gb(Fy.ri,this.serializer)}Za(e){return new fM}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class VG extends _h{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ie(this.persistence.referenceDelegate instanceof $g);const r=this.persistence.referenceDelegate.garbageCollector;return new Qk(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?jn.withCacheSize(this.cacheSizeBytes):jn.DEFAULT;return new Gb(r=>$g.ri(r,t),this.serializer)}}class CM extends _h{constructor(e,t,r){super(),this.ru=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ru.initialize(this,e),await d0(this.ru.syncEngine),await ed(this.ru.remoteStore),await this.persistence.Ci(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}eu(e){return nM(this.persistence,new tM,e.initialUser,this.serializer)}tu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new Qk(r,e.asyncQueue,t)}nu(e,t){const r=new HH(t,this.persistence);return new qH(e.asyncQueue,r)}Xa(e){const t=Wb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?jn.withCacheSize(this.cacheSizeBytes):jn.DEFAULT;return new Kb(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,hM(),sg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Za(e){return new fM}}class LG extends CM{constructor(e,t){super(e,t,!1),this.ru=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ru.syncEngine;this.sharedClientState instanceof qE&&(this.sharedClientState.syncEngine={uo:NG.bind(null,t),co:PG.bind(null,t),lo:kG.bind(null,t),zi:DG.bind(null,t),ao:xG.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ci(async r=>{await OG(this.ru.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Za(e){const t=hM();if(!qE.D(t))throw new ce(re.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Wb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new qE(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Eh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>q1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AG.bind(null,this.syncEngine),await eT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lG}()}createDatastore(e){const t=Yh(e.databaseInfo.databaseId),r=function(o){return new q7(o)}(e.databaseInfo);return function(o,u,c,f){return new W7(o,u,c,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,u,c){return new Y7(r,i,o,u,c)}(this.localStore,this.datastore,e.asyncQueue,t=>q1(this.syncEngine,t,0),function(){return L1.D()?new L1:new B7}())}createSyncEngine(e,t){return function(i,o,u,c,f,h,g){const v=new mG(i,o,u,c,f,h);return g&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=Ee(i);fe(Bl,"RemoteStore shutting down."),o.W_.add(5),await Jc(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Eh.provider={build:()=>new Eh};function G1(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Gt("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG{constructor(e,t){this.ou=e,this.serializer=t,this.metadata=new Dn,this.buffer=new Uint8Array,this._u=function(){return new TextDecoder("utf-8")}(),this.au().then(r=>{r&&r.Ea()?this.metadata.resolve(r.Ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Ia)}`))},r=>this.metadata.reject(r))}close(){return this.ou.cancel()}async getMetadata(){return this.metadata.promise}async Ya(){return await this.getMetadata(),this.au()}async au(){const e=await this.uu();if(e===null)return null;const t=this._u.decode(e),r=Number(t);isNaN(r)&&this.cu(`length string (${t}) is not valid number`);const i=await this.lu(r);return new dG(JSON.parse(i),e.length+r)}hu(){return this.buffer.findIndex(e=>e===123)}async uu(){for(;this.hu()<0&&!await this.Pu(););if(this.buffer.length===0)return null;const e=this.hu();e<0&&this.cu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async lu(e){for(;this.buffer.length<e;)await this.Pu()&&this.cu("Reached the end of bundle when more is expected.");const t=this._u.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}cu(e){throw this.ou.cancel(),new Error(`Invalid bundle format: ${e}`)}async Pu(){const e=await this.ou.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UG{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ce(re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(i,o){const u=Ee(i),c={documents:o.map(v=>yh(u.serializer,v))},f=await u.Co("BatchGetDocuments",u.serializer.databaseId,Je.emptyPath(),c,o.length),h=new Map;f.forEach(v=>{const E=X8(u.serializer,v);h.set(E.key.toString(),E)});const g=[];return o.forEach(v=>{const E=h.get(v.toString());Ie(!!E),g.push(E)}),g}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Zc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const i=_e.fromPath(r);this.mutations.push(new Vb(i,this.precondition(i)))}),await async function(r,i){const o=Ee(r),u={writes:i.map(c=>vh(o.serializer,c))};await o.So("Commit",o.serializer.databaseId,Je.emptyPath(),u)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Te();t=Ce.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ce(re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ce.min())?At.exists(!1):At.updateTime(t):At.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ce.min()))throw new ce(re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return At.updateTime(t)}return At.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BG{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this.Tu=r.maxAttempts,this.a_=new Zb(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo(async()=>{const e=new UG(this.datastore),t=this.du(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Au(i)}))}).catch(r=>{this.Au(r)})})}du(e){try{const t=this.updateFunction(e);return!zh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Au(e){this.Tu>0&&this.Ru(e)?(this.Tu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Eu(),Promise.resolve()))):this.deferred.reject(e)}Ru(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!Sk(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co="FirestoreClient";class FG{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=_n.UNAUTHENTICATED,this.clientId=xP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{fe(co,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(fe(co,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Dn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=nd(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function GE(n,e){n.asyncQueue.verifyOperationInProgress(),fe(co,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await rM(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function K1(n,e){n.asyncQueue.verifyOperationInProgress();const t=await f0(n);fe(co,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>U1(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>U1(e.remoteStore,i)),n._onlineComponents=e}async function f0(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){fe(co,"Using user provided OfflineComponentProvider");try{await GE(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===re.FAILED_PRECONDITION||i.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;$i("Error using user provided cache. Falling back to memory cache: "+t),await GE(n,new _h)}}else fe(co,"Using default OfflineComponentProvider"),await GE(n,new VG(void 0));return n._offlineComponents}async function Hy(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(fe(co,"Using user provided OnlineComponentProvider"),await K1(n,n._uninitializedComponentsProvider._online)):(fe(co,"Using default OnlineComponentProvider"),await K1(n,new Eh))),n._onlineComponents}function xM(n){return f0(n).then(e=>e.persistence)}function h0(n){return f0(n).then(e=>e.localStore)}function NM(n){return Hy(n).then(e=>e.remoteStore)}function p0(n){return Hy(n).then(e=>e.syncEngine)}function zG(n){return Hy(n).then(e=>e.datastore)}async function Lc(n){const e=await Hy(n),t=e.eventManager;return t.onListen=gG.bind(null,e.syncEngine),t.onUnlisten=vG.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=yG.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=_G.bind(null,e.syncEngine),t}function $G(n){return n.asyncQueue.enqueue(async()=>{const e=await xM(n),t=await NM(n);return e.setNetworkEnabled(!0),function(i){const o=Ee(i);return o.W_.delete(0),Xh(o)}(t)})}function qG(n){return n.asyncQueue.enqueue(async()=>{const e=await xM(n),t=await NM(n);return e.setNetworkEnabled(!1),async function(i){const o=Ee(i);o.W_.add(0),await Jc(o),o.j_.set("Offline")}(t)})}function HG(n,e){const t=new Dn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,u){try{const c=await function(h,g){const v=Ee(h);return v.persistence.runTransaction("read document","readonly",E=>v.localDocuments.getDocument(E,g))}(i,o);c.isFoundDocument()?u.resolve(c):c.isNoDocument()?u.resolve(null):u.reject(new ce(re.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const f=nd(c,`Failed to get document '${o} from cache`);u.reject(f)}}(await h0(n),e,t)),t.promise}function OM(n,e,t={}){const r=new Dn;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,c,f,h){const g=new qy({next:E=>{g.su(),u.enqueueAndForget(()=>i0(o,v));const S=E.docs.has(c);!S&&E.fromCache?h.reject(new ce(re.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&f&&f.source==="server"?h.reject(new ce(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(E)},error:E=>h.reject(E)}),v=new a0(Yc(c.path),g,{includeMetadataChanges:!0,Ta:!0});return r0(o,v)}(await Lc(n),n.asyncQueue,e,t,r)),r.promise}function GG(n,e){const t=new Dn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,u){try{const c=await qg(i,o,!0),f=new bM(o,c.gs),h=f.ba(c.documents),g=f.applyChanges(h,!1);u.resolve(g.snapshot)}catch(c){const f=nd(c,`Failed to execute query '${o} against cache`);u.reject(f)}}(await h0(n),e,t)),t.promise}function DM(n,e,t={}){const r=new Dn;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,c,f,h){const g=new qy({next:E=>{g.su(),u.enqueueAndForget(()=>i0(o,v)),E.fromCache&&f.source==="server"?h.reject(new ce(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(E)},error:E=>h.reject(E)}),v=new a0(c,g,{includeMetadataChanges:!0,Ta:!0});return r0(o,v)}(await Lc(n),n.asyncQueue,e,t,r)),r.promise}function KG(n,e){const t=new qy(e);return n.asyncQueue.enqueueAndForget(async()=>function(i,o){Ee(i).ia.add(o),o.next()}(await Lc(n),t)),()=>{t.su(),n.asyncQueue.enqueueAndForget(async()=>function(i,o){Ee(i).ia.delete(o)}(await Lc(n),t))}}function WG(n,e,t,r){const i=function(u,c){let f;return f=typeof u=="string"?Ak().encode(u):u,function(g,v){return new jG(g,v)}(function(g,v){if(g instanceof Uint8Array)return G1(g,v);if(g instanceof ArrayBuffer)return G1(new Uint8Array(g),v);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),c)}(t,Yh(e));n.asyncQueue.enqueueAndForget(async()=>{MG(await p0(n),i,r)})}function QG(n,e){return n.asyncQueue.enqueue(async()=>function(r,i){const o=Ee(r);return o.persistence.runTransaction("Get named query","readonly",u=>o.Yr.getNamedQuery(u,i))}(await h0(n),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(n,e,t){if(!t)throw new ce(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function kM(n,e,t,r){if(e===!0&&r===!0)throw new ce(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Q1(n){if(!_e.isDocumentKey(n))throw new ce(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Y1(n){if(_e.isDocumentKey(n))throw new ce(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Gy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te()}function ct(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ce(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Gy(n);throw new ce(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function MM(n,e){if(e<=0)throw new ce(re.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM="firestore.googleapis.com",X1=!0;class Z1{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VM,this.ssl=X1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:X1;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Hk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<g7)throw new ce(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ce(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ce(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ce(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new kH;switch(r.type){case"firstParty":return new jH(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=W1.get(t);r&&(fe("ComponentProvider","Removing Datastore"),W1.delete(t),r.terminate())}(this),Promise.resolve()}}function YG(n,e,t,r={}){var i;const o=(n=ct(n,Zh))._getSettings(),u=`${e}:${t}`;if(o.host!==VM&&o.host!==u&&$i("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:u,ssl:!1})),r.mockUserToken){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=_n.MOCK_USER;else{c=DF(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new ce(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new _n(h)}n._authCredentials=new MH(new CP(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xn=class LM{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new LM(this.firestore,e,this._query)}},kt=class jM{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ya(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jM(this.firestore,e,this._key)}},Ya=class UM extends Xn{constructor(e,t,r){super(e,t,Yc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new _e(e))}withConverter(e){return new UM(this.firestore,e,this._path)}};function BM(n,e,...t){if(n=Ne(n),m0("collection","path",e),n instanceof Zh){const r=Je.fromString(e,...t);return Y1(r),new Ya(n,null,r)}{if(!(n instanceof kt||n instanceof Ya))throw new ce(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Je.fromString(e,...t));return Y1(r),new Ya(n.firestore,null,r)}}function XG(n,e){if(n=ct(n,Zh),m0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ce(re.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xn(n,null,function(r){return new Gs(Je.emptyPath(),r)}(e))}function Wg(n,e,...t){if(n=Ne(n),arguments.length===1&&(e=xP.newId()),m0("doc","path",e),n instanceof Zh){const r=Je.fromString(e,...t);return Q1(r),new kt(n,null,new _e(r))}{if(!(n instanceof kt||n instanceof Ya))throw new ce(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Je.fromString(e,...t));return Q1(r),new kt(n.firestore,n instanceof Ya?n.converter:null,new _e(r))}}function FM(n,e){return n=Ne(n),e=Ne(e),(n instanceof kt||n instanceof Ya)&&(e instanceof kt||e instanceof Ya)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function zM(n,e){return n=Ne(n),e=Ne(e),n instanceof Xn&&e instanceof Xn&&n.firestore===e.firestore&&Hh(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="AsyncQueue";class ex{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Zb(this,"async_queue_retry"),this.Su=()=>{const r=sg();r&&fe(J1,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=sg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=sg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Dn;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Eo(e))throw e;fe(J1,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(u){let c=u.message||"";return u.stack&&(c=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),c}(r);throw Gt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=n0.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&Te()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function rT(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}class ZG{constructor(){this._progressObserver={},this._taskCompletionResolver=new Dn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JG=-1;let Wt=class extends Zh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new ex,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ex(e),this._firestoreClient=void 0,await e}}};function Fn(n){if(n._terminated)throw new ce(re.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||$M(n),n._firestoreClient}function $M(n){var e,t,r;const i=n._freezeSettings(),o=function(c,f,h,g){return new E8(c,f,h,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,PM(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new FG(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}}(n._componentsProvider))}function eK(n,e){$i("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return qM(n,Eh.provider,{build:r=>new CM(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function tK(n){$i("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();qM(n,Eh.provider,{build:t=>new LG(t,e.cacheSizeBytes)})}function qM(n,e,t){if((n=ct(n,Wt))._firestoreClient||n._terminated)throw new ce(re.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new ce(re.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},$M(n)}function nK(n){if(n._initialized&&!n._terminated)throw new ce(re.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Dn;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Ui.D())return Promise.resolve();const i=r+eM;await Ui.delete(i)}(Wb(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function rK(n){return function(t){const r=new Dn;return t.asyncQueue.enqueueAndForget(async()=>SG(await p0(t),r)),r.promise}(Fn(n=ct(n,Wt)))}function iK(n){return $G(Fn(n=ct(n,Wt)))}function sK(n){return qG(Fn(n=ct(n,Wt)))}function aK(n,e){const t=Fn(n=ct(n,Wt)),r=new ZG;return WG(t,n._databaseId,e,r),r}function oK(n,e){return QG(Fn(n=ct(n,Wt)),e).then(t=>t?new Xn(n,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hi(Ft.fromBase64String(e))}catch(t){throw new ce(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Hi(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fo=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new It(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kl=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lK=/^__.*__$/;class uK{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ws(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xc(e,this.data,t,this.fieldTransforms)}}class HM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ws(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function GM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class Wy{constructor(e,t,r,i,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Wy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Qg(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(GM(this.Lu)&&lK.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class cK{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Yh(e)}ju(e,t,r,i=!1){return new Wy({Lu:e,methodName:t,zu:r,path:It.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wl(n){const e=n._freezeSettings(),t=Yh(n._databaseId);return new cK(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Qy(n,e,t,r,i,o={}){const u=n.ju(o.merge||o.mergeFields?2:0,e,t,i);b0("Data must be an object, but it was:",u,r);const c=QM(r,u);let f,h;if(o.merge)f=new ir(u.fieldMask),h=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const v of o.mergeFields){const E=iT(e,v,t);if(!u.contains(E))throw new ce(re.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);XM(g,E)||g.push(E)}f=new ir(g),h=u.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,h=u.fieldTransforms;return new uK(new Nn(c),f,h)}class Jh extends Kl{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jh}}function KM(n,e,t){return new Wy({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class y0 extends Kl{_toFieldTransform(e){return new Kh(e.path,new xc)}isEqual(e){return e instanceof y0}}class v0 extends Kl{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=KM(this,e,!0),r=this.Hu.map(o=>Ql(o,t)),i=new Ml(r);return new Kh(e.path,i)}isEqual(e){return e instanceof v0&&Cl(this.Hu,e.Hu)}}class _0 extends Kl{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=KM(this,e,!0),r=this.Hu.map(o=>Ql(o,t)),i=new Vl(r);return new Kh(e.path,i)}isEqual(e){return e instanceof _0&&Cl(this.Hu,e.Hu)}}class E0 extends Kl{constructor(e,t){super(e),this.Ju=t}_toFieldTransform(e){const t=new Nc(e.serializer,yk(e.serializer,this.Ju));return new Kh(e.path,t)}isEqual(e){return e instanceof E0&&this.Ju===e.Ju}}function w0(n,e,t,r){const i=n.ju(1,e,t);b0("Data must be an object, but it was:",i,r);const o=[],u=Nn.empty();wo(r,(f,h)=>{const g=S0(e,f,t);h=Ne(h);const v=i.Ku(g);if(h instanceof Jh)o.push(g);else{const E=Ql(h,v);E!=null&&(o.push(g),u.set(g,E))}});const c=new ir(o);return new HM(u,c,i.fieldTransforms)}function T0(n,e,t,r,i,o){const u=n.ju(1,e,t),c=[iT(e,r,t)],f=[i];if(o.length%2!=0)throw new ce(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)c.push(iT(e,o[E])),f.push(o[E+1]);const h=[],g=Nn.empty();for(let E=c.length-1;E>=0;--E)if(!XM(h,c[E])){const S=c[E];let A=f[E];A=Ne(A);const k=u.Ku(S);if(A instanceof Jh)h.push(S);else{const x=Ql(A,k);x!=null&&(h.push(S),g.set(S,x))}}const v=new ir(h);return new HM(g,v,u.fieldTransforms)}function WM(n,e,t,r=!1){return Ql(t,n.ju(r?4:3,e))}function Ql(n,e){if(YM(n=Ne(n)))return b0("Unsupported field value:",e,n),QM(n,e);if(n instanceof Kl)return function(r,i){if(!GM(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const o=[];let u=0;for(const c of r){let f=Ql(c,i.Uu(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Ne(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yk(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ct.fromDate(r);return{timestampValue:Oc(i.serializer,o)}}if(r instanceof Ct){const o=new Ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Oc(i.serializer,o)}}if(r instanceof Ky)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hi)return{bytesValue:xk(i.serializer,r._byteString)};if(r instanceof kt){const o=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw i.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Fb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof g0)return function(u,c){return{mapValue:{fields:{[Nb]:{stringValue:Ob},[Ac]:{arrayValue:{values:u.toArray().map(h=>{if(typeof h!="number")throw c.Wu("VectorValues must only contain numeric values.");return Mb(c.serializer,h)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${Gy(r)}`)}(n,e)}function QM(n,e){const t={};return GP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wo(n,(r,i)=>{const o=Ql(i,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function YM(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ct||n instanceof Ky||n instanceof Hi||n instanceof kt||n instanceof Kl||n instanceof g0)}function b0(n,e,t){if(!YM(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Gy(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function iT(n,e,t){if((e=Ne(e))instanceof fo)return e._internalPath;if(typeof e=="string")return S0(n,e);throw Qg("Field path arguments must be of type string or ",n,!1,void 0,t)}const dK=new RegExp("[~\\*/\\[\\]]");function S0(n,e,t){if(e.search(dK)>=0)throw Qg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new fo(...e.split("."))._internalPath}catch{throw Qg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Qg(n,e,t,r,i){const o=r&&!r.isEmpty(),u=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${i}`),f+=")"),new ce(re.INVALID_ARGUMENT,c+n+f)}function XM(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Yy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class fK extends wh{data(){return super.data()}}function Yy(n,e){return typeof e=="string"?S0(n,e):e instanceof fo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ce(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class I0{}class ep extends I0{}function ja(n,e,...t){let r=[];e instanceof I0&&r.push(e),r=r.concat(t),function(o){const u=o.filter(f=>f instanceof A0).length,c=o.filter(f=>f instanceof Xy).length;if(u>1||u>0&&c>0)throw new ce(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Xy extends ep{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Xy(e,t,r)}_apply(e){const t=this._parse(e);return e2(e._query,t),new Xn(e.firestore,e.converter,qw(e._query,t))}_parse(e){const t=Wl(e.firestore);return function(o,u,c,f,h,g,v){let E;if(h.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ce(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){nx(v,g);const A=[];for(const k of v)A.push(tx(f,o,k));E={arrayValue:{values:A}}}else E=tx(f,o,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||nx(v,g),E=WM(c,u,v,g==="in"||g==="not-in");return et.create(h,g,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function hK(n,e,t){const r=e,i=Yy("where",n);return Xy._create(i,r,t)}class A0 extends I0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new A0(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ft.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let u=i;const c=o.getFlattenedFilters();for(const f of c)e2(u,f),u=qw(u,f)}(e._query,t),new Xn(e.firestore,e.converter,qw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class R0 extends ep{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new R0(e,t)}_apply(e){const t=function(i,o,u){if(i.startAt!==null)throw new ce(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ce(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gh(o,u)}(e._query,this._field,this._direction);return new Xn(e.firestore,e.converter,function(i,o){const u=i.explicitOrderBy.concat([o]);return new Gs(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function pK(n,e="asc"){const t=e,r=Yy("orderBy",n);return R0._create(r,t)}class Zy extends ep{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Zy(e,t,r)}_apply(e){return new Xn(e.firestore,e.converter,Ug(e._query,this._limit,this._limitType))}}function mK(n){return MM("limit",n),Zy._create("limit",n,"F")}function gK(n){return MM("limitToLast",n),Zy._create("limitToLast",n,"L")}class Jy extends ep{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Jy(e,t,r)}_apply(e){const t=JM(e,this.type,this._docOrFields,this._inclusive);return new Xn(e.firestore,e.converter,function(i,o){return new Gs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,t))}}function yK(...n){return Jy._create("startAt",n,!0)}function vK(...n){return Jy._create("startAfter",n,!1)}class ev extends ep{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new ev(e,t,r)}_apply(e){const t=JM(e,this.type,this._docOrFields,this._inclusive);return new Xn(e.firestore,e.converter,function(i,o){return new Gs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,t))}}function _K(...n){return ev._create("endBefore",n,!1)}function EK(...n){return ev._create("endAt",n,!0)}function JM(n,e,t,r){if(t[0]=Ne(t[0]),t[0]instanceof wh)return function(o,u,c,f,h){if(!f)throw new ce(re.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const g=[];for(const v of ac(o))if(v.field.isKeyField())g.push(Pl(u,f.key));else{const E=f.data.field(v.field);if(ky(E))throw new ce(re.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(E===null){const S=v.field.canonicalString();throw new ce(re.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${S}' (used as the orderBy) does not exist.`)}g.push(E)}return new lo(g,h)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Wl(n.firestore);return function(u,c,f,h,g,v){const E=u.explicitOrderBy;if(g.length>E.length)throw new ce(re.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const S=[];for(let A=0;A<g.length;A++){const k=g[A];if(E[A].field.isKeyField()){if(typeof k!="string")throw new ce(re.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof k}`);if(!Pb(u)&&k.indexOf("/")!==-1)throw new ce(re.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${k}' contains a slash.`);const x=u.path.child(Je.fromString(k));if(!_e.isDocumentKey(x))throw new ce(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const U=new _e(x);S.push(Pl(c,U))}else{const x=WM(f,h,k);S.push(x)}}return new lo(S,v)}(n._query,n.firestore._databaseId,i,e,t,r)}}function tx(n,e,t){if(typeof(t=Ne(t))=="string"){if(t==="")throw new ce(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Pb(e)&&t.indexOf("/")!==-1)throw new ce(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Je.fromString(t));if(!_e.isDocumentKey(r))throw new ce(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Pl(n,new _e(r))}if(t instanceof kt)return Pl(n,t._key);throw new ce(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gy(t)}.`)}function nx(n,e){if(!Array.isArray(n)||n.length===0)throw new ce(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function e2(n,e){const t=function(i,o){for(const u of i)for(const c of u.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ce(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class C0{convertValue(e,t="none"){switch(ao(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return wo(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Ac].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(u=>bt(u.doubleValue));return new g0(o)}convertGeoPoint(e){return new Ky(bt(e.latitude),bt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=My(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(hh(e));default:return null}}convertTimestamp(e){const t=Vs(e);return new Ct(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Je.fromString(e);Ie(Bk(r));const i=new so(r.get(1),r.get(3)),o=new _e(r.popFirst(5));return i.isEqual(t)||Gt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class wK extends C0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let js=class extends wh{constructor(e,t,r,i,o,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Yf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Yy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Yf=class extends js{data(e={}){return super.data(e)}},ho=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new gl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Yf(this._firestore,this._userDataWriter,r.key,r,new gl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(c=>{const f=new Yf(i._firestore,i._userDataWriter,c.doc.key,c.doc,new gl(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const f=new Yf(i._firestore,i._userDataWriter,c.doc.key,c.doc,new gl(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,g=-1;return c.type!==0&&(h=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(u=u.add(c.doc),g=u.indexOf(c.doc.key)),{type:TK(c.type),doc:f,oldIndex:h,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function TK(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}function t2(n,e){return n instanceof js&&e instanceof js?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ho&&e instanceof ho&&n._firestore===e._firestore&&zM(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bK(n){n=ct(n,kt);const e=ct(n.firestore,Wt);return OM(Fn(e),n._key).then(t=>x0(e,n,t))}class Yl extends C0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,t)}}function SK(n){n=ct(n,kt);const e=ct(n.firestore,Wt),t=Fn(e),r=new Yl(e);return HG(t,n._key).then(i=>new js(e,r,n._key,i,new gl(i!==null&&i.hasLocalMutations,!0),n.converter))}function IK(n){n=ct(n,kt);const e=ct(n.firestore,Wt);return OM(Fn(e),n._key,{source:"server"}).then(t=>x0(e,n,t))}function AK(n){n=ct(n,Xn);const e=ct(n.firestore,Wt),t=Fn(e),r=new Yl(e);return ZM(n._query),DM(t,n._query).then(i=>new ho(e,r,n,i))}function RK(n){n=ct(n,Xn);const e=ct(n.firestore,Wt),t=Fn(e),r=new Yl(e);return GG(t,n._query).then(i=>new ho(e,r,n,i))}function CK(n){n=ct(n,Xn);const e=ct(n.firestore,Wt),t=Fn(e),r=new Yl(e);return DM(t,n._query,{source:"server"}).then(i=>new ho(e,r,n,i))}function rx(n,e,t){n=ct(n,kt);const r=ct(n.firestore,Wt),i=tv(n.converter,e,t);return tp(r,[Qy(Wl(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,At.none())])}function ix(n,e,t,...r){n=ct(n,kt);const i=ct(n.firestore,Wt),o=Wl(i);let u;return u=typeof(e=Ne(e))=="string"||e instanceof fo?T0(o,"updateDoc",n._key,e,t,r):w0(o,"updateDoc",n._key,e),tp(i,[u.toMutation(n._key,At.exists(!0))])}function xK(n){return tp(ct(n.firestore,Wt),[new Zc(n._key,At.none())])}function NK(n,e){const t=ct(n.firestore,Wt),r=Wg(n),i=tv(n.converter,e);return tp(t,[Qy(Wl(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,At.exists(!1))]).then(()=>r)}function n2(n,...e){var t,r,i;n=Ne(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||rT(e[u])||(o=e[u],u++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(rT(e[u])){const v=e[u];e[u]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[u+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[u+2]=(i=v.complete)===null||i===void 0?void 0:i.bind(v)}let f,h,g;if(n instanceof kt)h=ct(n.firestore,Wt),g=Yc(n._key.path),f={next:v=>{e[u]&&e[u](x0(h,n,v))},error:e[u+1],complete:e[u+2]};else{const v=ct(n,Xn);h=ct(v.firestore,Wt),g=v._query;const E=new Yl(h);f={next:S=>{e[u]&&e[u](new ho(h,E,v,S))},error:e[u+1],complete:e[u+2]},ZM(n._query)}return function(E,S,A,k){const x=new qy(k),U=new a0(S,x,A);return E.asyncQueue.enqueueAndForget(async()=>r0(await Lc(E),U)),()=>{x.su(),E.asyncQueue.enqueueAndForget(async()=>i0(await Lc(E),U))}}(Fn(h),g,c,f)}function OK(n,e){return KG(Fn(n=ct(n,Wt)),rT(e)?e:{next:e})}function tp(n,e){return function(r,i){const o=new Dn;return r.asyncQueue.enqueueAndForget(async()=>EG(await p0(r),i,o)),o.promise}(Fn(n),e)}function x0(n,e,t){const r=t.docs.get(e._key),i=new Yl(n);return new js(n,i,e._key,r,new gl(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DK={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PK=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Wl(e)}set(e,t,r){this._verifyNotCommitted();const i=Ha(e,this._firestore),o=tv(i.converter,t,r),u=Qy(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(u.toMutation(i._key,At.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=Ha(e,this._firestore);let u;return u=typeof(t=Ne(t))=="string"||t instanceof fo?T0(this._dataReader,"WriteBatch.update",o._key,t,r,i):w0(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,At.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ha(e,this._firestore);return this._mutations=this._mutations.concat(new Zc(t._key,At.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ce(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Ha(n,e){if((n=Ne(n)).firestore!==e)throw new ce(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kK{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Wl(e)}get(e){const t=Ha(e,this._firestore),r=new wK(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||i.length!==1)return Te();const o=i[0];if(o.isFoundDocument())return new wh(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new wh(this._firestore,r,t._key,null,t.converter);throw Te()})}set(e,t,r){const i=Ha(e,this._firestore),o=tv(i.converter,t,r),u=Qy(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const o=Ha(e,this._firestore);let u;return u=typeof(t=Ne(t))=="string"||t instanceof fo?T0(this._dataReader,"Transaction.update",o._key,t,r,i):w0(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,u),this}delete(e){const t=Ha(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MK=class extends kK{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ha(e,this._firestore),r=new Yl(this._firestore);return super.get(e).then(i=>new js(this._firestore,r,t._key,i._document,new gl(!1,!1),t.converter))}};function VK(n,e,t){n=ct(n,Wt);const r=Object.assign(Object.assign({},DK),t);return function(o){if(o.maxAttempts<1)throw new ce(re.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,u,c){const f=new Dn;return o.asyncQueue.enqueueAndForget(async()=>{const h=await zG(o);new BG(o.asyncQueue,h,c,u,f).Iu()}),f.promise}(Fn(n),i=>e(new MK(n,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LK(){return new Jh("deleteField")}function jK(){return new y0("serverTimestamp")}function UK(...n){return new v0("arrayUnion",n)}function BK(...n){return new _0("arrayRemove",n)}function FK(n){return new E0("increment",n)}(function(e,t=!0){(function(i){Qc=i})(yo),Zr(new ur("firestore",(r,{instanceIdentifier:i,options:o})=>{const u=r.getProvider("app").getImmediate(),c=new Wt(new VH(r.getProvider("auth-internal")),new UH(u,r.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ce(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new so(h.options.projectId,g)}(u,i),u);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Qn(VC,LC,e),Qn(VC,LC,"esm2017")})();const zK="@firebase/firestore-compat",$K="0.3.43";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new ce("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(){if(typeof Uint8Array>"u")throw new ce("unimplemented","Uint8Arrays are not available in this environment.")}function ax(){if(!v8())throw new ce("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Th{constructor(e){this._delegate=e}static fromBase64String(e){return ax(),new Th(Hi.fromBase64String(e))}static fromUint8Array(e){return sx(),new Th(Hi.fromUint8Array(e))}toBase64(){return ax(),this._delegate.toBase64()}toUint8Array(){return sx(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(n){return qK(n,["next","error","complete"])}function qK(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HK{enableIndexedDbPersistence(e,t){return eK(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return tK(e._delegate)}clearIndexedDbPersistence(e){return nK(e._delegate)}}class r2{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof so||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&$i("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){YG(this._delegate,e,t,r)}enableNetwork(){return iK(this._delegate)}disableNetwork(){return sK(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,kM("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return rK(this._delegate)}onSnapshotsInSync(e){return OK(this._delegate,e)}get app(){if(!this._appCompat)throw new ce("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new jc(this,BM(this._delegate,e))}catch(t){throw Wn(t,"collection()","Firestore.collection()")}}doc(e){try{return new Kr(this,Wg(this._delegate,e))}catch(t){throw Wn(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Kn(this,XG(this._delegate,e))}catch(t){throw Wn(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return VK(this._delegate,t=>e(new i2(this,t)))}batch(){return Fn(this._delegate),new s2(new PK(this._delegate,e=>tp(this._delegate,e)))}loadBundle(e){return aK(this._delegate,e)}namedQuery(e){return oK(this._delegate,e).then(t=>t?new Kn(this,t):null)}}class nv extends C0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Th(new Hi(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Kr.forKey(t,this.firestore,null)}}function GK(n){DH(n)}class i2{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new nv(e)}get(e){const t=yl(e);return this._delegate.get(t).then(r=>new bh(this._firestore,new js(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=yl(e);return r?(N0("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=yl(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=yl(e);return this._delegate.delete(t),this}}class s2{constructor(e){this._delegate=e}set(e,t,r){const i=yl(e);return r?(N0("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=yl(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=yl(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Fl{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Yf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Sh(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Fl.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new Fl(e,new nv(e),t),i.set(t,o)),o}}Fl.INSTANCES=new WeakMap;class Kr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new nv(e)}static forPath(e,t,r){if(e.length%2!==0)throw new ce("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Kr(t,new kt(t._delegate,r,new _e(e)))}static forKey(e,t,r){return new Kr(t,new kt(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new jc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new jc(this.firestore,BM(this._delegate,e))}catch(t){throw Wn(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Ne(e),e instanceof kt?FM(this._delegate,e):!1}set(e,t){t=N0("DocumentReference.set",t);try{return t?rx(this._delegate,e,t):rx(this._delegate,e)}catch(r){throw Wn(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?ix(this._delegate,e):ix(this._delegate,e,t,...r)}catch(i){throw Wn(i,"updateDoc()","DocumentReference.update()")}}delete(){return xK(this._delegate)}onSnapshot(...e){const t=a2(e),r=o2(e,i=>new bh(this.firestore,new js(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return n2(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=SK(this._delegate):(e==null?void 0:e.source)==="server"?t=IK(this._delegate):t=bK(this._delegate),t.then(r=>new bh(this.firestore,new js(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Kr(this.firestore,e?this._delegate.withConverter(Fl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Wn(n,e,t){return n.message=n.message.replace(e,t),n}function a2(n){for(const e of n)if(typeof e=="object"&&!sT(e))return e;return{}}function o2(n,e){var t,r;let i;return sT(n[0])?i=n[0]:sT(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class bh{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Kr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return t2(this._delegate,e._delegate)}}class Sh extends bh{data(e){const t=this._delegate.data(e);return this._delegate._converter||PH(t!==void 0),t}}class Kn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new nv(e)}where(e,t,r){try{return new Kn(this.firestore,ja(this._delegate,hK(e,t,r)))}catch(i){throw Wn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Kn(this.firestore,ja(this._delegate,pK(e,t)))}catch(r){throw Wn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Kn(this.firestore,ja(this._delegate,mK(e)))}catch(t){throw Wn(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Kn(this.firestore,ja(this._delegate,gK(e)))}catch(t){throw Wn(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Kn(this.firestore,ja(this._delegate,yK(...e)))}catch(t){throw Wn(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Kn(this.firestore,ja(this._delegate,vK(...e)))}catch(t){throw Wn(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Kn(this.firestore,ja(this._delegate,_K(...e)))}catch(t){throw Wn(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Kn(this.firestore,ja(this._delegate,EK(...e)))}catch(t){throw Wn(t,"endAt()","Query.endAt()")}}isEqual(e){return zM(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=RK(this._delegate):(e==null?void 0:e.source)==="server"?t=CK(this._delegate):t=AK(this._delegate),t.then(r=>new aT(this.firestore,new ho(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=a2(e),r=o2(e,i=>new aT(this.firestore,new ho(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return n2(this._delegate,t,r)}withConverter(e){return new Kn(this.firestore,e?this._delegate.withConverter(Fl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class KK{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Sh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class aT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Kn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Sh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new KK(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Sh(this._firestore,r))})}isEqual(e){return t2(this._delegate,e._delegate)}}class jc extends Kn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Kr(this.firestore,e):null}doc(e){try{return e===void 0?new Kr(this.firestore,Wg(this._delegate)):new Kr(this.firestore,Wg(this._delegate,e))}catch(t){throw Wn(t,"doc()","CollectionReference.doc()")}}add(e){return NK(this._delegate,e).then(t=>new Kr(this.firestore,t))}isEqual(e){return FM(this._delegate,e._delegate)}withConverter(e){return new jc(this.firestore,e?this._delegate.withConverter(Fl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function yl(n){return ct(n,kt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(...e){this._delegate=new fo(...e)}static documentId(){return new O0(It.keyField().canonicalString())}isEqual(e){return e=Ne(e),e instanceof fo?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{static serverTimestamp(){const e=jK();return e._methodName="FieldValue.serverTimestamp",new dl(e)}static delete(){const e=LK();return e._methodName="FieldValue.delete",new dl(e)}static arrayUnion(...e){const t=UK(...e);return t._methodName="FieldValue.arrayUnion",new dl(t)}static arrayRemove(...e){const t=BK(...e);return t._methodName="FieldValue.arrayRemove",new dl(t)}static increment(e){const t=FK(e);return t._methodName="FieldValue.increment",new dl(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WK={Firestore:r2,GeoPoint:Ky,Timestamp:Ct,Blob:Th,Transaction:i2,WriteBatch:s2,DocumentReference:Kr,DocumentSnapshot:bh,Query:Kn,QueryDocumentSnapshot:Sh,QuerySnapshot:aT,CollectionReference:jc,FieldPath:O0,FieldValue:dl,setLogLevel:GK,CACHE_SIZE_UNLIMITED:JG};function QK(n,e){n.INTERNAL.registerComponent(new ur("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},WK)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YK(n){QK(n,(e,t)=>new r2(e,t,new HK)),n.registerVersion(zK,$K)}YK(Gl);var Ys=(n=>(n.warning="warning",n.error="error",n))(Ys||{});const XK={apiKey:"AIzaSyB6b4D40cLSubf_qDK7BzKMDnoH_l_2N1A",authDomain:"therightway-e6f15.firebaseapp.com",projectId:"therightway-e6f15",storageBucket:"therightway-e6f15.appspot.com",messagingSenderId:"590591734476",appId:"1:590591734476:web:36a7e413a992f663df4869",measurementId:"G-G7G582CTJS"};Gl.initializeApp(XK);_9();const Tl=Pq(),Us=Gl.firestore(),l2=new ci;l2.setCustomParameters({prompt:"select_account"});const D0=async(n,e)=>{if(!n)return;const t=Us.doc(`/users/${n.uid}`);if(!(await t.get()).exists){const{displayName:i,email:o}=n,u=Date.now();try{await t.set({displayName:i,email:o,createdAt:u,...e})}catch(c){console.log("error creating user",c.message)}}return t},ZK=async n=>{try{return(await sP(Tl,l2)).user}catch(e){const t=e.code;return n(Qr({title:"Error",content:`There was an error signing in: ${t}`,headerBackground:Ys.error})),console.log(`There was an error signing in: ${t}`),null}},JK=async(n,e,t)=>{try{return(await WD(Tl,n,e)).user}catch(r){const i=r.code;return t(Qr({title:"Error",content:`There was an error signing in: ${i}`,headerBackground:Ys.error})),console.log(`There was an error signing in: ${i}`),null}},eW=async(n,e,t)=>{try{const i=(await KD(Tl,n,e)).user;if(i)return Tl.currentUser&&await QD(Tl.currentUser),i}catch(r){const i=r.code;return t(Qr({title:"Error",content:`There was an error registering new user: ${i}`,headerBackground:Ys.error})),console.log(`There was an error registering new user: ${i}`),null}},tW=async()=>{try{await s$(Tl),console.log("Sign Out Succesfull")}catch(n){console.log(`Error Signing out ${n}`)}},nW=n=>async e=>{const t=Us.collection(`/users/${n}/lists/`);try{t.onSnapshot(r=>{let i={};r.docs.map(u=>u.data()).forEach(u=>{if(u.items){let c={};const f=Object.keys(u.items).sort();for(const h of f)c={...c,[h]:u.items[h]};i={...i,[u.id]:{...u,items:{...c}}}}else i={...i,[u.id]:u}}),e(vN(i))})}catch(r){console.log(`Error on Fetching Data From Firestore ${r}`)}},rW=(n,e)=>async t=>{const r=Us.collection(`/users/${n}/lists/${e}/items`);try{r.onSnapshot(i=>{const o={};i.docs.map(c=>c.data()).forEach(c=>{o[c.id]=c}),t(_N(o))})}catch(i){console.log(`Error on Fetching List Items From Firestore ${i}`)}},iW=async(n,e,t,r)=>{const i=Us.collection(`/users/${n}/lists/`).doc(e);if((await i.get()).exists)r(Qr({title:"Error",content:"You have an item with the same name",headerBackground:Ys.error}));else try{i.set(t)}catch(u){console.log(u)}},sW=async(n,e)=>{const t=Us.collection(`/users/${n}/lists/${e}/items`);try{(await t.get()).docs.map(i=>i.ref.delete()),Us.collection(`/users/${n}/lists/`).doc(e).delete()}catch(r){console.log(r)}},aW=async(n,e,t,r)=>{const i=Us.doc(`/users/${n}/lists/${e}/items/${t.id}`);if((await i.get()).exists)r(Qr({title:"Error",content:"You have an item with the same name",headerBackground:Ys.error}));else try{i.set(t)}catch(u){console.log(u)}},oW=async(n,e,t)=>{try{Us.doc(`/users/${n}/lists/${e}/items/${t}`).delete()}catch(r){console.log(r)}},u2=async(n,e,t)=>{try{Us.collection(`/users/${n}/lists/${e}/items`).doc(t.id).set(t)}catch(r){console.log(r)}},lW="_backArrow_rx0vq_3",uW={backArrow:lW};var c2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ox=Rt.createContext&&Rt.createContext(c2),cW=["attr","size","title"];function dW(n,e){if(n==null)return{};var t=fW(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function fW(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Yg(){return Yg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Yg.apply(this,arguments)}function lx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Xg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?lx(Object(t),!0).forEach(function(r){hW(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):lx(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function hW(n,e,t){return e=pW(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function pW(n){var e=mW(n,"string");return typeof e=="symbol"?e:e+""}function mW(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function d2(n){return n&&n.map((e,t)=>Rt.createElement(e.tag,Xg({key:t},e.attr),d2(e.child)))}function Zn(n){return e=>Rt.createElement(gW,Yg({attr:Xg({},n.attr)},e),d2(n.child))}function gW(n){var e=t=>{var{attr:r,size:i,title:o}=n,u=dW(n,cW),c=i||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),Rt.createElement("svg",Yg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:f,style:Xg(Xg({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&Rt.createElement("title",null,o),n.children)};return ox!==void 0?Rt.createElement(ox.Consumer,null,t=>e(t)):e(c2)}function yW(n){return Zn({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2M8 1.918l-.797.161A4 4 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4 4 0 0 0-3.203-3.92zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5 5 0 0 1 13 6c0 .88.32 4.2 1.22 6"},child:[]}]})(n)}function vW(n){return Zn({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708z"},child:[]}]})(n)}function _W(n){return Zn({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2z"},child:[]},{tag:"path",attr:{d:"M7 5.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0M7 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 0 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0"},child:[]}]})(n)}const f2=({route:n})=>I.jsx(fl,{to:n,className:uW.backArrow,children:I.jsx(vW,{size:"32px"})}),zl=n=>n.split("").map((r,i)=>i===0?r.toUpperCase():r).join(""),EW=(n,e)=>n.name.toLowerCase()>e.name.toLowerCase()?1:n.name.toLowerCase()<e.name.toLowerCase()?-1:0,wW=[{id:1,name:"mililitru",unit:"ml"},{id:2,name:"litru",unit:"l"},{id:3,name:"gram",unit:"g"},{id:4,name:"kilogram",unit:"kg"},{id:5,name:"bucati",unit:"buc"},{id:6,name:"pachet",unit:"pct"},{id:7,name:"sticla",unit:"st"}],oT=[{id:1,iconName:"fa-solid fa-lemon",name:"Fructe"},{id:2,iconName:"fa-solid fa-pepper-hot",name:"Legume"},{id:3,iconName:"fa-solid fa-martini-glass-citrus",name:"Alcool"},{id:4,iconName:"fa-solid fa-cookie",name:"Patiserie"},{id:5,iconName:"fa-solid fa-fish",name:"Peste"},{id:6,iconName:"fa-solid fa-ice-cream",name:"Dulciuri"},{id:7,iconName:"fa-solid fa-cow",name:"Lactate"},{id:8,iconName:"fa-solid fa-venus",name:"Cosmetice"},{id:9,iconName:"fa-solid fa-seedling",name:"Seminte"},{id:10,iconName:"fa-solid fa-dog",name:"Animale Companie"},{id:11,iconName:"fa-solid fa-capsules",name:"Farmacie"},{id:12,iconName:"fa-solid fa-house-chimney-crack",name:"Intretinere casa"},{id:13,iconName:"fa-solid fa-child-reaching",name:"Copil"},{id:15,iconName:"fa-solid fa-bottle-droplet",name:"Uleiuri"},{id:16,iconName:"fa-solid fa-drumstick-bite",name:"Carne"},{id:17,iconName:"fa-solid fa-person-swimming",name:"Activitati Sportive"},{id:18,iconName:"fa-brands fa-xbox",name:"Jocuri"},{id:19,iconName:"fa-solid fa-plug",name:"Electrocasnice"},{id:20,iconName:"fa-solid fa-infinity",name:"Generale"}],TW={valid:"Looks Good",invalid:"Please type an email address"},bW={valid:"Looks Good",invalid:"Please type your password"},SW=({userAuth:n,selectedList:e,selectedItemObject:t})=>{const r=zs(),i=Gi(),[o,u]=b.useState(t||{}),c=E=>{u({...o,unit:E})},f=E=>{u({...o,category:E})},h=E=>{u({...o,[E.target.name]:E.target.value})},g=E=>{u({...o,id:E.target.value,itemName:E.target.value})},v=E=>{E.preventDefault(),n&&t?u2(n.id,e.id,o):i(ST(e.id,o)),r(`/lists/${e.id}`)};return I.jsx("div",{className:"container",children:I.jsx("div",{className:"row",children:I.jsxs("div",{className:"col d-flex align-items-start flex-column",children:[I.jsx(f2,{route:`/lists/${e.id}`}),I.jsx(Ze,{className:yn.customForm,onSubmit:v,children:I.jsx(TR,{className:yn.cardContainer,children:I.jsxs(TR.Body,{children:[I.jsxs("div",{className:"row flex-column flex-sm-row pb-3",children:[I.jsxs("div",{className:"col col-sm-8 d-flex flex-column align-items-center",children:[I.jsxs(Uu,{className:"mb-3",children:[I.jsx(Uu.Text,{id:yn.itemNameText,children:"Item"}),I.jsx(Ze.Control,{type:"text",name:"itemName",placeholder:"Update item name",onChange:g,value:zl(o.id),className:`form-control inputForModal ${yn.itemName}`})]}),I.jsxs(Pa,{onSelect:f,className:yn.dropDownFull,id:"dropDownCategoryMaster",children:[I.jsx(Pa.Toggle,{variant:"outline-secondary",id:"dropdownCategoryItem",className:yn.dropDownFull,children:o.category||"Category"}),I.jsx(Pa.Menu,{className:`${yn.dropDownMenu} `,children:oT.map(E=>I.jsxs(Pa.Item,{className:`${yn.dropDownCategoryUnit} d-flex justify-content-between align-items-center`,eventKey:E.name,children:[I.jsx("i",{className:`${E.iconName} ${yn.categoryItem}`}),I.jsx("span",{children:E.name})]},E.id))})]})]}),I.jsxs("div",{className:"col col-sm-4 d-flex flex-column align-items-end justify-content-between pt-sm-0 pt-1",children:[I.jsxs(Pa,{onSelect:c,className:`mb-3 ${yn.dropDownFull}`,id:"dropDownUnitMaster",children:[I.jsx(Pa.Toggle,{variant:"outline-secondary",id:"dropDownUnitItem",className:yn.dropDownFull,children:o.unit||"Unit"}),I.jsx(Pa.Menu,{className:yn.dropDownMenuUnit,children:wW.map(E=>I.jsxs(Pa.Item,{className:`${yn.dropDownUnitItem} d-flex justify-content-between align-items-center`,eventKey:E.unit,children:[I.jsx("span",{children:E.name}),I.jsx("span",{children:E.unit})]},E.id))})]}),I.jsxs(Uu,{children:[I.jsx(Uu.Text,{id:yn.quantityText,children:"Quantity"}),I.jsx(Ze.Control,{type:"number",onChange:h,className:yn.quantity,name:"quantity",min:"1",max:"20",value:o.quantity})]})]})]}),I.jsx("div",{className:"row mb-4 ",children:I.jsx("div",{className:"col",children:I.jsxs(Uu,{children:[I.jsx(Uu.Text,{id:yn.textInputArea,children:"Note"}),I.jsx(Ze.Control,{className:yn.textArea,as:"textarea","aria-label":"With textarea",value:o.note||"",onChange:h,name:"note"})]})})}),I.jsx("div",{className:"col d-flex justify-content-end pe-0",children:I.jsx(Za,{type:"submit",variant:"outline-primary",className:yn.saveButton,children:"Save"})})]})})})]})})})},IW=n=>{const e=po(n);return{userAuth:e.userAuth,lists:e.lists,selectedList:e.selectedList,selectedItemObject:e.selectedItemObject}},AW=Bs(IW)(SW);var P0="persist:",h2="persist/FLUSH",k0="persist/REHYDRATE",p2="persist/PAUSE",m2="persist/PERSIST",M0="persist/PURGE",g2="persist/REGISTER",RW=-1;function ag(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ag=function(t){return typeof t}:ag=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ag(n)}function ux(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function CW(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ux(t,!0).forEach(function(r){xW(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ux(t).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function xW(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function NW(n,e,t,r){r.debug;var i=CW({},t);return n&&ag(n)==="object"&&Object.keys(n).forEach(function(o){o!=="_persist"&&e[o]===t[o]&&(i[o]=n[o])}),i}function OW(n){var e=n.blacklist||null,t=n.whitelist||null,r=n.transforms||[],i=n.throttle||0,o="".concat(n.keyPrefix!==void 0?n.keyPrefix:P0).concat(n.key),u=n.storage,c;n.serialize===!1?c=function(H){return H}:typeof n.serialize=="function"?c=n.serialize:c=DW;var f=n.writeFailHandler||null,h={},g={},v=[],E=null,S=null,A=function(H){Object.keys(H).forEach(function(X){U(X)&&h[X]!==H[X]&&v.indexOf(X)===-1&&v.push(X)}),Object.keys(h).forEach(function(X){H[X]===void 0&&U(X)&&v.indexOf(X)===-1&&h[X]!==void 0&&v.push(X)}),E===null&&(E=setInterval(k,i)),h=H};function k(){if(v.length===0){E&&clearInterval(E),E=null;return}var Q=v.shift(),H=r.reduce(function(X,D){return D.in(X,Q,h)},h[Q]);if(H!==void 0)try{g[Q]=c(H)}catch(X){console.error("redux-persist/createPersistoid: error serializing state",X)}else delete g[Q];v.length===0&&x()}function x(){Object.keys(g).forEach(function(Q){h[Q]===void 0&&delete g[Q]}),S=u.setItem(o,c(g)).catch($)}function U(Q){return!(t&&t.indexOf(Q)===-1&&Q!=="_persist"||e&&e.indexOf(Q)!==-1)}function $(Q){f&&f(Q)}var B=function(){for(;v.length!==0;)k();return S||Promise.resolve()};return{update:A,flush:B}}function DW(n){return JSON.stringify(n)}function PW(n){var e=n.transforms||[],t="".concat(n.keyPrefix!==void 0?n.keyPrefix:P0).concat(n.key),r=n.storage;n.debug;var i;return n.deserialize===!1?i=function(u){return u}:typeof n.deserialize=="function"?i=n.deserialize:i=kW,r.getItem(t).then(function(o){if(o)try{var u={},c=i(o);return Object.keys(c).forEach(function(f){u[f]=e.reduceRight(function(h,g){return g.out(h,f,c)},i(c[f]))}),u}catch(f){throw f}else return})}function kW(n){return JSON.parse(n)}function MW(n){var e=n.storage,t="".concat(n.keyPrefix!==void 0?n.keyPrefix:P0).concat(n.key);return e.removeItem(t,VW)}function VW(n){}function cx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Es(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cx(t,!0).forEach(function(r){LW(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cx(t).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function LW(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function jW(n,e){if(n==null)return{};var t=UW(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function UW(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var BW=5e3;function FW(n,e){var t=n.version!==void 0?n.version:RW;n.debug;var r=n.stateReconciler===void 0?NW:n.stateReconciler,i=n.getStoredState||PW,o=n.timeout!==void 0?n.timeout:BW,u=null,c=!1,f=!0,h=function(v){return v._persist.rehydrated&&u&&!f&&u.update(v),v};return function(g,v){var E=g||{},S=E._persist,A=jW(E,["_persist"]),k=A;if(v.type===m2){var x=!1,U=function(N,C){x||(v.rehydrate(n.key,N,C),x=!0)};if(o&&setTimeout(function(){!x&&U(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(n.key,'"')))},o),f=!1,u||(u=OW(n)),S)return Es({},e(k,v),{_persist:S});if(typeof v.rehydrate!="function"||typeof v.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return v.register(n.key),i(n).then(function(D){var N=n.migrate||function(C,P){return Promise.resolve(C)};N(D,t).then(function(C){U(C)},function(C){U(void 0,C)})},function(D){U(void 0,D)}),Es({},e(k,v),{_persist:{version:t,rehydrated:!1}})}else{if(v.type===M0)return c=!0,v.result(MW(n)),Es({},e(k,v),{_persist:S});if(v.type===h2)return v.result(u&&u.flush()),Es({},e(k,v),{_persist:S});if(v.type===p2)f=!0;else if(v.type===k0){if(c)return Es({},k,{_persist:Es({},S,{rehydrated:!0})});if(v.key===n.key){var $=e(k,v),B=v.payload,Q=r!==!1&&B!==void 0?r(B,g,$,n):$,H=Es({},Q,{_persist:Es({},S,{rehydrated:!0})});return h(H)}}}if(!S)return e(g,v);var X=e(k,v);return X===k?g:h(Es({},X,{_persist:S}))}}function dx(n){return qW(n)||$W(n)||zW()}function zW(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function $W(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}function qW(n){if(Array.isArray(n)){for(var e=0,t=new Array(n.length);e<n.length;e++)t[e]=n[e];return t}}function fx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function lT(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fx(t,!0).forEach(function(r){HW(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fx(t).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function HW(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var y2={registry:[],bootstrapped:!1},GW=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y2,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g2:return lT({},e,{registry:[].concat(dx(e.registry),[t.key])});case k0:var r=e.registry.indexOf(t.key),i=dx(e.registry);return i.splice(r,1),lT({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function KW(n,e,t){var r=_T(GW,y2,void 0),i=function(f){r.dispatch({type:g2,key:f})},o=function(f,h,g){var v={type:k0,payload:h,err:g,key:f};n.dispatch(v),r.dispatch(v)},u=lT({},r,{purge:function(){var f=[];return n.dispatch({type:M0,result:function(g){f.push(g)}}),Promise.all(f)},flush:function(){var f=[];return n.dispatch({type:h2,result:function(g){f.push(g)}}),Promise.all(f)},pause:function(){n.dispatch({type:p2})},persist:function(){n.dispatch({type:m2,register:i,rehydrate:o})}});return u.persist(),u}const Zg={lists:{},listItemsOnline:{},listItemsForOfflineMode:{},selectedList:{id:"",listName:""},selectedItemObject:{id:"",itemName:"",check:!1,quantity:"",unit:"",category:"",note:""},sortType:null},WW=yN(Zg,n=>{n.addCase(vN,(e,t)=>{e.lists=t.payload}).addCase(_N,(e,t)=>{e.listItemsOnline=t.payload}).addCase(bT,(e,t)=>{({...t.payload})}).addCase(EN,(e,t)=>{e.lists[t.payload.id]=t.payload}).addCase(wN,(e,t)=>{delete e.lists[t.payload],delete e.listItemsForOfflineMode[t.payload]}).addCase(bN,(e,t)=>{const r=t.payload.listId,i=t.payload.item;e.listItemsForOfflineMode[r]={...e.listItemsForOfflineMode[r],[i.id]:i}}).addCase(TN,(e,t)=>{e.selectedList=t.payload}).addCase(SN,(e,t)=>{const r=t.payload.listId,i=t.payload.itemId;r&&i&&delete e.listItemsForOfflineMode[r][i]}).addCase(ST,(e,t)=>{const r=t.payload.listId,i=t.payload.itemId,o=t.payload.item;e.listItemsForOfflineMode[r][i]=o}).addCase(IN,(e,t)=>{e.selectedItemObject=t.payload}).addCase(AN,(e,t)=>{e.sortType=t.payload}).addCase(M0,()=>Zg).addDefaultCase(e=>e)});var Pf={exports:{}},QW=Pf.exports,hx;function YW(){return hx||(hx=1,function(n,e){(function(t,r){r(e)})(QW,function(t){function r(V,K){V.super_=K,V.prototype=Object.create(K.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}})}function i(V,K){Object.defineProperty(this,"kind",{value:V,enumerable:!0}),K&&K.length&&Object.defineProperty(this,"path",{value:K,enumerable:!0})}function o(V,K,z){o.super_.call(this,"E",V),Object.defineProperty(this,"lhs",{value:K,enumerable:!0}),Object.defineProperty(this,"rhs",{value:z,enumerable:!0})}function u(V,K){u.super_.call(this,"N",V),Object.defineProperty(this,"rhs",{value:K,enumerable:!0})}function c(V,K){c.super_.call(this,"D",V),Object.defineProperty(this,"lhs",{value:K,enumerable:!0})}function f(V,K,z){f.super_.call(this,"A",V),Object.defineProperty(this,"index",{value:K,enumerable:!0}),Object.defineProperty(this,"item",{value:z,enumerable:!0})}function h(V,K,z){var Y=V.slice(K+1||V.length);return V.length=K<0?V.length+K:K,V.push.apply(V,Y),V}function g(V){var K=typeof V>"u"?"undefined":xe(V);return K!=="object"?K:V===Math?"math":V===null?"null":Array.isArray(V)?"array":Object.prototype.toString.call(V)==="[object Date]"?"date":typeof V.toString=="function"&&/^\/.*\//.test(V.toString())?"regexp":"object"}function v(V,K,z,Y,ue,pe,we){ue=ue||[],we=we||[];var ve=ue.slice(0);if(typeof pe<"u"){if(Y){if(typeof Y=="function"&&Y(ve,pe))return;if((typeof Y>"u"?"undefined":xe(Y))==="object"){if(Y.prefilter&&Y.prefilter(ve,pe))return;if(Y.normalize){var Ve=Y.normalize(ve,pe,V,K);Ve&&(V=Ve[0],K=Ve[1])}}}ve.push(pe)}g(V)==="regexp"&&g(K)==="regexp"&&(V=V.toString(),K=K.toString());var ke=typeof V>"u"?"undefined":xe(V),He=typeof K>"u"?"undefined":xe(K),je=ke!=="undefined"||we&&we[we.length-1].lhs&&we[we.length-1].lhs.hasOwnProperty(pe),Ge=He!=="undefined"||we&&we[we.length-1].rhs&&we[we.length-1].rhs.hasOwnProperty(pe);if(!je&&Ge)z(new u(ve,K));else if(!Ge&&je)z(new c(ve,V));else if(g(V)!==g(K))z(new o(ve,V,K));else if(g(V)==="date"&&V-K!==0)z(new o(ve,V,K));else if(ke==="object"&&V!==null&&K!==null)if(we.filter(function(Xe){return Xe.lhs===V}).length)V!==K&&z(new o(ve,V,K));else{if(we.push({lhs:V,rhs:K}),Array.isArray(V)){var Be;for(V.length,Be=0;Be<V.length;Be++)Be>=K.length?z(new f(ve,Be,new c(void 0,V[Be]))):v(V[Be],K[Be],z,Y,ve,Be,we);for(;Be<K.length;)z(new f(ve,Be,new u(void 0,K[Be++])))}else{var ze=Object.keys(V),gt=Object.keys(K);ze.forEach(function(Xe,Tn){var Pn=gt.indexOf(Xe);Pn>=0?(v(V[Xe],K[Xe],z,Y,ve,Xe,we),gt=h(gt,Pn)):v(V[Xe],void 0,z,Y,ve,Xe,we)}),gt.forEach(function(Xe){v(void 0,K[Xe],z,Y,ve,Xe,we)})}we.length=we.length-1}else V!==K&&(ke==="number"&&isNaN(V)&&isNaN(K)||z(new o(ve,V,K)))}function E(V,K,z,Y){return Y=Y||[],v(V,K,function(ue){ue&&Y.push(ue)},z),Y.length?Y:void 0}function S(V,K,z){if(z.path&&z.path.length){var Y,ue=V[K],pe=z.path.length-1;for(Y=0;Y<pe;Y++)ue=ue[z.path[Y]];switch(z.kind){case"A":S(ue[z.path[Y]],z.index,z.item);break;case"D":delete ue[z.path[Y]];break;case"E":case"N":ue[z.path[Y]]=z.rhs}}else switch(z.kind){case"A":S(V[K],z.index,z.item);break;case"D":V=h(V,K);break;case"E":case"N":V[K]=z.rhs}return V}function A(V,K,z){if(V&&K&&z&&z.kind){for(var Y=V,ue=-1,pe=z.path?z.path.length-1:0;++ue<pe;)typeof Y[z.path[ue]]>"u"&&(Y[z.path[ue]]=typeof z.path[ue]=="number"?[]:{}),Y=Y[z.path[ue]];switch(z.kind){case"A":S(z.path?Y[z.path[ue]]:Y,z.index,z.item);break;case"D":delete Y[z.path[ue]];break;case"E":case"N":Y[z.path[ue]]=z.rhs}}}function k(V,K,z){if(z.path&&z.path.length){var Y,ue=V[K],pe=z.path.length-1;for(Y=0;Y<pe;Y++)ue=ue[z.path[Y]];switch(z.kind){case"A":k(ue[z.path[Y]],z.index,z.item);break;case"D":ue[z.path[Y]]=z.lhs;break;case"E":ue[z.path[Y]]=z.lhs;break;case"N":delete ue[z.path[Y]]}}else switch(z.kind){case"A":k(V[K],z.index,z.item);break;case"D":V[K]=z.lhs;break;case"E":V[K]=z.lhs;break;case"N":V=h(V,K)}return V}function x(V,K,z){if(V&&K&&z&&z.kind){var Y,ue,pe=V;for(ue=z.path.length-1,Y=0;Y<ue;Y++)typeof pe[z.path[Y]]>"u"&&(pe[z.path[Y]]={}),pe=pe[z.path[Y]];switch(z.kind){case"A":k(pe[z.path[Y]],z.index,z.item);break;case"D":pe[z.path[Y]]=z.lhs;break;case"E":pe[z.path[Y]]=z.lhs;break;case"N":delete pe[z.path[Y]]}}}function U(V,K,z){if(V&&K){var Y=function(ue){z&&!z(V,K,ue)||A(V,K,ue)};v(V,K,Y)}}function $(V){return"color: "+me[V].color+"; font-weight: bold"}function B(V){var K=V.kind,z=V.path,Y=V.lhs,ue=V.rhs,pe=V.index,we=V.item;switch(K){case"E":return[z.join("."),Y,"→",ue];case"N":return[z.join("."),ue];case"D":return[z.join(".")];case"A":return[z.join(".")+"["+pe+"]",we];default:return[]}}function Q(V,K,z,Y){var ue=E(V,K);try{Y?z.groupCollapsed("diff"):z.group("diff")}catch{z.log("diff")}ue?ue.forEach(function(pe){var we=pe.kind,ve=B(pe);z.log.apply(z,["%c "+me[we].text,$(we)].concat(le(ve)))}):z.log("—— no diff ——");try{z.groupEnd()}catch{z.log("—— diff end —— ")}}function H(V,K,z,Y){switch(typeof V>"u"?"undefined":xe(V)){case"object":return typeof V[Y]=="function"?V[Y].apply(V,le(z)):V[Y];case"function":return V(K);default:return V}}function X(V){var K=V.timestamp,z=V.duration;return function(Y,ue,pe){var we=["action"];return we.push("%c"+String(Y.type)),K&&we.push("%c@ "+ue),z&&we.push("%c(in "+pe.toFixed(2)+" ms)"),we.join(" ")}}function D(V,K){var z=K.logger,Y=K.actionTransformer,ue=K.titleFormatter,pe=ue===void 0?X(K):ue,we=K.collapsed,ve=K.colors,Ve=K.level,ke=K.diff,He=typeof K.titleFormatter>"u";V.forEach(function(je,Ge){var Be=je.started,ze=je.startedTime,gt=je.action,Xe=je.prevState,Tn=je.error,Pn=je.took,wt=je.nextState,bn=V[Ge+1];bn&&(wt=bn.prevState,Pn=bn.started-Be);var en=Y(gt),cr=typeof we=="function"?we(function(){return wt},gt,je):we,xt=M(ze),ti=ve.title?"color: "+ve.title(en)+";":"",Ae=["color: gray; font-weight: lighter;"];Ae.push(ti),K.timestamp&&Ae.push("color: gray; font-weight: lighter;"),K.duration&&Ae.push("color: gray; font-weight: lighter;");var nt=pe(en,xt,Pn);try{cr?ve.title&&He?z.groupCollapsed.apply(z,["%c "+nt].concat(Ae)):z.groupCollapsed(nt):ve.title&&He?z.group.apply(z,["%c "+nt].concat(Ae)):z.group(nt)}catch{z.log(nt)}var tn=H(Ve,en,[Xe],"prevState"),Zs=H(Ve,en,[en],"action"),Wi=H(Ve,en,[Tn,Xe],"error"),So=H(Ve,en,[wt],"nextState");if(tn)if(ve.prevState){var Qi="color: "+ve.prevState(Xe)+"; font-weight: bold";z[tn]("%c prev state",Qi,Xe)}else z[tn]("prev state",Xe);if(Zs)if(ve.action){var fi="color: "+ve.action(en)+"; font-weight: bold";z[Zs]("%c action    ",fi,en)}else z[Zs]("action    ",en);if(Tn&&Wi)if(ve.error){var cn="color: "+ve.error(Tn,Xe)+"; font-weight: bold;";z[Wi]("%c error     ",cn,Tn)}else z[Wi]("error     ",Tn);if(So)if(ve.nextState){var Io="color: "+ve.nextState(wt)+"; font-weight: bold";z[So]("%c next state",Io,wt)}else z[So]("next state",wt);ke&&Q(Xe,wt,z,cr);try{z.groupEnd()}catch{z.log("—— log end ——")}})}function N(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},K=Object.assign({},Pe,V),z=K.logger,Y=K.stateTransformer,ue=K.errorTransformer,pe=K.predicate,we=K.logErrors,ve=K.diffPredicate;if(typeof z>"u")return function(){return function(ke){return function(He){return ke(He)}}};if(V.getState&&V.dispatch)return console.error(`[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:
// Logger with default options
import { logger } from 'redux-logger'
const store = createStore(
  reducer,
  applyMiddleware(logger)
)
// Or you can create your own logger with custom options http://bit.ly/redux-logger-options
import createLogger from 'redux-logger'
const logger = createLogger({
  // ...options
});
const store = createStore(
  reducer,
  applyMiddleware(logger)
)
`),function(){return function(ke){return function(He){return ke(He)}}};var Ve=[];return function(ke){var He=ke.getState;return function(je){return function(Ge){if(typeof pe=="function"&&!pe(He,Ge))return je(Ge);var Be={};Ve.push(Be),Be.started=Me.now(),Be.startedTime=new Date,Be.prevState=Y(He()),Be.action=Ge;var ze=void 0;if(we)try{ze=je(Ge)}catch(Xe){Be.error=ue(Xe)}else ze=je(Ge);Be.took=Me.now()-Be.started,Be.nextState=Y(He());var gt=K.diff&&typeof ve=="function"?ve(He,Ge):K.diff;if(D(Ve,Object.assign({},K,{diff:gt})),Ve.length=0,Be.error)throw Be.error;return ze}}}}var C,P,j=function(V,K){return new Array(K+1).join(V)},q=function(V,K){return j("0",K-V.toString().length)+V},M=function(V){return q(V.getHours(),2)+":"+q(V.getMinutes(),2)+":"+q(V.getSeconds(),2)+"."+q(V.getMilliseconds(),3)},Me=typeof performance<"u"&&performance!==null&&typeof performance.now=="function"?performance:Date,xe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},le=function(V){if(Array.isArray(V)){for(var K=0,z=Array(V.length);K<V.length;K++)z[K]=V[K];return z}return Array.from(V)},ye=[];C=(typeof Tm>"u"?"undefined":xe(Tm))==="object"&&Tm?Tm:typeof window<"u"?window:{},P=C.DeepDiff,P&&ye.push(function(){typeof P<"u"&&C.DeepDiff===E&&(C.DeepDiff=P,P=void 0)}),r(o,i),r(u,i),r(c,i),r(f,i),Object.defineProperties(E,{diff:{value:E,enumerable:!0},observableDiff:{value:v,enumerable:!0},applyDiff:{value:U,enumerable:!0},applyChange:{value:A,enumerable:!0},revertChange:{value:x,enumerable:!0},isConflict:{value:function(){return typeof P<"u"},enumerable:!0},noConflict:{value:function(){return ye&&(ye.forEach(function(V){V()}),ye=null),E},enumerable:!0}});var me={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},Pe={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(V){return V},actionTransformer:function(V){return V},errorTransformer:function(V){return V},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},F=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},K=V.dispatch,z=V.getState;return typeof K=="function"||typeof z=="function"?N()({dispatch:K,getState:z}):void console.error(`
[redux-logger v3] BREAKING CHANGE
[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.
[redux-logger v3] Change
[redux-logger v3] import createLogger from 'redux-logger'
[redux-logger v3] to
[redux-logger v3] import { createLogger } from 'redux-logger'
`)};t.defaults=Pe,t.createLogger=N,t.logger=F,t.default=F,Object.defineProperty(t,"__esModule",{value:!0})})}(Pf,Pf.exports)),Pf.exports}YW();var wf={},Pm={},km={},px;function XW(){if(px)return km;px=1,km.__esModule=!0,km.default=i;function n(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(c){return typeof c}:n=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},n(o)}function e(){}var t={getItem:e,setItem:e,removeItem:e};function r(o){if((typeof self>"u"?"undefined":n(self))!=="object"||!(o in self))return!1;try{var u=self[o],c="redux-persist ".concat(o," test");u.setItem(c,"test"),u.getItem(c),u.removeItem(c)}catch{return!1}return!0}function i(o){var u="".concat(o,"Storage");return r(u)?self[u]:t}return km}var mx;function ZW(){if(mx)return Pm;mx=1,Pm.__esModule=!0,Pm.default=t;var n=e(XW());function e(r){return r&&r.__esModule?r:{default:r}}function t(r){var i=(0,n.default)(r);return{getItem:function(u){return new Promise(function(c,f){c(i.getItem(u))})},setItem:function(u,c){return new Promise(function(f,h){f(i.setItem(u,c))})},removeItem:function(u){return new Promise(function(c,f){c(i.removeItem(u))})}}}return Pm}var gx;function JW(){if(gx)return wf;gx=1,wf.__esModule=!0,wf.default=void 0;var n=e(ZW());function e(r){return r&&r.__esModule?r:{default:r}}var t=(0,n.default)("session");return wf.default=t,wf}var eQ=JW();const tQ=Bc(eQ),nQ={user:null,error:{title:"",content:""}},rQ=yN(nQ,n=>{n.addCase(gg,(e,t)=>{e.user=t.payload}).addCase(Qr,(e,t)=>{e.error=t.payload}).addDefaultCase(e=>e)}),iQ={key:"root",storage:tQ,whitelist:["listReducer"]},sQ=oN({userReducer:rQ,listReducer:WW}),aQ=FW(iQ,sQ),v2=M4({reducer:aQ,devTools:!1,middleware:n=>n()}),V0=KW(v2),yx=n=>!n||typeof n=="function"?n:e=>{n.current=e};function oQ(n,e){const t=yx(n),r=yx(e);return i=>{t&&t(i),r&&r(i)}}function rv(n,e){return b.useMemo(()=>oQ(n,e),[n,e])}const _2=b.createContext(null),lQ=["as","active","eventKey"];function uQ(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function E2({key:n,onClick:e,active:t,id:r,role:i,disabled:o}){const u=b.useContext(Rl),c=b.useContext(uy),f=b.useContext(_2);let h=t;const g={role:i};if(c){!i&&c.role==="tablist"&&(g.role="tab");const v=c.getControllerId(n??null),E=c.getControlledId(n??null);g[qc("event-key")]=n,g.id=v||r,h=t==null&&n!=null?c.activeKey===n:t,(h||!(f!=null&&f.unmountOnExit)&&!(f!=null&&f.mountOnEnter))&&(g["aria-controls"]=E)}return g.role==="tab"&&(g["aria-selected"]=h,h||(g.tabIndex=-1),o&&(g.tabIndex=-1,g["aria-disabled"]=!0)),g.onClick=Un(v=>{o||(e==null||e(v),n!=null&&u&&!v.isPropagationStopped()&&u(n,v))}),[g,{isActive:h}]}const w2=b.forwardRef((n,e)=>{let{as:t=AT,active:r,eventKey:i}=n,o=uQ(n,lQ);const[u,c]=E2(Object.assign({key:nh(i,o.href),active:r},o));return u[qc("active")]=c.isActive,I.jsx(t,Object.assign({},o,u,{ref:e}))});w2.displayName="NavItem";const cQ=["as","onSelect","activeKey","role","onKeyDown"];function dQ(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const vx=()=>{},_x=qc("event-key"),T2=b.forwardRef((n,e)=>{let{as:t="div",onSelect:r,activeKey:i,role:o,onKeyDown:u}=n,c=dQ(n,cQ);const f=jN(),h=b.useRef(!1),g=b.useContext(Rl),v=b.useContext(_2);let E,S;v&&(o=o||"tablist",i=v.activeKey,E=v.getControlledId,S=v.getControllerId);const A=b.useRef(null),k=B=>{const Q=A.current;if(!Q)return null;const H=Ts(Q,`[${_x}]:not([aria-disabled=true])`),X=Q.querySelector("[aria-selected=true]");if(!X||X!==document.activeElement)return null;const D=H.indexOf(X);if(D===-1)return null;let N=D+B;return N>=H.length&&(N=0),N<0&&(N=H.length-1),H[N]},x=(B,Q)=>{B!=null&&(r==null||r(B,Q),g==null||g(B,Q))},U=B=>{if(u==null||u(B),!v)return;let Q;switch(B.key){case"ArrowLeft":case"ArrowUp":Q=k(-1);break;case"ArrowRight":case"ArrowDown":Q=k(1);break;default:return}Q&&(B.preventDefault(),x(Q.dataset[WB("EventKey")]||null,B),h.current=!0,f())};b.useEffect(()=>{if(A.current&&h.current){const B=A.current.querySelector(`[${_x}][aria-selected=true]`);B==null||B.focus()}h.current=!1});const $=rv(e,A);return I.jsx(Rl.Provider,{value:x,children:I.jsx(uy.Provider,{value:{role:o,activeKey:nh(i),getControlledId:E||vx,getControllerId:S||vx},children:I.jsx(t,Object.assign({},c,{onKeyDown:U,ref:$,role:o}))})})});T2.displayName="Nav";const fQ=Object.assign(T2,{Item:w2}),b2=b.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=De(e,"nav-item"),I.jsx(t,{ref:i,className:be(n,e),...r})));b2.displayName="NavItem";const S2=b.forwardRef(({bsPrefix:n,className:e,as:t=BT,active:r,eventKey:i,disabled:o=!1,...u},c)=>{n=De(n,"nav-link");const[f,h]=E2({key:nh(i,u.href),active:r,disabled:o,...u});return I.jsx(t,{...u,...f,ref:c,disabled:o,className:be(e,n,o&&"disabled",h.isActive&&"active")})});S2.displayName="NavLink";const I2=b.forwardRef((n,e)=>{const{as:t="div",bsPrefix:r,variant:i,fill:o=!1,justify:u=!1,navbar:c,navbarScroll:f,className:h,activeKey:g,...v}=jT(n,{activeKey:"onSelect"}),E=De(r,"nav");let S,A,k=!1;const x=b.useContext(ql),U=b.useContext(CT);return x?(S=x.bsPrefix,k=c??!0):U&&({cardHeaderBsPrefix:A}=U),I.jsx(fQ,{as:t,ref:e,activeKey:g,className:be(h,{[E]:!k,[`${S}-nav`]:k,[`${S}-nav-scroll`]:k&&f,[`${A}-${i}`]:!!A,[`${E}-${i}`]:!!i,[`${E}-fill`]:o,[`${E}-justified`]:u}),...v})});I2.displayName="Nav";const hQ=Object.assign(I2,{Item:b2,Link:S2}),A2=b.forwardRef(({bsPrefix:n,className:e,as:t,...r},i)=>{n=De(n,"navbar-brand");const o=t||(r.href?"a":"span");return I.jsx(o,{...r,ref:i,className:be(e,n)})});A2.displayName="NavbarBrand";function pQ(n){var e=Oh(n);return e&&e.defaultView||window}function mQ(n,e){return pQ(n).getComputedStyle(n,e)}var gQ=/([A-Z])/g;function yQ(n){return n.replace(gQ,"-$1").toLowerCase()}var vQ=/^ms-/;function Mm(n){return yQ(n).replace(vQ,"-ms-")}var _Q=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function EQ(n){return!!(n&&_Q.test(n))}function Ns(n,e){var t="",r="";if(typeof e=="string")return n.style.getPropertyValue(Mm(e))||mQ(n).getPropertyValue(Mm(e));Object.keys(e).forEach(function(i){var o=e[i];!o&&o!==0?n.style.removeProperty(Mm(i)):EQ(i)?r+=i+"("+o+") ":t+=Mm(i)+": "+o+";"}),r&&(t+="transform: "+r+";"),n.style.cssText+=";"+t}const Ex={disabled:!1},R2=Rt.createContext(null);var wQ=function(e){return e.scrollTop},kf="unmounted",Ba="exited",Gr="entering",bs="entered",Uc="exiting",Xs=function(n){eF(e,n);function e(r,i){var o;o=n.call(this,r,i)||this;var u=i,c=u&&!u.isMounting?r.enter:r.appear,f;return o.appearStatus=null,r.in?c?(f=Ba,o.appearStatus=Gr):f=bs:r.unmountOnExit||r.mountOnEnter?f=kf:f=Ba,o.state={status:f},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var u=i.in;return u&&o.status===kf?{status:Ba}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var o=null;if(i!==this.props){var u=this.state.status;this.props.in?u!==Gr&&u!==bs&&(o=Gr):(u===Gr||u===bs)&&(o=Uc)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,o,u,c;return o=u=c=i,i!=null&&typeof i!="number"&&(o=i.exit,u=i.enter,c=i.appear!==void 0?i.appear:u),{exit:o,enter:u,appear:c}},t.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Gr){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:ec.findDOMNode(this);u&&wQ(u)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ba&&this.setState({status:kf})},t.performEnter=function(i){var o=this,u=this.props.enter,c=this.context?this.context.isMounting:i,f=this.props.nodeRef?[c]:[ec.findDOMNode(this),c],h=f[0],g=f[1],v=this.getTimeouts(),E=c?v.appear:v.enter;if(!i&&!u||Ex.disabled){this.safeSetState({status:bs},function(){o.props.onEntered(h)});return}this.props.onEnter(h,g),this.safeSetState({status:Gr},function(){o.props.onEntering(h,g),o.onTransitionEnd(E,function(){o.safeSetState({status:bs},function(){o.props.onEntered(h,g)})})})},t.performExit=function(){var i=this,o=this.props.exit,u=this.getTimeouts(),c=this.props.nodeRef?void 0:ec.findDOMNode(this);if(!o||Ex.disabled){this.safeSetState({status:Ba},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:Uc},function(){i.props.onExiting(c),i.onTransitionEnd(u.exit,function(){i.safeSetState({status:Ba},function(){i.props.onExited(c)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},t.setNextCallback=function(i){var o=this,u=!0;return this.nextCallback=function(c){u&&(u=!1,o.nextCallback=null,i(c))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},t.onTransitionEnd=function(i,o){this.setNextCallback(o);var u=this.props.nodeRef?this.props.nodeRef.current:ec.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!u||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],h=f[0],g=f[1];this.props.addEndListener(h,g)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===kf)return null;var o=this.props,u=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var c=iO(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Rt.createElement(R2.Provider,{value:null},typeof u=="function"?u(i,c):Rt.cloneElement(Rt.Children.only(u),c))},e}(Rt.Component);Xs.contextType=R2;Xs.propTypes={};function Ku(){}Xs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ku,onEntering:Ku,onEntered:Ku,onExit:Ku,onExiting:Ku,onExited:Ku};Xs.UNMOUNTED=kf;Xs.EXITED=Ba;Xs.ENTERING=Gr;Xs.ENTERED=bs;Xs.EXITING=Uc;function TQ(n){return n.code==="Escape"||n.keyCode===27}function bQ(){const n=b.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function rd(n){if(!n||typeof n=="function")return null;const{major:e}=bQ();return e>=19?n.props.ref:n.ref}function SQ(n,e,t,r){if(r===void 0&&(r=!0),n){var i=document.createEvent("HTMLEvents");i.initEvent(e,t,r),n.dispatchEvent(i)}}function IQ(n){var e=Ns(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function AQ(n,e,t){t===void 0&&(t=5);var r=!1,i=setTimeout(function(){r||SQ(n,"transitionend",!0)},e+t),o=za(n,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),o()}}function C2(n,e,t,r){t==null&&(t=IQ(n)||0);var i=AQ(n,t,r),o=za(n,"transitionend",e);return function(){i(),o()}}function wx(n,e){const t=Ns(n,e)||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function L0(n,e){const t=wx(n,"transitionDuration"),r=wx(n,"transitionDelay"),i=C2(n,o=>{o.target===n&&(i(),e(o))},t+r)}function Tf(...n){return n.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...i){e.apply(this,i),t.apply(this,i)}},null)}function x2(n){n.offsetHeight}function RQ(n){return n&&"setState"in n?ec.findDOMNode(n):n??null}const j0=Rt.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:i,onExited:o,addEndListener:u,children:c,childRef:f,...h},g)=>{const v=b.useRef(null),E=dy(v,f),S=X=>{E(RQ(X))},A=X=>D=>{X&&v.current&&X(v.current,D)},k=b.useCallback(A(n),[n]),x=b.useCallback(A(e),[e]),U=b.useCallback(A(t),[t]),$=b.useCallback(A(r),[r]),B=b.useCallback(A(i),[i]),Q=b.useCallback(A(o),[o]),H=b.useCallback(A(u),[u]);return I.jsx(Xs,{ref:g,...h,onEnter:k,onEntered:U,onEntering:x,onExit:$,onExited:Q,onExiting:B,addEndListener:H,nodeRef:v,children:typeof c=="function"?(X,D)=>c(X,{...D,ref:S}):Rt.cloneElement(c,{ref:S})})}),CQ={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function xQ(n,e){const t=`offset${n[0].toUpperCase()}${n.slice(1)}`,r=e[t],i=CQ[n];return r+parseInt(Ns(e,i[0]),10)+parseInt(Ns(e,i[1]),10)}const NQ={[Ba]:"collapse",[Uc]:"collapsing",[Gr]:"collapsing",[bs]:"collapse show"},OQ=Rt.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:i,className:o,children:u,dimension:c="height",in:f=!1,timeout:h=300,mountOnEnter:g=!1,unmountOnExit:v=!1,appear:E=!1,getDimensionValue:S=xQ,...A},k)=>{const x=typeof c=="function"?c():c,U=b.useMemo(()=>Tf(X=>{X.style[x]="0"},n),[x,n]),$=b.useMemo(()=>Tf(X=>{const D=`scroll${x[0].toUpperCase()}${x.slice(1)}`;X.style[x]=`${X[D]}px`},e),[x,e]),B=b.useMemo(()=>Tf(X=>{X.style[x]=null},t),[x,t]),Q=b.useMemo(()=>Tf(X=>{X.style[x]=`${S(x,X)}px`,x2(X)},r),[r,S,x]),H=b.useMemo(()=>Tf(X=>{X.style[x]=null},i),[x,i]);return I.jsx(j0,{ref:k,addEndListener:L0,...A,"aria-expanded":A.role?f:null,onEnter:U,onEntering:$,onEntered:B,onExit:Q,onExiting:H,childRef:rd(u),in:f,timeout:h,mountOnEnter:g,unmountOnExit:v,appear:E,children:(X,D)=>Rt.cloneElement(u,{...D,className:be(o,u.props.className,NQ[X],x==="width"&&"collapse-horizontal")})})}),N2=b.forwardRef(({children:n,bsPrefix:e,...t},r)=>{e=De(e,"navbar-collapse");const i=b.useContext(ql);return I.jsx(OQ,{in:!!(i&&i.expanded),...t,children:I.jsx("div",{ref:r,className:e,children:n})})});N2.displayName="NavbarCollapse";const O2=b.forwardRef(({bsPrefix:n,className:e,children:t,label:r="Toggle navigation",as:i="button",onClick:o,...u},c)=>{n=De(n,"navbar-toggler");const{onToggle:f,expanded:h}=b.useContext(ql)||{},g=eo(v=>{o&&o(v),f&&f()});return i==="button"&&(u.type="button"),I.jsx(i,{...u,ref:c,onClick:g,"aria-label":r,className:be(e,n,!h&&"collapsed"),children:t||I.jsx("span",{className:`${n}-icon`})})});O2.displayName="NavbarToggle";const uT=new WeakMap,Tx=(n,e)=>{if(!n||!e)return;const t=uT.get(e)||new Map;uT.set(e,t);let r=t.get(n);return r||(r=e.matchMedia(n),r.refCount=0,t.set(r.media,r)),r};function DQ(n,e=typeof window>"u"?void 0:window){const t=Tx(n,e),[r,i]=b.useState(()=>t?t.matches:!1);return uO(()=>{let o=Tx(n,e);if(!o)return i(!1);let u=uT.get(e);const c=()=>{i(o.matches)};return o.refCount++,o.addListener(c),c(),()=>{o.removeListener(c),o.refCount--,o.refCount<=0&&(u==null||u.delete(o.media)),o=void 0}},[n]),r}function PQ(n){const e=Object.keys(n);function t(c,f){return c===f?f:c?`${c} and ${f}`:f}function r(c){return e[Math.min(e.indexOf(c)+1,e.length-1)]}function i(c){const f=r(c);let h=n[f];return typeof h=="number"?h=`${h-.2}px`:h=`calc(${h} - 0.2px)`,`(max-width: ${h})`}function o(c){let f=n[c];return typeof f=="number"&&(f=`${f}px`),`(min-width: ${f})`}function u(c,f,h){let g;typeof c=="object"?(g=c,h=f,f=!0):(f=f||!0,g={[c]:f});let v=b.useMemo(()=>Object.entries(g).reduce((E,[S,A])=>((A==="up"||A===!0)&&(E=t(E,o(S))),(A==="down"||A===!0)&&(E=t(E,i(S))),E),""),[JSON.stringify(g)]);return DQ(v,h)}return u}const kQ=PQ({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function KE(n){n===void 0&&(n=Oh());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function MQ(n){const e=b.useRef(n);return e.current=n,e}function VQ(n){const e=MQ(n);b.useEffect(()=>()=>e.current(),[])}function LQ(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const bx=qc("modal-open");class U0{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:r=!1}={}){this.handleContainerOverflow=t,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return LQ(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(t[r]=`${parseInt(Ns(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(bx,""),Ns(i,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(bx),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const WE=(n,e)=>$c?n==null?(e||Oh()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function jQ(n,e){const t=cy(),[r,i]=b.useState(()=>WE(n,t==null?void 0:t.document));if(!r){const o=WE(n);o&&i(o)}return b.useEffect(()=>{},[e,r]),b.useEffect(()=>{const o=WE(n);o!==r&&i(o)},[n,r]),r}function UQ({children:n,in:e,onExited:t,mountOnEnter:r,unmountOnExit:i}){const o=b.useRef(null),u=b.useRef(e),c=Un(t);b.useEffect(()=>{e?u.current=!0:c(o.current)},[e,c]);const f=rv(o,rd(n)),h=b.cloneElement(n,{ref:f});return e?h:i||!u.current&&r?null:h}const BQ=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function FQ(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function zQ(n){let{onEnter:e,onEntering:t,onEntered:r,onExit:i,onExiting:o,onExited:u,addEndListener:c,children:f}=n,h=FQ(n,BQ);const g=b.useRef(null),v=rv(g,rd(f)),E=Q=>H=>{Q&&g.current&&Q(g.current,H)},S=b.useCallback(E(e),[e]),A=b.useCallback(E(t),[t]),k=b.useCallback(E(r),[r]),x=b.useCallback(E(i),[i]),U=b.useCallback(E(o),[o]),$=b.useCallback(E(u),[u]),B=b.useCallback(E(c),[c]);return Object.assign({},h,{nodeRef:g},e&&{onEnter:S},t&&{onEntering:A},r&&{onEntered:k},i&&{onExit:x},o&&{onExiting:U},u&&{onExited:$},c&&{addEndListener:B},{children:typeof f=="function"?(Q,H)=>f(Q,Object.assign({},H,{ref:v})):b.cloneElement(f,{ref:v})})}const $Q=["component"];function qQ(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const HQ=b.forwardRef((n,e)=>{let{component:t}=n,r=qQ(n,$Q);const i=zQ(r);return I.jsx(t,Object.assign({ref:e},i))});function GQ({in:n,onTransition:e}){const t=b.useRef(null),r=b.useRef(!0),i=Un(e);return BR(()=>{if(!t.current)return;let o=!1;return i({in:n,element:t.current,initial:r.current,isStale:()=>o}),()=>{o=!0}},[n,i]),BR(()=>(r.current=!1,()=>{r.current=!0}),[]),t}function KQ({children:n,in:e,onExited:t,onEntered:r,transition:i}){const[o,u]=b.useState(!e);e&&o&&u(!1);const c=GQ({in:!!e,onTransition:h=>{const g=()=>{h.isStale()||(h.in?r==null||r(h.element,h.initial):(u(!0),t==null||t(h.element)))};Promise.resolve(i(h)).then(g,v=>{throw h.in||u(!0),v})}}),f=rv(c,rd(n));return o&&!e?null:b.cloneElement(n,{ref:f})}function Sx(n,e,t){return n?I.jsx(HQ,Object.assign({},t,{component:n})):e?I.jsx(KQ,Object.assign({},t,{transition:e})):I.jsx(UQ,Object.assign({},t))}const WQ=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function QQ(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}let QE;function YQ(n){return QE||(QE=new U0({ownerDocument:n==null?void 0:n.document})),QE}function XQ(n){const e=cy(),t=n||YQ(e),r=b.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>t.add(r.current),remove:()=>t.remove(r.current),isTopModal:()=>t.isTopModal(r.current),setDialogRef:b.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:b.useCallback(i=>{r.current.backdrop=i},[])})}const D2=b.forwardRef((n,e)=>{let{show:t=!1,role:r="dialog",className:i,style:o,children:u,backdrop:c=!0,keyboard:f=!0,onBackdropClick:h,onEscapeKeyDown:g,transition:v,runTransition:E,backdropTransition:S,runBackdropTransition:A,autoFocus:k=!0,enforceFocus:x=!0,restoreFocus:U=!0,restoreFocusOptions:$,renderDialog:B,renderBackdrop:Q=ze=>I.jsx("div",Object.assign({},ze)),manager:H,container:X,onShow:D,onHide:N=()=>{},onExit:C,onExited:P,onExiting:j,onEnter:q,onEntering:M,onEntered:Me}=n,xe=QQ(n,WQ);const le=cy(),ye=jQ(X),me=XQ(H),Pe=UN(),F=LN(t),[V,K]=b.useState(!t),z=b.useRef(null);b.useImperativeHandle(e,()=>me,[me]),$c&&!F&&t&&(z.current=KE(le==null?void 0:le.document)),t&&V&&K(!1);const Y=Un(()=>{if(me.add(),ke.current=za(document,"keydown",ve),Ve.current=za(document,"focus",()=>setTimeout(pe),!0),D&&D(),k){var ze,gt;const Xe=KE((ze=(gt=me.dialog)==null?void 0:gt.ownerDocument)!=null?ze:le==null?void 0:le.document);me.dialog&&Xe&&!vg(me.dialog,Xe)&&(z.current=Xe,me.dialog.focus())}}),ue=Un(()=>{if(me.remove(),ke.current==null||ke.current(),Ve.current==null||Ve.current(),U){var ze;(ze=z.current)==null||ze.focus==null||ze.focus($),z.current=null}});b.useEffect(()=>{!t||!ye||Y()},[t,ye,Y]),b.useEffect(()=>{V&&ue()},[V,ue]),VQ(()=>{ue()});const pe=Un(()=>{if(!x||!Pe()||!me.isTopModal())return;const ze=KE(le==null?void 0:le.document);me.dialog&&ze&&!vg(me.dialog,ze)&&me.dialog.focus()}),we=Un(ze=>{ze.target===ze.currentTarget&&(h==null||h(ze),c===!0&&N())}),ve=Un(ze=>{f&&TQ(ze)&&me.isTopModal()&&(g==null||g(ze),ze.defaultPrevented||N())}),Ve=b.useRef(),ke=b.useRef(),He=(...ze)=>{K(!0),P==null||P(...ze)};if(!ye)return null;const je=Object.assign({role:r,ref:me.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},xe,{style:o,className:i,tabIndex:-1});let Ge=B?B(je):I.jsx("div",Object.assign({},je,{children:b.cloneElement(u,{role:"document"})}));Ge=Sx(v,E,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:C,onExiting:j,onExited:He,onEnter:q,onEntering:M,onEntered:Me,children:Ge});let Be=null;return c&&(Be=Q({ref:me.setBackdropRef,onClick:we}),Be=Sx(S,A,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Be})),I.jsx(I.Fragment,{children:ec.createPortal(I.jsxs(I.Fragment,{children:[Be,Ge]}),ye)})});D2.displayName="Modal";const P2=Object.assign(D2,{Manager:U0}),ZQ={[Gr]:"show",[bs]:"show"},np=b.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:r,...i},o)=>{const u={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},c=b.useCallback((f,h)=>{x2(f),r==null||r(f,h)},[r]);return I.jsx(j0,{ref:o,addEndListener:L0,...u,onEnter:c,childRef:rd(e),children:(f,h)=>b.cloneElement(e,{...h,className:be("fade",n,e.props.className,ZQ[f],t[f])})})});np.displayName="Fade";const k2=b.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=De(e,"offcanvas-body"),I.jsx(t,{ref:i,className:be(n,e),...r})));k2.displayName="OffcanvasBody";const JQ={[Gr]:"show",[bs]:"show"},M2=b.forwardRef(({bsPrefix:n,className:e,children:t,in:r=!1,mountOnEnter:i=!1,unmountOnExit:o=!1,appear:u=!1,...c},f)=>(n=De(n,"offcanvas"),I.jsx(j0,{ref:f,addEndListener:L0,in:r,mountOnEnter:i,unmountOnExit:o,appear:u,...c,childRef:rd(t),children:(h,g)=>b.cloneElement(t,{...g,className:be(e,t.props.className,(h===Gr||h===Uc)&&`${n}-toggling`,JQ[h])})})));M2.displayName="OffcanvasToggling";const B0=b.createContext({onHide(){}}),eY={"aria-label":Cs.string,onClick:Cs.func,variant:Cs.oneOf(["white"])},iv=b.forwardRef(({className:n,variant:e,"aria-label":t="Close",...r},i)=>I.jsx("button",{ref:i,type:"button",className:be("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...r}));iv.displayName="CloseButton";iv.propTypes=eY;const V2=b.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:r,children:i,...o},u)=>{const c=b.useContext(B0),f=eo(()=>{c==null||c.onHide(),r==null||r()});return I.jsxs("div",{ref:u,...o,children:[i,t&&I.jsx(iv,{"aria-label":n,variant:e,onClick:f})]})}),L2=b.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:r=!1,...i},o)=>(n=De(n,"offcanvas-header"),I.jsx(V2,{ref:o,...i,className:be(e,n),closeLabel:t,closeButton:r})));L2.displayName="OffcanvasHeader";const tY=ay("h5"),j2=b.forwardRef(({className:n,bsPrefix:e,as:t=tY,...r},i)=>(e=De(e,"offcanvas-title"),I.jsx(t,{ref:i,className:be(n,e),...r})));j2.displayName="OffcanvasTitle";function nY(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function rY(n,e){n.classList?n.classList.add(e):nY(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function Ix(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function iY(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=Ix(n.className,e):n.setAttribute("class",Ix(n.className&&n.className.baseVal||"",e))}const Wu={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class U2 extends U0{adjustAndStore(e,t,r){const i=t.style[e];t.dataset[e]=i,Ns(t,{[e]:`${parseFloat(Ns(t,e))+r}px`})}restore(e,t){const r=t.dataset[e];r!==void 0&&(delete t.dataset[e],Ns(t,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(rY(t,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Ts(t,Wu.FIXED_CONTENT).forEach(o=>this.adjustAndStore(r,o,e.scrollBarWidth)),Ts(t,Wu.STICKY_CONTENT).forEach(o=>this.adjustAndStore(i,o,-e.scrollBarWidth)),Ts(t,Wu.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(i,o,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();iY(t,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Ts(t,Wu.FIXED_CONTENT).forEach(o=>this.restore(r,o)),Ts(t,Wu.STICKY_CONTENT).forEach(o=>this.restore(i,o)),Ts(t,Wu.NAVBAR_TOGGLER).forEach(o=>this.restore(i,o))}}let YE;function B2(n){return YE||(YE=new U2(n)),YE}function sY(n){return I.jsx(M2,{...n})}function aY(n){return I.jsx(np,{...n})}const F2=b.forwardRef(({bsPrefix:n,className:e,children:t,"aria-labelledby":r,placement:i="start",responsive:o,show:u=!1,backdrop:c=!0,keyboard:f=!0,scroll:h=!1,onEscapeKeyDown:g,onShow:v,onHide:E,container:S,autoFocus:A=!0,enforceFocus:k=!0,restoreFocus:x=!0,restoreFocusOptions:U,onEntered:$,onExit:B,onExiting:Q,onEnter:H,onEntering:X,onExited:D,backdropClassName:N,manager:C,renderStaticNode:P=!1,...j},q)=>{const M=b.useRef();n=De(n,"offcanvas");const[Me,xe]=b.useState(!1),le=eo(E),ye=kQ(o||"xs","up");b.useEffect(()=>{xe(o?u&&!ye:u)},[u,o,ye]);const me=b.useMemo(()=>({onHide:le}),[le]);function Pe(){return C||(h?(M.current||(M.current=new U2({handleContainerOverflow:!1})),M.current):B2())}const F=(Y,...ue)=>{Y&&(Y.style.visibility="visible"),H==null||H(Y,...ue)},V=(Y,...ue)=>{Y&&(Y.style.visibility=""),D==null||D(...ue)},K=b.useCallback(Y=>I.jsx("div",{...Y,className:be(`${n}-backdrop`,N)}),[N,n]),z=Y=>I.jsx("div",{...Y,...j,className:be(e,o?`${n}-${o}`:n,`${n}-${i}`),"aria-labelledby":r,children:t});return I.jsxs(I.Fragment,{children:[!Me&&(o||P)&&z({}),I.jsx(B0.Provider,{value:me,children:I.jsx(P2,{show:Me,ref:q,backdrop:c,container:S,keyboard:f,autoFocus:A,enforceFocus:k&&!h,restoreFocus:x,restoreFocusOptions:U,onEscapeKeyDown:g,onShow:v,onHide:le,onEnter:F,onEntering:X,onEntered:$,onExit:B,onExiting:Q,onExited:V,manager:Pe(),transition:sY,backdropTransition:aY,renderBackdrop:K,renderDialog:z})})]})});F2.displayName="Offcanvas";const og=Object.assign(F2,{Body:k2,Header:L2,Title:j2}),z2=b.forwardRef(({onHide:n,...e},t)=>{const r=b.useContext(ql),i=eo(()=>{r==null||r.onToggle==null||r.onToggle(),n==null||n()});return I.jsx(og,{ref:t,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:i})});z2.displayName="NavbarOffcanvas";const $2=b.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},i)=>(e=De(e,"navbar-text"),I.jsx(t,{ref:i,className:be(n,e),...r})));$2.displayName="NavbarText";const q2=b.forwardRef((n,e)=>{const{bsPrefix:t,expand:r=!0,variant:i="light",bg:o,fixed:u,sticky:c,className:f,as:h="nav",expanded:g,onToggle:v,onSelect:E,collapseOnSelect:S=!1,...A}=jT(n,{expanded:"onToggle"}),k=De(t,"navbar"),x=b.useCallback((...B)=>{E==null||E(...B),S&&g&&(v==null||v(!1))},[E,S,g,v]);A.role===void 0&&h!=="nav"&&(A.role="navigation");let U=`${k}-expand`;typeof r=="string"&&(U=`${U}-${r}`);const $=b.useMemo(()=>({onToggle:()=>v==null?void 0:v(!g),bsPrefix:k,expanded:!!g,expand:r}),[k,g,r,v]);return I.jsx(ql.Provider,{value:$,children:I.jsx(Rl.Provider,{value:x,children:I.jsx(h,{ref:e,...A,className:be(f,k,r&&U,i&&`${k}-${i}`,o&&`bg-${o}`,c&&`sticky-${c}`,u&&`fixed-${u}`)})})})});q2.displayName="Navbar";const Vm=Object.assign(q2,{Brand:A2,Collapse:N2,Offcanvas:z2,Text:$2,Toggle:O2}),oY="_header_container_1l3qq_3",lY="_header_1l3qq_3",uY="_offCanvas_1l3qq_13",cY="_offCanvasHeader_1l3qq_16",dY="_nav_item_custom_1l3qq_20",fY="_wraper_1l3qq_34",hY="_welcome_1l3qq_42",pY="_changedStyle_1l3qq_46",tr={header_container:oY,header:lY,offCanvas:uY,offCanvasHeader:cY,nav_item_custom:dY,wraper:fY,welcome:hY,changedStyle:pY},mY=({userAuth:n})=>{const e=Gi(),t=zs(),[r,i]=b.useState(!1),o=async()=>{await V0.purge(),e(bT(Zg)),await tW()},u=()=>{i(!r)},c=()=>{i(!1)};return I.jsx("div",{className:`container-fluid ${tr.header_container}`,children:I.jsx("header",{className:`col ${tr.header}`,children:I.jsxs(Vm,{expand:"",className:"navbar-dark",children:[I.jsx(Vm.Brand,{onClick:()=>{t("/")},children:I.jsxs("h1",{className:"navbar-brand ps-3",children:[I.jsx("span",{className:tr.changedStyle,children:"Do things"})," The Right Way"]})}),I.jsx(Vm.Toggle,{"aria-controls":"basic-navbar-nav",className:"me-3 offcanvasNavbar-expand",onClick:u}),I.jsxs(Vm.Offcanvas,{id:"offcanvasNavbar-expand",className:tr.offCanvas,"aria-labelledby":"offcanvasNavbar-expand",placement:"start",show:r,children:[I.jsx(og.Header,{className:tr.offCanvasHeader,closeButton:!0,closeVariant:"white",onClick:u,children:I.jsx(og.Title,{id:"offcanvasNavbarLabel-expand",onClick:()=>{t("/"),i(!1)},children:I.jsxs("h1",{className:"navbar-brand ps-3 pt-1",children:[I.jsx("span",{className:tr.changedStyle,children:"Do things"})," The Right Way"]})})}),I.jsx(og.Body,{children:I.jsxs(hQ,{className:"me-auto ps-3 d-flex flex-column row-gap-4 ",children:[I.jsx("li",{className:`nav-item pb-3 ${tr.nav_item_custom}`,children:I.jsx("h5",{className:tr.welcome,children:n?`Welcome ${n.displayName}`:""})}),I.jsxs(fl,{to:"/reminders",onClick:c,className:`nav-item column-gap-2  ${tr.nav_item_custom}`,children:[I.jsx(yW,{}),I.jsx("h5",{children:"Reminders"})]}),I.jsxs(fl,{to:"/lists",onClick:c,className:`nav-item column-gap-2  ${tr.nav_item_custom}`,children:[I.jsx(_W,{}),I.jsx("h5",{children:"Favorite Lists"})]}),I.jsxs("li",{className:`nav-item ${tr.item1} ${tr.nav_item_custom}`,children:[I.jsx(fl,{to:"/login",onClick:n&&o,className:`btn btn-outline-secondary ${tr.wraper}`,children:I.jsx("span",{className:"font-weight-light",children:n?"Log out":"Log in"})}),I.jsx(fl,{to:"/register",className:`btn btn-outline-secondary ${tr.wraper}`,children:I.jsx("span",{className:"font-weight-light",children:n?"Save":"Register"})})]})]})})]})]})})})},gY=n=>({userAuth:po(n).userAuth}),yY=Bs(gY)(mY),id=({children:n})=>I.jsxs(b.Fragment,{children:[I.jsx(yY,{}),n]}),vY=()=>I.jsx(id,{children:I.jsx(AW,{})}),_Y="_addNewListInput_container_ezh34_3",EY="_bold_ezh34_9",wY="_light_ezh34_10",TY="_titleContainer_ezh34_19",bY="_h1container_ezh34_23",SY="_addNewListInput_ezh34_3",IY="_plusButton_ezh34_48",AY="_inputGroup_ezh34_52",RY="_form_control_ezh34_57",CY="_addButton_ezh34_65",xY="_listSummary_ezh34_87",qr={addNewListInput_container:_Y,bold:EY,light:wY,titleContainer:TY,h1container:bY,addNewListInput:SY,plusButton:IY,inputGroup:AY,form_control:RY,addButton:CY,listSummary:xY},NY="_newListLi_19os2_3",OY="_fa_times_circle_19os2_12",DY="_btn_custom_19os2_15",XE={newListLi:NY,fa_times_circle:OY,btn_custom:DY},PY="_modalCancelButton_10qwa_10",kY="_modalOkButton_10qwa_19",MY="_modalBodyText_10qwa_28",ZE={modalCancelButton:PY,modalOkButton:kY,modalBodyText:MY};var Lm;function Ax(n){if((!Lm&&Lm!==0||n)&&$c){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Lm=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Lm}function VY(){return b.useState(null)}function LY(n){const e=b.useRef(n);return e.current=n,e}function H2(n){const e=LY(n);b.useEffect(()=>()=>e.current(),[])}const G2=b.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=De(e,"modal-body"),I.jsx(t,{ref:i,className:be(n,e),...r})));G2.displayName="ModalBody";const F0=b.forwardRef(({bsPrefix:n,className:e,contentClassName:t,centered:r,size:i,fullscreen:o,children:u,scrollable:c,...f},h)=>{n=De(n,"modal");const g=`${n}-dialog`,v=typeof o=="string"?`${n}-fullscreen-${o}`:`${n}-fullscreen`;return I.jsx("div",{...f,ref:h,className:be(g,e,i&&`${n}-${i}`,r&&`${g}-centered`,c&&`${g}-scrollable`,o&&v),children:I.jsx("div",{className:be(`${n}-content`,t),children:u})})});F0.displayName="ModalDialog";const K2=b.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=De(e,"modal-footer"),I.jsx(t,{ref:i,className:be(n,e),...r})));K2.displayName="ModalFooter";const W2=b.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:r=!1,...i},o)=>(n=De(n,"modal-header"),I.jsx(V2,{ref:o,...i,className:be(e,n),closeLabel:t,closeButton:r})));W2.displayName="ModalHeader";const jY=ay("h4"),Q2=b.forwardRef(({className:n,bsPrefix:e,as:t=jY,...r},i)=>(e=De(e,"modal-title"),I.jsx(t,{ref:i,className:be(n,e),...r})));Q2.displayName="ModalTitle";function UY(n){return I.jsx(np,{...n,timeout:null})}function BY(n){return I.jsx(np,{...n,timeout:null})}const Y2=b.forwardRef(({bsPrefix:n,className:e,style:t,dialogClassName:r,contentClassName:i,children:o,dialogAs:u=F0,"data-bs-theme":c,"aria-labelledby":f,"aria-describedby":h,"aria-label":g,show:v=!1,animation:E=!0,backdrop:S=!0,keyboard:A=!0,onEscapeKeyDown:k,onShow:x,onHide:U,container:$,autoFocus:B=!0,enforceFocus:Q=!0,restoreFocus:H=!0,restoreFocusOptions:X,onEntered:D,onExit:N,onExiting:C,onEnter:P,onEntering:j,onExited:q,backdropClassName:M,manager:Me,...xe},le)=>{const[ye,me]=b.useState({}),[Pe,F]=b.useState(!1),V=b.useRef(!1),K=b.useRef(!1),z=b.useRef(null),[Y,ue]=VY(),pe=dy(le,ue),we=eo(U),ve=RN();n=De(n,"modal");const Ve=b.useMemo(()=>({onHide:we}),[we]);function ke(){return Me||B2({isRTL:ve})}function He(Ae){if(!$c)return;const nt=ke().getScrollbarWidth()>0,tn=Ae.scrollHeight>Oh(Ae).documentElement.clientHeight;me({paddingRight:nt&&!tn?Ax():void 0,paddingLeft:!nt&&tn?Ax():void 0})}const je=eo(()=>{Y&&He(Y.dialog)});H2(()=>{yw(window,"resize",je),z.current==null||z.current()});const Ge=()=>{V.current=!0},Be=Ae=>{V.current&&Y&&Ae.target===Y.dialog&&(K.current=!0),V.current=!1},ze=()=>{F(!0),z.current=C2(Y.dialog,()=>{F(!1)})},gt=Ae=>{Ae.target===Ae.currentTarget&&ze()},Xe=Ae=>{if(S==="static"){gt(Ae);return}if(K.current||Ae.target!==Ae.currentTarget){K.current=!1;return}U==null||U()},Tn=Ae=>{A?k==null||k(Ae):(Ae.preventDefault(),S==="static"&&ze())},Pn=(Ae,nt)=>{Ae&&He(Ae),P==null||P(Ae,nt)},wt=Ae=>{z.current==null||z.current(),N==null||N(Ae)},bn=(Ae,nt)=>{j==null||j(Ae,nt),xT(window,"resize",je)},en=Ae=>{Ae&&(Ae.style.display=""),q==null||q(Ae),yw(window,"resize",je)},cr=b.useCallback(Ae=>I.jsx("div",{...Ae,className:be(`${n}-backdrop`,M,!E&&"show")}),[E,M,n]),xt={...t,...ye};xt.display="block";const ti=Ae=>I.jsx("div",{role:"dialog",...Ae,style:xt,className:be(e,n,Pe&&`${n}-static`,!E&&"show"),onClick:S?Xe:void 0,onMouseUp:Be,"data-bs-theme":c,"aria-label":g,"aria-labelledby":f,"aria-describedby":h,children:I.jsx(u,{...xe,onMouseDown:Ge,className:r,contentClassName:i,children:o})});return I.jsx(B0.Provider,{value:Ve,children:I.jsx(P2,{show:v,ref:pe,backdrop:S,container:$,keyboard:!0,autoFocus:B,enforceFocus:Q,restoreFocus:H,restoreFocusOptions:X,onEscapeKeyDown:Tn,onShow:x,onHide:U,onEnter:Pn,onEntering:bn,onEntered:D,onExit:wt,onExiting:C,onExited:en,manager:ke(),transition:E?UY:void 0,backdropTransition:E?BY:void 0,renderBackdrop:cr,renderDialog:ti})})});Y2.displayName="Modal";const bf=Object.assign(Y2,{Body:G2,Header:W2,Title:Q2,Footer:K2,Dialog:F0,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Xl=({message:n,closeModal:e,confirm:t,closeText:r,saveText:i})=>I.jsx(b.Fragment,{children:n&&I.jsxs(bf,{show:!!n.content,children:[I.jsx(bf.Header,{className:"text-white",style:n.headerBackground===Ys.error?{backgroundColor:"#de4701"}:{backgroundColor:"#ffc107"},children:I.jsx(bf.Title,{children:n.title})}),I.jsx(bf.Body,{className:ZE.modalBodyText,children:zl(n.content)}),I.jsxs(bf.Footer,{className:"justify-content-center",children:[I.jsx(Za,{className:`btn text-white ${ZE.modalCancelButton} `,variant:"outline-primary",onClick:()=>e(),children:r}),i&&t&&I.jsx(Za,{className:`btn text-white ${ZE.modalOkButton} `,variant:"outline-warning",onClick:()=>t(),children:i})]})]})}),FY=({userAuth:n,children:e,list:t,deleteList:r})=>{const i=Gi(),o=zs(),[u,c]=b.useState(!1),[f,h]=b.useState({content:""}),g=()=>{h({content:""})},v=()=>{h({content:"Are you Sure?"})},E=()=>{h({content:""}),c(!0)};return b.useEffect(()=>{u&&r(n&&n.id,t.id)},[u]),I.jsxs(b.Fragment,{children:[I.jsx(Xl,{message:f,closeModal:g,confirm:E,closeText:"Cancel",saveText:"Ok"}),I.jsxs("li",{className:XE.newListLi,children:[I.jsx("button",{onClick:()=>{i(TN(t)),o(`/lists/${t.id}`)},type:"button",className:`btn btn-outline-warning btn-lg btn-block capitalize button-color-orange ${XE.btn_custom}`,children:e}),I.jsx("i",{onClick:v,className:`far fa-times-circle  ${XE.fa_times_circle}`,role:"button","aria-hidden":"true"})]})]})},zY=({userAuth:n,lists:e,error:t})=>{const r=Gi(),[i,o]=b.useState(""),[u,c]=b.useState(!0),f=()=>{c(!u)},h=S=>{o(S.target.value)},g=S=>{if(S.preventDefault(),i.length>0){const A={id:zl(i),listName:i};n?iW(n.id,A.id,A,r):r(EN(A)),o("")}},v=(S,A)=>{S?sW(S,A):r(wN(A))},E=()=>{r(Qr({content:""}))};return I.jsxs("div",{className:"container",children:[I.jsx(Xl,{message:t,closeModal:E,closeText:"Close"}),I.jsx("div",{className:`row ${qr.addNewListInput_row}`,children:I.jsx("div",{className:"col",children:I.jsxs("div",{className:qr.addNewListInput_container,children:[I.jsxs("div",{className:qr.titleContainer,children:[I.jsx("div",{className:qr.h1container,children:I.jsxs("h1",{children:[I.jsx("span",{className:qr.bold,children:"Task"})," ",I.jsx("span",{className:qr.light}),"Lists"]})}),I.jsx("hr",{})]}),I.jsxs("form",{onSubmit:g,className:`input-group ${qr.addNewListInput}`,children:[u?I.jsx("button",{onClick:f,className:`btn btn-warning ${qr.plusButton}`,type:"submit",children:"+"}):null,I.jsxs("div",{className:`${qr.inputGroup} ${u?"hide":"reveal"}`,children:[I.jsx("input",{onChange:h,type:"text",value:i,className:`form-control ${qr.form_control}`,placeholder:"New List","aria-label":"Example text with button addon","aria-describedby":"button-addon1"}),I.jsx("button",{onClick:f,className:`btn btn-warning ${qr.addButton} `,type:"submit",id:"button-addon1",children:"+"})]})]}),I.jsx("ul",{className:qr.listSummary,children:e&&Object.values(e).map(S=>I.jsx(FY,{list:S,deleteList:v,userAuth:n,children:zl(S.listName)},`${S.id}`))})]})})})]})},$Y=n=>{const e=po(n);return{userAuth:e.userAuth,lists:e.lists,error:e.userError}},qY=Bs($Y)(zY),HY=()=>I.jsx(id,{children:I.jsx(qY,{})}),GY="_listContent_row_1qx0x_3",KY="_listContent_container_1qx0x_6",WY="_bold_1qx0x_18",QY="_titleContainer_1qx0x_28",YY="_addItemButtontAndTitle_1qx0x_32",XY="_buttonContainer_1qx0x_42",ZY="_addButton_1qx0x_45",JY="_progressContainer_1qx0x_54",eX="_addNewItemInput_container_1qx0x_65",tX="_addNewItemInput_1qx0x_65",nX="_inputGroup_1qx0x_88",rX="_form_control_1qx0x_94",iX="_inputAddButton_1qx0x_102",sX="_categorieList_container_1qx0x_105",aX="_containerCustom_1qx0x_125",Ln={listContent_row:GY,listContent_container:KY,bold:WY,titleContainer:QY,addItemButtontAndTitle:YY,buttonContainer:XY,addButton:ZY,progressContainer:JY,addNewItemInput_container:eX,addNewItemInput:tX,inputGroup:nX,form_control:rX,inputAddButton:iX,categorieList_container:sX,containerCustom:aX},Rx=1e3;function oX(n,e,t){const r=(n-e)/(t-e)*100;return Math.round(r*Rx)/Rx}function Cx({min:n,now:e,max:t,label:r,visuallyHidden:i,striped:o,animated:u,className:c,style:f,variant:h,bsPrefix:g,...v},E){return I.jsx("div",{ref:E,...v,role:"progressbar",className:be(c,`${g}-bar`,{[`bg-${h}`]:h,[`${g}-bar-animated`]:u,[`${g}-bar-striped`]:u||o}),style:{width:`${oX(e,n,t)}%`,...f},"aria-valuenow":e,"aria-valuemin":n,"aria-valuemax":t,children:i?I.jsx("span",{className:"visually-hidden",children:r}):r})}const X2=b.forwardRef(({isChild:n=!1,...e},t)=>{const r={min:0,max:100,animated:!1,visuallyHidden:!1,striped:!1,...e};if(r.bsPrefix=De(r.bsPrefix,"progress"),n)return Cx(r,t);const{min:i,now:o,max:u,label:c,visuallyHidden:f,striped:h,animated:g,bsPrefix:v,variant:E,className:S,children:A,...k}=r;return I.jsx("div",{ref:t,...k,className:be(S,v),children:A?mF(A,x=>b.cloneElement(x,{isChild:!0})):Cx({min:i,now:o,max:u,label:c,visuallyHidden:f,striped:h,animated:g,bsPrefix:v,variant:E},t)})});X2.displayName="ProgressBar";const lX="_todo_list_p4vko_1",uX="_categoryTitleContainer_p4vko_15",cX="_categoryTitle_p4vko_15",JE={todo_list:lX,categoryTitleContainer:uX,categoryTitle:cX},dX="_list_component_15awu_1",fX="_check_list_15awu_13",hX="_edit_list_15awu_18",pX="_edit_15awu_18",mX="_note_15awu_32",gX="_garbage_15awu_35",yX="_fa_check_circle_custom_15awu_46",Ua={list_component:dX,check_list:fX,edit_list:hX,edit:pX,note:mX,garbage:gX,fa_check_circle_custom:yX};function vX(){const n=b.useRef(!0),e=b.useRef(()=>n.current);return b.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}const cT=2**31-1;function Z2(n,e,t){const r=t-Date.now();n.current=r<=cT?setTimeout(e,r):setTimeout(()=>Z2(n,e,t),cT)}function _X(){const n=vX(),e=b.useRef();return H2(()=>clearTimeout(e.current)),b.useMemo(()=>{const t=()=>clearTimeout(e.current);function r(i,o=0){n()&&(t(),o<=cT?e.current=setTimeout(i,o):Z2(e,i,Date.now()+o))}return{set:r,clear:t,handleRef:e}},[])}const EX={[Gr]:"showing",[Uc]:"showing show"},J2=b.forwardRef((n,e)=>I.jsx(np,{...n,ref:e,transitionClasses:EX}));J2.displayName="ToastFade";const eV=b.createContext({onClose(){}}),tV=b.forwardRef(({bsPrefix:n,closeLabel:e="Close",closeVariant:t,closeButton:r=!0,className:i,children:o,...u},c)=>{n=De(n,"toast-header");const f=b.useContext(eV),h=eo(g=>{f==null||f.onClose==null||f.onClose(g)});return I.jsxs("div",{ref:c,...u,className:be(n,i),children:[o,r&&I.jsx(iv,{"aria-label":e,variant:t,onClick:h,"data-dismiss":"toast"})]})});tV.displayName="ToastHeader";const nV=b.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=De(e,"toast-body"),I.jsx(t,{ref:i,className:be(n,e),...r})));nV.displayName="ToastBody";const rV=b.forwardRef(({bsPrefix:n,className:e,transition:t=J2,show:r=!0,animation:i=!0,delay:o=5e3,autohide:u=!1,onClose:c,onEntered:f,onExit:h,onExiting:g,onEnter:v,onEntering:E,onExited:S,bg:A,...k},x)=>{n=De(n,"toast");const U=b.useRef(o),$=b.useRef(c);b.useEffect(()=>{U.current=o,$.current=c},[o,c]);const B=_X(),Q=!!(u&&r),H=b.useCallback(()=>{Q&&($.current==null||$.current())},[Q]);b.useEffect(()=>{B.set(H,U.current)},[B,H]);const X=b.useMemo(()=>({onClose:c}),[c]),D=!!(t&&i),N=I.jsx("div",{...k,ref:x,className:be(n,e,A&&`bg-${A}`,!D&&(r?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"});return I.jsx(eV.Provider,{value:X,children:D&&t?I.jsx(t,{in:r,onEnter:v,onEntering:E,onEntered:f,onExit:h,onExiting:g,onExited:S,unmountOnExit:!0,children:N}):N})});rV.displayName="Toast";const lc=Object.assign(rV,{Body:nV,Header:tV}),wX={"top-start":"top-0 start-0","top-center":"top-0 start-50 translate-middle-x","top-end":"top-0 end-0","middle-start":"top-50 start-0 translate-middle-y","middle-center":"top-50 start-50 translate-middle","middle-end":"top-50 end-0 translate-middle-y","bottom-start":"bottom-0 start-0","bottom-center":"bottom-0 start-50 translate-middle-x","bottom-end":"bottom-0 end-0"},iV=b.forwardRef(({bsPrefix:n,position:e,containerPosition:t,className:r,as:i="div",...o},u)=>(n=De(n,"toast-container"),I.jsx(i,{ref:u,...o,className:be(n,e&&wX[e],t&&`position-${t}`,r)})));iV.displayName="ToastContainer";const TX=({message:n,show:e,position:t,toggleShow:r,title:i})=>I.jsx(iV,{className:"p-3",position:t,style:{zIndex:1},children:I.jsxs(lc,{show:e,onClose:r,bg:"light",children:[I.jsx(lc.Header,{children:I.jsx("strong",{className:"me-auto",children:i})}),I.jsx(lc.Body,{children:n})]})});function bX(n){return Zn({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Memo_Pad"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M17.44,2.065H6.56a2.507,2.507,0,0,0-2.5,2.5v14.87a2.507,2.507,0,0,0,2.5,2.5H17.44a2.5,2.5,0,0,0,2.5-2.5V4.565A2.5,2.5,0,0,0,17.44,2.065Zm1.5,17.37a1.5,1.5,0,0,1-1.5,1.5H6.56a1.5,1.5,0,0,1-1.5-1.5V6.505H18.94Z"},child:[]},{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M7.549,9.506h0a.5.5,0,0,1,0-1h8.909a.5.5,0,0,1,0,1Z"},child:[]},{tag:"path",attr:{d:"M7.549,12.506h0a.5.5,0,0,1,0-1h6.5a.5.5,0,0,1,0,1Z"},child:[]},{tag:"path",attr:{d:"M7.566,18.374h0a.5.5,0,1,1,0-1h3.251a.5.5,0,0,1,0,1Z"},child:[]}]}]}]}]})(n)}function SX(n){return Zn({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Trash"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M19.45,4.06H15.27v-.5a1.5,1.5,0,0,0-1.5-1.5H10.23a1.5,1.5,0,0,0-1.5,1.5v.5H4.55a.5.5,0,0,0,0,1h.72l.42,14.45a2.493,2.493,0,0,0,2.5,2.43h7.62a2.493,2.493,0,0,0,2.5-2.43l.42-14.45h.72A.5.5,0,0,0,19.45,4.06Zm-9.72-.5a.5.5,0,0,1,.5-.5h3.54a.5.5,0,0,1,.5.5v.5H9.73Zm7.58,15.92a1.5,1.5,0,0,1-1.5,1.46H8.19a1.5,1.5,0,0,1-1.5-1.46L6.26,5.06H17.74Z"},child:[]},{tag:"path",attr:{d:"M8.375,8h0a.5.5,0,0,1,1,0l.25,10a.5.5,0,0,1-1,0Z"},child:[]},{tag:"path",attr:{d:"M15.625,8.007a.5.5,0,0,0-1,0h0l-.25,10a.5.5,0,0,0,1,0Z"},child:[]}]}]}]})(n)}function IX(n){return Zn({attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"256",cy:"256",r:"32",fill:"none",strokeMiterlimit:"10",strokeWidth:"32"},child:[]},{tag:"circle",attr:{cx:"256",cy:"416",r:"32",fill:"none",strokeMiterlimit:"10",strokeWidth:"32"},child:[]},{tag:"circle",attr:{cx:"256",cy:"96",r:"32",fill:"none",strokeMiterlimit:"10",strokeWidth:"32"},child:[]}]})(n)}function AX(n){return Zn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M128.51 204.59q-.37 6.15-.37 12.76C128.14 304 110 320 84.33 351.43 73.69 364.45 83 384 101.62 384H320m94.5-48.7c-18.48-23.45-30.62-47.05-30.62-118 0-79.3-40.52-107.57-73.88-121.3-4.43-1.82-8.6-6-9.95-10.55C294.21 65.54 277.82 48 256 48s-38.2 17.55-44 37.47c-1.35 4.6-5.52 8.71-10 10.53a149.57 149.57 0 0 0-18 8.79M320 384v16a64 64 0 0 1-128 0v-16"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 448 64 64"},child:[]}]})(n)}function RX(n){return Zn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M427.68 351.43C402 320 383.87 304 383.87 217.35 383.87 138 343.35 109.73 310 96c-4.43-1.82-8.6-6-9.95-10.55C294.2 65.54 277.8 48 256 48s-38.21 17.55-44 37.47c-1.35 4.6-5.52 8.71-9.95 10.53-33.39 13.75-73.87 41.92-73.87 121.35C128.13 304 110 320 84.32 351.43 73.68 364.45 83 384 101.61 384h308.88c18.51 0 27.77-19.61 17.19-32.57zM320 384v16a64 64 0 0 1-128 0v-16"},child:[]}]})(n)}function CX(n){return Zn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"},child:[]}]})(n)}function xX(n){return Zn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"},child:[]}]})(n)}function xx(n){return Zn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M14.94 4.66h-4.72l2.36-2.36 2.36 2.36zm-4.69 14.71h4.66l-2.33 2.33-2.33-2.33zM6.1 6.27 1.6 17.73h1.84l.92-2.45h5.11l.92 2.45h1.84L7.74 6.27H6.1zm-1.13 7.37 1.94-5.18 1.94 5.18H4.97zm10.76 2.5h6.12v1.59h-8.53v-1.29l5.92-8.56h-5.88v-1.6h8.3v1.26l-5.93 8.6z"},child:[]}]})(n)}var sV=(n=>(n.TopStart="top-start",n.TopCenter="top-center",n.TopEnd="top-end",n.MiddleStart="middle-start",n.MiddleCenter="middle-center",n.MiddleEnd="middle-end",n.BottomStart="bottom-start",n.BottomCenter="bottom-center",n.BottomEnd="bottom-end",n))(sV||{});const NX=({userAuth:n,item:e,selectedList:t})=>{const r=Gi(),i=zs(),[o,u]=b.useState(!1),[c,f]=b.useState(!1),[h,g]=b.useState({content:""}),{id:v,check:E,quantity:S,unit:A,note:k}=e,x=X=>{r(IN(X)),i(`/editItem/${v}`)},U=(X,D,N)=>{n&&N?u2(n.id,X.id,{...N,check:!D}):r(ST(X.id,{...N,check:!D}))},$=()=>{u(!o)},B=()=>{g({content:`Delete ${v}?`})},Q=()=>{g({content:""})},H=()=>{g({content:""}),f(!0)};return b.useEffect(()=>{n&&c?oW(n.id,t.id,v):c&&r(SN(t.id,v))},[c]),I.jsxs("li",{className:"li-item",children:[I.jsx(Xl,{message:h,closeModal:Q,confirm:H,closeText:"Cancel",saveText:"Ok"}),I.jsx(TX,{show:o,message:k,position:sV.TopStart,toggleShow:$,title:v}),I.jsxs("div",{className:`${Ua.list_component} text-secondary`,children:[I.jsxs("div",{className:Ua.check_list,children:[I.jsx("i",{className:`far pe-1 ${E?"fa-check-circle text-success":"fa-circle"} ${Ua.fa_check_circle_custom}`,role:"button",onClick:()=>U(t,E,e),"aria-hidden":"true"}),I.jsx("p",{className:"p-text",style:E?{textDecoration:"line-through"}:{textDecoration:"initial"},children:zl(v)})]}),I.jsxs("div",{className:Ua.edit_list,children:[I.jsx("p",{className:`m-0 pt-1 ${Ua.quantity}`,children:`${S} ${A}`}),I.jsx(IX,{}),k&&I.jsx(bX,{onClick:$,className:Ua.note,size:"20px"}),I.jsx(SX,{className:`${Ua.garbage} fas fa-regular fa-trash pe-1`,role:"button",size:"24px",onClick:B,"aria-hidden":"true"}),I.jsx(xX,{className:`${Ua.edit}`,role:"button",size:"28px",onClick:()=>x(e),"aria-hidden":"true"})]})]})]})},OX=n=>{const e=po(n);return{userAuth:e.userAuth,selectedList:e.selectedList}},ew=Bs(OX)(NX);function DX(n){return Zn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 13v-6l-5 4l-5 -4v6l5 4z"},child:[]}]})(n)}function PX(n){return Zn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13 7h-6l4 5l-4 5h6l4 -5z"},child:[]}]})(n)}const kX=({listItemsOnline:n,listItemsForOfflineMode:e,selectedList:t,sortType:r,categoryName:i})=>{const[o,u]=b.useState(!1),c=n&&Object.values(n).length?Object.values(n).filter(g=>g.category===i):e&&Object.values(e).length?e[t.id]&&Object.values(e[t.id]).filter(g=>g.category===i):[],f=()=>{u(!o)},h=()=>{switch(r){case"sortAscending":return c.sort().map(g=>I.jsx(ew,{item:g},g.id));case"sortDescending":return c.sort((g,v)=>g.itemName.toLowerCase()>v.itemName.toLowerCase()?-1:g.itemName.toLowerCase()<v.itemName.toLowerCase()?1:0).map(g=>I.jsx(ew,{item:g},g.id));default:return c.map(g=>I.jsx(ew,{item:g},g.id))}};return I.jsx(b.Fragment,{children:c&&c.length>0&&I.jsxs("ul",{className:JE.todo_list,children:[I.jsxs("div",{onClick:f,className:`${JE.categoryTitleContainer} d-flex align-items-center justify-content-between px-3 mb-3`,children:[I.jsx("p",{className:`${JE.categoryTitle} p-text m-0 py-1`,children:i}),o?I.jsx(DX,{size:"20px"}):I.jsx(PX,{size:"20px"})]}),I.jsx("div",{className:`${o?"reveal":"hide"} px-3`,children:I.jsx("div",{style:o?{display:"initial"}:{display:"none"},children:h()})})]})})},MX=n=>{const e=po(n);return{lists:e.lists,selectedList:e.selectedList,sortType:e.sortType}},Nx=Bs(MX)(kX),VX="_toastContainer_196is_3",LX="_toast_196is_3",Ox={toastContainer:VX,toast:LX};function Dx(n){return Zn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M839.6 433.8L749 150.5a9.24 9.24 0 0 0-8.9-6.5h-77.4c-4.1 0-7.6 2.6-8.9 6.5l-91.3 283.3c-.3.9-.5 1.9-.5 2.9 0 5.1 4.2 9.3 9.3 9.3h56.4c4.2 0 7.8-2.8 9-6.8l17.5-61.6h89l17.3 61.5c1.1 4 4.8 6.8 9 6.8h61.2c1 0 1.9-.1 2.8-.4 2.4-.8 4.3-2.4 5.5-4.6 1.1-2.2 1.3-4.7.6-7.1zM663.3 325.5l32.8-116.9h6.3l32.1 116.9h-71.2zm143.5 492.9H677.2v-.4l132.6-188.9c1.1-1.6 1.7-3.4 1.7-5.4v-36.4c0-5.1-4.2-9.3-9.3-9.3h-204c-5.1 0-9.3 4.2-9.3 9.3v43c0 5.1 4.2 9.3 9.3 9.3h122.6v.4L587.7 828.9a9.35 9.35 0 0 0-1.7 5.4v36.4c0 5.1 4.2 9.3 9.3 9.3h211.4c5.1 0 9.3-4.2 9.3-9.3v-43a9.2 9.2 0 0 0-9.2-9.3zM416 702h-76V172c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v530h-76c-6.7 0-10.5 7.8-6.3 13l112 141.9a8 8 0 0 0 12.6 0l112-141.9c4.1-5.2.4-13-6.3-13z"},child:[]}]})(n)}function Px(n){return Zn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M839.6 433.8L749 150.5a9.24 9.24 0 0 0-8.9-6.5h-77.4c-4.1 0-7.6 2.6-8.9 6.5l-91.3 283.3c-.3.9-.5 1.9-.5 2.9 0 5.1 4.2 9.3 9.3 9.3h56.4c4.2 0 7.8-2.8 9-6.8l17.5-61.6h89l17.3 61.5c1.1 4 4.8 6.8 9 6.8h61.2c1 0 1.9-.1 2.8-.4 2.4-.8 4.3-2.4 5.5-4.6 1.1-2.2 1.3-4.7.6-7.1zM663.3 325.5l32.8-116.9h6.3l32.1 116.9h-71.2zm143.5 492.9H677.2v-.4l132.6-188.9c1.1-1.6 1.7-3.4 1.7-5.4v-36.4c0-5.1-4.2-9.3-9.3-9.3h-204c-5.1 0-9.3 4.2-9.3 9.3v43c0 5.1 4.2 9.3 9.3 9.3h122.6v.4L587.7 828.9a9.35 9.35 0 0 0-1.7 5.4v36.4c0 5.1 4.2 9.3 9.3 9.3h211.4c5.1 0 9.3-4.2 9.3-9.3v-43a9.2 9.2 0 0 0-9.2-9.3zM310.3 167.1a8 8 0 0 0-12.6 0L185.7 309c-4.2 5.3-.4 13 6.3 13h76v530c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V322h76c6.7 0 10.5-7.8 6.3-13l-112-141.9z"},child:[]}]})(n)}const jX=()=>{const n=Gi(),[e,t]=b.useState(!1),[r,i]=b.useState(""),o=()=>{t(!e)},u=f=>{n(AN(f.currentTarget.id)),i(f.currentTarget.id),o()},c=f=>{switch(f){case"sortAscending":return I.jsx(Dx,{size:"20px"});case"sortDescending":return I.jsx(Px,{size:"20px"});case"sortByCategory":return I.jsx(xx,{size:"19px"});default:return I.jsx(CX,{size:"24px"})}};return I.jsxs("div",{className:Ox.toastContainer,children:[I.jsx("div",{onClick:o,role:"button",children:c(r)}),I.jsxs(lc,{show:e,onClose:o,className:`${Ox.toast} bg-white`,children:[I.jsxs(lc.Header,{children:[I.jsx("strong",{className:"me-auto",children:"Sort List"}),I.jsx("img",{src:"holder.js/20x20?text=%20",className:"rounded me-2",alt:""})]}),I.jsxs(lc.Body,{className:"d-flex flex-column",children:[I.jsxs("div",{id:"sortAscending",className:"d-flex align-items-center pb-1",onClick:u,role:"button",children:[I.jsx(Dx,{size:"20px"}),I.jsx("span",{className:"ps-2",children:"Sort Ascending"})]}),I.jsxs("div",{id:"sortDescending",className:"d-flex align-items-center pb-1",onClick:u,role:"button",children:[I.jsx(Px,{size:"20px"}),I.jsx("span",{className:"ps-2",children:"Sort Descending"})]}),I.jsxs("div",{id:"sortByCategory",className:"d-flex align-items-center",onClick:u,role:"button",children:[I.jsx(xx,{size:"19px"}),I.jsx("span",{className:"ps-2",children:"Category"})]})]})]})]})},UX=({userAuth:n,listItemsOnline:e,listItemsForOfflineMode:t,selectedList:r,sortType:i,error:o,getListItems:u})=>{const c=Gi(),[f,h]=b.useState(""),[g,v]=b.useState(!1),E=()=>e&&Object.values(e).length?Object.values(e).filter($=>$.check===!0).length:t&&Object.values(t).length&&t[r.id]?Object.values(t[r.id]).filter($=>$.check===!0).length:0,S=()=>e&&Object.values(e).length?e&&Math.floor(E()/Object.values(e).length*100):t&&Object.values(t).length&&t[r.id]?Math.floor(E()/Object.values(t[r.id]).length*100):0;b.useEffect(()=>{n&&u(n.id,r.id)},[r.id,n]);const A=()=>{v(!g)},k=$=>{h($.target.value)},x=$=>{if($.preventDefault(),f.length>0){const B={id:zl(f),itemName:f,check:!1,quantity:"1",unit:"",category:"Generale",note:""};n?aW(n.id,r.id,B,c):c(bN(r.id,B)),h("")}},U=()=>{c(Qr({content:""}))};return I.jsxs("div",{className:`container ${Ln.containerCustom}`,children:[I.jsx(Xl,{message:o,closeModal:U,closeText:"Close"}),I.jsx("div",{className:`row ${Ln.listContent_row}`,children:I.jsx("div",{className:"col",children:I.jsxs("div",{className:Ln.listContent_container,children:[I.jsx(f2,{route:"/lists"}),I.jsxs("div",{className:Ln.titleContainer,children:[I.jsxs("div",{className:Ln.addItemButtontAndTitle,children:[I.jsxs("h1",{className:"m-0",children:[I.jsx("span",{className:Ln.bold,children:zl(r.listName)})," "]}),I.jsx("div",{className:`${Ln.buttonContainer} ${g?"hide":"reveal"}`,children:I.jsx("button",{onClick:A,className:`btn btn-warning ${Ln.addButton} `,type:"submit",id:"button-addon1",children:I.jsx("span",{className:Ln.buttonSign,children:"+"})})}),(e&&Object.keys(e).length>1||t&&Object.keys(t).length>1)&&I.jsx(jX,{})]}),(e&&Object.keys(e).length>0||t&&Object.keys(t).length>0)&&I.jsxs("div",{className:Ln.progressContainer,children:[I.jsx(X2,{animated:!0,variant:"warning",now:S(),label:`${isNaN(S())?0:S()}%`}),I.jsx("p",{children:`${E()} of ${Object.keys(n?e:t[r.id]?t[r.id]:{}).length} tasks`})]})]}),I.jsxs("div",{className:Ln.addNewItemInput_container,children:[I.jsx("form",{onSubmit:x,className:`input-group ${Ln.addNewItemInput} ${g?"reveal":"hide"}`,children:I.jsxs("div",{className:Ln.inputGroup,children:[I.jsx("input",{onChange:k,type:"text",value:f,className:`form-control ${Ln.form_control}`,placeholder:"New Item Name","aria-label":"new item","aria-describedby":"new item"}),I.jsx("button",{onClick:A,className:`btn btn-warning ${Ln.inputAddButton} `,type:"submit",id:"inputAddButton",children:"+"})]})}),I.jsx("div",{className:Ln.categorieList_container,children:i==="sortByCategory"?oT.sort(EW).map($=>I.jsx(Nx,{categoryName:$.name,listItemsOnline:e,listItemsForOfflineMode:t},$.id)):oT.map($=>I.jsx(Nx,{categoryName:$.name,listItemsOnline:e,listItemsForOfflineMode:t},$.id))})]})]})})})]})},BX=n=>{const e=po(n);return{userAuth:e.userAuth,lists:e.lists,listItemsOnline:e.listItemsOnline,listItemsForOfflineMode:e.listItemsForOfflineMode,selectedList:e.selectedList,sortType:e.sortType,error:e.userError}},FX=n=>({getListItems:(e,t)=>n(rW(e,t))}),zX=Bs(BX,FX)(UX),$X=()=>I.jsx(id,{children:I.jsx(zX,{})}),qX="_login_row_upf8j_3",HX="_login_col_upf8j_7",GX="_login_form_upf8j_12",KX="_btn_primary_custom_upf8j_25",jm={login_row:qX,login_col:HX,login_form:GX,btn_primary_custom:KX},WX="_label_1mqyn_3",QX="_form_control_custom_1mqyn_9",kx={label:WX,form_control_custom:QX},YX=({setLoginEmail:n,validationMessage:e,label:t})=>{const r=i=>{n(i.target.value)};return I.jsxs(Ze.Group,{controlId:"formBasicEmail",className:"emailInput pb-2",children:[I.jsx(Ze.Label,{className:kx.label,children:t}),I.jsx(Ze.Control,{className:kx.form_control_custom,type:"email",placeholder:"Enter email",required:!0,onChange:r}),I.jsx(Ze.Control.Feedback,{type:"invalid",children:e.invalid}),I.jsx(Ze.Control.Feedback,{type:"valid",children:e.valid})]})},XX="_label_1xki5_3",ZX="_form_control_custom_1xki5_9",Mx={label:XX,form_control_custom:ZX},JX=({setLoginPass:n,validationMessage:e,label:t})=>{const r=i=>{n(i.target.value)};return I.jsxs(Ze.Group,{controlId:"formBasicPassword",className:" passWordInput pb-2",children:[I.jsx(Ze.Label,{className:Mx.label,children:t}),I.jsx(Ze.Control,{className:Mx.form_control_custom,type:"password",placeholder:"Password",required:!0,onChange:r}),I.jsx(Ze.Control.Feedback,{type:"invalid",children:e.invalid}),I.jsx(Ze.Control.Feedback,{type:"valid",children:e.valid})]})},eZ=({error:n})=>{const e=Gi(),t=zs(),[r,i]=b.useState(!1),[o,u]=b.useState(""),[c,f]=b.useState(""),h=S=>{S.preventDefault();const A=S.currentTarget;e(bT(Zg)),A.checkValidity()===!1&&(S.preventDefault(),S.stopPropagation()),i(!0)},g=async()=>{await V0.purge(),await ZK(e)&&t("/lists")},v=async()=>{const S=await JK(o,c,e);if(S)if(S.emailVerified){const A=await D0(S);A==null||A.onSnapshot(k=>{e(gg({id:k.id,...k.data()}))}),t("/")}else e(Qr({title:"Email Validation",content:"You need to verify your email. Please check your Inbox and follow the link.",headerBackground:Ys.warning}))},E=()=>{e(Qr({content:""}))};return I.jsxs(b.Fragment,{children:[I.jsx(Xl,{message:n,closeModal:E,closeText:"Close"}),I.jsx("div",{className:"container",children:I.jsx("div",{className:`row ${jm.login_row}`,children:I.jsxs("div",{className:`col-sm-6 ${jm.login_col}`,children:[I.jsxs(Ze,{className:`${jm.login_form} justify-content-center`,noValidate:!0,validated:r,onSubmit:h,children:[I.jsx(YX,{setLoginEmail:u,validationMessage:TW,label:"Email address"}),I.jsx(JX,{setLoginPass:f,validationMessage:bW,label:"Password"}),I.jsx(Za,{className:`mt-3 ${jm.btn_primary_custom}`,onClick:v,variant:"primary",type:"submit",size:"sm",children:"Log In"})]}),I.jsx(Za,{variant:"outline-warning",onClick:g,children:I.jsx("span",{children:"Sign in with Google"})})]})})})]})},tZ=n=>({error:po(n).userError}),nZ=Bs(tZ)(eZ),rZ=()=>I.jsx(id,{children:I.jsx(nZ,{})}),iZ="_register_form_ubr36_1",sZ="_label_ubr36_7",aZ="_form_control_custom_ubr36_14",oZ="_btn_primary_custom_ubr36_18",Ci={register_form:iZ,label:sZ,form_control_custom:aZ,btn_primary_custom:oZ},lZ=({error:n})=>{const e=Gi(),t=zs(),[r,i]=b.useState(!1),[o,u]=b.useState(""),[c,f]=b.useState(""),[h,g]=b.useState(""),[v,E]=b.useState(""),S=H=>{H.preventDefault(),H.currentTarget.checkValidity()===!1&&(H.preventDefault(),H.stopPropagation()),i(!0)},A=H=>{u(H.target.value)},k=H=>{f(H.target.value)},x=H=>{g(H.target.value)},U=H=>{E(H.target.value)},$=()=>{if(h!==void 0&&v!==void 0&&h!==""&&v!=="")return h===v?"valid":"invalid"},B=async()=>{if(v===h)try{const H=await eW(c,h,e);H!=null&&H.uid&&(await D0(H,{displayName:o}),t("/login"),e(Qr({title:"Email Validation",content:`A validation email was sent to ${H.providerData[0].email}`,headerBackground:Ys.warning})))}catch(H){console.log(`Error registering new user ${H}`)}},Q=()=>{e(Qr({content:""}))};return I.jsxs(b.Fragment,{children:[I.jsx(Xl,{message:n,closeModal:Q,closeText:"Close"}),I.jsx("div",{className:"container",children:I.jsx("div",{className:"row",children:I.jsx("div",{className:"col-sm-6 offset-sm-3",children:I.jsxs(Ze,{className:`${Ci.register_form} justify-content-center`,noValidate:!0,validated:r,onSubmit:S,children:[I.jsxs(Ze.Group,{controlId:"formBasicName",className:"pb-2",children:[I.jsx(Ze.Label,{className:Ci.label,children:"Name"}),I.jsx(Ze.Control,{className:Ci.form_control_custom,type:"text",placeholder:"Enter Name",required:!0,onChange:A}),I.jsx(Ze.Control.Feedback,{type:"invalid",children:"Please type your name"}),I.jsx(Ze.Control.Feedback,{type:"valid",children:"Looks Good"})]}),I.jsxs(Ze.Group,{controlId:"formBasicEmail",className:"pb-2",children:[I.jsx(Ze.Label,{className:Ci.label,children:"Email address"}),I.jsx(Ze.Control,{className:Ci.form_control_custom,type:"email",placeholder:"Enter email",required:!0,onChange:k}),I.jsx(Ze.Control.Feedback,{type:"invalid",children:"Please type an email address"}),I.jsx(Ze.Control.Feedback,{type:"valid",children:"Looks Good"})]}),I.jsxs(Ze.Group,{controlId:"formBasicPassword",className:"pb-2",children:[I.jsx(Ze.Label,{className:Ci.label,children:"Password"}),I.jsx(Ze.Control,{className:Ci.form_control_custom,type:"password",placeholder:"Password",required:!0,onChange:x}),I.jsx(Ze.Control.Feedback,{type:"invalid",children:"Please type your password"}),I.jsx(Ze.Control.Feedback,{type:"valid",children:"Looks Good"})]}),I.jsxs(Ze.Group,{controlId:"formCheckBasicPassword",className:"pb-2",children:[I.jsx(Ze.Label,{className:Ci.label,children:"Confirm Password"}),I.jsx(Ze.Control,{className:Ci.form_control_custom,type:"password",placeholder:"Password",required:!0,onChange:U}),$()==="invalid"?I.jsx(Ze.Control.Feedback,{className:"text-danger",children:"Please check your password"}):I.jsx(Ze.Control.Feedback,{children:"Looks Good"})]}),I.jsx(Za,{className:`${Ci.btn_primary_custom} mt-3`,variant:"primary",size:"sm",type:"submit",onClick:B,children:"Register"})]})})})})]})},uZ=n=>({error:po(n).userError}),cZ=Bs(uZ)(lZ),dZ=()=>I.jsx(id,{children:I.jsx(cZ,{})}),fZ=()=>{const n=zs(),[e,t]=b.useState(""),[r,i]=b.useState(""),o=()=>{n("/lists"),t("transitionForColFullWidth"),i("hidden")};return I.jsx(b.Fragment,{children:I.jsx("div",{className:`col-full-width ${e}`,children:I.jsxs("div",{className:"form",children:[I.jsxs("h1",{children:[I.jsx("span",{className:"changedStyle",children:"Do things"})," The Right Way"]}),I.jsx("div",{className:"form-group-1",children:I.jsxs("div",{className:`newList btn-outline-warning ${r}`,role:"button",onClick:o,children:[I.jsx("i",{className:"fas fa-th-list"}),I.jsx("h5",{className:"font-weight-light ",children:"Start Planning"})]})})]})})})},hZ="_addNewReminder_container_dsfwj_3",pZ="_bold_dsfwj_9",mZ="_light_dsfwj_10",gZ="_titleContainer_dsfwj_19",yZ="_h1container_dsfwj_23",vZ="_addNewReminderInput_dsfwj_42",_Z="_plusButton_dsfwj_48",EZ="_inputGroup_dsfwj_52",wZ="_form_control_dsfwj_57",TZ="_addButton_dsfwj_65",bZ="_listSummary_dsfwj_87",SZ="_reminderSummary_dsfwj_116",Hr={addNewReminder_container:hZ,bold:pZ,light:mZ,titleContainer:gZ,h1container:yZ,addNewReminderInput:vZ,plusButton:_Z,inputGroup:EZ,form_control:wZ,addButton:TZ,listSummary:bZ,reminderSummary:SZ},IZ="_newReminder_18c4f_3",AZ="_fa_times_circle_18c4f_12",RZ="_btn_custom_18c4f_15",CZ="_elipsis_18c4f_21",Um={newReminder:IZ,fa_times_circle:AZ,btn_custom:RZ,elipsis:CZ},xZ=({children:n,notificationEnabled:e})=>{const[t,r]=b.useState({content:""}),i=()=>{r({content:""})},o=()=>{r({content:""})},u=()=>{r({content:"Are you Sure?"})};return I.jsxs(b.Fragment,{children:[I.jsx(Xl,{message:t,closeModal:i,confirm:o,closeText:"Cancel",saveText:"Ok"}),I.jsxs("li",{className:Um.newReminder,children:[I.jsxs("button",{onClick:()=>{},type:"button",className:`btn btn-outline-warning btn-lg btn-block capitalize button-color-orange ${Um.btn_custom}`,children:[n,I.jsx("div",{className:Um.elipsis,children:e?I.jsx(RX,{}):I.jsx(AX,{})})]}),I.jsx("i",{onClick:u,className:`far fa-times-circle  ${Um.fa_times_circle}`,role:"button","aria-hidden":"true"})]})]})},NZ=()=>{const[n,e]=b.useState(!0),[t,r]=b.useState(""),i=()=>{},o=()=>{e(!n)},u=c=>{r(c.target.value)};return I.jsx("div",{className:"container",children:I.jsx("div",{className:"row",children:I.jsx("div",{className:"col",children:I.jsxs("div",{className:Hr.addNewReminder_container,children:[I.jsxs("div",{className:Hr.titleContainer,children:[I.jsx("div",{className:Hr.h1container,children:I.jsxs("h1",{children:[I.jsx("span",{className:Hr.bold,children:"Reminders"})," ",I.jsx("span",{className:Hr.light}),"Lists"]})}),I.jsx("hr",{})]}),I.jsxs("form",{onSubmit:i,className:`input-group ${Hr.addNewReminderInput}`,children:[n?I.jsx("button",{onClick:o,className:`btn btn-warning ${Hr.plusButton}`,type:"submit",children:"+"}):null,I.jsxs("div",{className:`${Hr.inputGroup} ${n?"hide":"reveal"}`,children:[I.jsx("input",{onChange:u,type:"text",value:t,className:`form-control ${Hr.form_control}`,placeholder:"New Reminder","aria-label":"Example text with button addon","aria-describedby":"button-addon1"}),I.jsx("button",{onClick:o,className:`btn btn-warning ${Hr.addButton} `,type:"submit",id:"button-addon1",children:"+"})]})]}),I.jsx("ul",{className:Hr.listSummary,children:I.jsx(xZ,{children:I.jsxs("div",{className:Hr.reminderSummary,children:[I.jsx("span",{children:"Asigurare Masina"}),I.jsx("span",{className:"date-text",children:"21 Dec. 2024"})]})})})]})})})})},Vx=()=>I.jsx(id,{children:I.jsx(NZ,{})}),OZ=({getUserLists:n})=>{const e=Gi(),t=zs();return b.useEffect(()=>{const r=Tl.onAuthStateChanged(async i=>{if(i&&i.emailVerified){const o=await D0(i);o==null||o.onSnapshot(u=>{e(gg({id:u.id,...u.data()})),n(i.uid)})}else e(gg(null));return()=>{r()}})},[t,n]),I.jsxs(AU,{children:[I.jsx(ws,{path:"/",element:I.jsx(fZ,{})}),I.jsx(ws,{path:"/lists",element:I.jsx(HY,{})}),I.jsx(ws,{path:"/login",element:I.jsx(rZ,{})}),I.jsx(ws,{path:"/register",element:I.jsx(dZ,{})}),I.jsx(ws,{path:"/lists/:listId",element:I.jsx($X,{})}),I.jsx(ws,{path:"/editItem/:itemId",element:I.jsx(vY,{})}),I.jsx(ws,{path:"/reminders",element:I.jsx(Vx,{})}),I.jsx(ws,{path:"/reminders/:reminderId",element:I.jsx(Vx,{})})]})},DZ=n=>({getUserLists:e=>n(nW(e))}),PZ=Bs(null,DZ)(OZ),kZ="modulepreload",MZ=function(n){return"/TheRightWay/"+n},Lx={},VZ=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=Promise.allSettled(t.map(f=>{if(f=MZ(f),f in Lx)return;Lx[f]=!0;const h=f.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const v=document.createElement("link");if(v.rel=h?"stylesheet":kZ,h||(v.as="script"),v.crossOrigin="",v.href=f,c&&v.setAttribute("nonce",c),document.head.appendChild(v),h)return new Promise((E,S)=>{v.addEventListener("load",E),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return i.then(u=>{for(const c of u||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};function LZ(n={}){const{immediate:e=!1,onNeedRefresh:t,onOfflineReady:r,onRegistered:i,onRegisteredSW:o,onRegisterError:u}=n;let c,f;const h=async(v=!0)=>{await f};async function g(){if("serviceWorker"in navigator){if(c=await VZ(async()=>{const{Workbox:v}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:v}},[]).then(({Workbox:v})=>new v("/TheRightWay/sw.js",{scope:"/TheRightWay/",type:"classic"})).catch(v=>{u==null||u(v)}),!c)return;c.addEventListener("activated",v=>{(v.isUpdate||v.isExternal)&&window.location.reload()}),c.addEventListener("installed",v=>{v.isUpdate||r==null||r()}),c.register({immediate:e}).then(v=>{o?o("/TheRightWay/sw.js",v):i==null||i(v)}).catch(v=>{u==null||u(v)})}}return f=g(),h}function jZ(n={}){const{immediate:e=!0,onNeedRefresh:t,onOfflineReady:r,onRegistered:i,onRegisteredSW:o,onRegisterError:u}=n,[c,f]=b.useState(!1),[h,g]=b.useState(!1),[v]=b.useState(()=>LZ({immediate:e,onOfflineReady(){g(!0),r==null||r()},onNeedRefresh(){f(!0),t==null||t()},onRegistered:i,onRegisteredSW:o,onRegisterError:u}));return{needRefresh:[c,f],offlineReady:[h,g],updateServiceWorker:v}}const UZ="_reloadPromptContainer_13jje_1",BZ="_reloadPromptToast_13jje_8",FZ="_reloadPromptToastMessage_13jje_22",zZ="_reloadPromptToastButton_13jje_26",Sf={reloadPromptContainer:UZ,reloadPromptToast:BZ,reloadPromptToastMessage:FZ,reloadPromptToastButton:zZ},$Z=()=>{const{offlineReady:[n,e],needRefresh:[t,r],updateServiceWorker:i}=jZ({onRegistered(u){console.info("SW Registered: "+u)},onRegisterError(u){console.info("SW registration error",u)}}),o=()=>{e(!1),r(!1)};return I.jsx("div",{className:Sf.reloadPromptContainer,children:(n||t)&&I.jsxs("div",{className:Sf.reloadPromptToast,children:[I.jsx("div",{className:Sf.reloadPromptToastMessage,children:n?I.jsx("span",{children:"App ready to work offline"}):I.jsx("span",{children:"New content available, click on reload button to update."})}),t&&I.jsx("button",{className:Sf.reloadPromptToastButton,onClick:()=>i(!0),children:"Reload"}),I.jsx("button",{className:Sf.reloadPromptToastButton,onClick:()=>o(),children:"Close"})]})})},qZ=document.getElementById("root"),HZ=jL.createRoot(qZ);HZ.render(I.jsx(Rt.StrictMode,{children:I.jsx(Pj,{store:v2,children:I.jsx(YU,{basename:"/TheRightWay/",children:I.jsxs(aN,{loading:null,persistor:V0,children:[I.jsx(PZ,{}),I.jsx($Z,{})]})})})}));
